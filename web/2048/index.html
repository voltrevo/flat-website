<!DOCTYPE html><html lang='en'><head><meta charset='utf-8'><title></title><script>(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// http://wiki.commonjs.org/wiki/Unit_Testing/1.0
//
// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!
//
// Originally from narwhal.js (http://narwhaljs.org)
// Copyright (c) 2009 Thomas Robinson <280north.com>
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the 'Software'), to
// deal in the Software without restriction, including without limitation the
// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
// sell copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

// when used in node, this will actually load the util module we depend on
// versus loading the builtin util module as happens otherwise
// this is a bug in node module loading as far as I am concerned
var util = require('util/');

var pSlice = Array.prototype.slice;
var hasOwn = Object.prototype.hasOwnProperty;

// 1. The assert module provides functions that throw
// AssertionError's when particular conditions are not met. The
// assert module must conform to the following interface.

var assert = module.exports = ok;

// 2. The AssertionError is defined in assert.
// new assert.AssertionError({ message: message,
//                             actual: actual,
//                             expected: expected })

assert.AssertionError = function AssertionError(options) {
  this.name = 'AssertionError';
  this.actual = options.actual;
  this.expected = options.expected;
  this.operator = options.operator;
  if (options.message) {
    this.message = options.message;
    this.generatedMessage = false;
  } else {
    this.message = getMessage(this);
    this.generatedMessage = true;
  }
  var stackStartFunction = options.stackStartFunction || fail;

  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, stackStartFunction);
  }
  else {
    // non v8 browsers so we can have a stacktrace
    var err = new Error();
    if (err.stack) {
      var out = err.stack;

      // try to strip useless frames
      var fn_name = stackStartFunction.name;
      var idx = out.indexOf('\n' + fn_name);
      if (idx >= 0) {
        // once we have located the function frame
        // we need to strip out everything before it (and its line)
        var next_line = out.indexOf('\n', idx + 1);
        out = out.substring(next_line + 1);
      }

      this.stack = out;
    }
  }
};

// assert.AssertionError instanceof Error
util.inherits(assert.AssertionError, Error);

function replacer(key, value) {
  if (util.isUndefined(value)) {
    return '' + value;
  }
  if (util.isNumber(value) && !isFinite(value)) {
    return value.toString();
  }
  if (util.isFunction(value) || util.isRegExp(value)) {
    return value.toString();
  }
  return value;
}

function truncate(s, n) {
  if (util.isString(s)) {
    return s.length < n ? s : s.slice(0, n);
  } else {
    return s;
  }
}

function getMessage(self) {
  return truncate(JSON.stringify(self.actual, replacer), 128) + ' ' +
         self.operator + ' ' +
         truncate(JSON.stringify(self.expected, replacer), 128);
}

// At present only the three keys mentioned above are used and
// understood by the spec. Implementations or sub modules can pass
// other keys to the AssertionError's constructor - they will be
// ignored.

// 3. All of the following functions must throw an AssertionError
// when a corresponding condition is not met, with a message that
// may be undefined if not provided.  All assertion methods provide
// both the actual and expected values to the assertion error for
// display purposes.

function fail(actual, expected, message, operator, stackStartFunction) {
  throw new assert.AssertionError({
    message: message,
    actual: actual,
    expected: expected,
    operator: operator,
    stackStartFunction: stackStartFunction
  });
}

// EXTENSION! allows for well behaved errors defined elsewhere.
assert.fail = fail;

// 4. Pure assertion tests whether a value is truthy, as determined
// by !!guard.
// assert.ok(guard, message_opt);
// This statement is equivalent to assert.equal(true, !!guard,
// message_opt);. To test strictly for the value true, use
// assert.strictEqual(true, guard, message_opt);.

function ok(value, message) {
  if (!value) fail(value, true, message, '==', assert.ok);
}
assert.ok = ok;

// 5. The equality assertion tests shallow, coercive equality with
// ==.
// assert.equal(actual, expected, message_opt);

assert.equal = function equal(actual, expected, message) {
  if (actual != expected) fail(actual, expected, message, '==', assert.equal);
};

// 6. The non-equality assertion tests for whether two objects are not equal
// with != assert.notEqual(actual, expected, message_opt);

assert.notEqual = function notEqual(actual, expected, message) {
  if (actual == expected) {
    fail(actual, expected, message, '!=', assert.notEqual);
  }
};

// 7. The equivalence assertion tests a deep equality relation.
// assert.deepEqual(actual, expected, message_opt);

assert.deepEqual = function deepEqual(actual, expected, message) {
  if (!_deepEqual(actual, expected)) {
    fail(actual, expected, message, 'deepEqual', assert.deepEqual);
  }
};

function _deepEqual(actual, expected) {
  // 7.1. All identical values are equivalent, as determined by ===.
  if (actual === expected) {
    return true;

  } else if (util.isBuffer(actual) && util.isBuffer(expected)) {
    if (actual.length != expected.length) return false;

    for (var i = 0; i < actual.length; i++) {
      if (actual[i] !== expected[i]) return false;
    }

    return true;

  // 7.2. If the expected value is a Date object, the actual value is
  // equivalent if it is also a Date object that refers to the same time.
  } else if (util.isDate(actual) && util.isDate(expected)) {
    return actual.getTime() === expected.getTime();

  // 7.3 If the expected value is a RegExp object, the actual value is
  // equivalent if it is also a RegExp object with the same source and
  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).
  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {
    return actual.source === expected.source &&
           actual.global === expected.global &&
           actual.multiline === expected.multiline &&
           actual.lastIndex === expected.lastIndex &&
           actual.ignoreCase === expected.ignoreCase;

  // 7.4. Other pairs that do not both pass typeof value == 'object',
  // equivalence is determined by ==.
  } else if (!util.isObject(actual) && !util.isObject(expected)) {
    return actual == expected;

  // 7.5 For all other Object pairs, including Array objects, equivalence is
  // determined by having the same number of owned properties (as verified
  // with Object.prototype.hasOwnProperty.call), the same set of keys
  // (although not necessarily the same order), equivalent values for every
  // corresponding key, and an identical 'prototype' property. Note: this
  // accounts for both named and indexed properties on Arrays.
  } else {
    return objEquiv(actual, expected);
  }
}

function isArguments(object) {
  return Object.prototype.toString.call(object) == '[object Arguments]';
}

function objEquiv(a, b) {
  if (util.isNullOrUndefined(a) || util.isNullOrUndefined(b))
    return false;
  // an identical 'prototype' property.
  if (a.prototype !== b.prototype) return false;
  // if one is a primitive, the other must be same
  if (util.isPrimitive(a) || util.isPrimitive(b)) {
    return a === b;
  }
  var aIsArgs = isArguments(a),
      bIsArgs = isArguments(b);
  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))
    return false;
  if (aIsArgs) {
    a = pSlice.call(a);
    b = pSlice.call(b);
    return _deepEqual(a, b);
  }
  var ka = objectKeys(a),
      kb = objectKeys(b),
      key, i;
  // having the same number of owned properties (keys incorporates
  // hasOwnProperty)
  if (ka.length != kb.length)
    return false;
  //the same set of keys (although not necessarily the same order),
  ka.sort();
  kb.sort();
  //~~~cheap key test
  for (i = ka.length - 1; i >= 0; i--) {
    if (ka[i] != kb[i])
      return false;
  }
  //equivalent values for every corresponding key, and
  //~~~possibly expensive deep test
  for (i = ka.length - 1; i >= 0; i--) {
    key = ka[i];
    if (!_deepEqual(a[key], b[key])) return false;
  }
  return true;
}

// 8. The non-equivalence assertion tests for any deep inequality.
// assert.notDeepEqual(actual, expected, message_opt);

assert.notDeepEqual = function notDeepEqual(actual, expected, message) {
  if (_deepEqual(actual, expected)) {
    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);
  }
};

// 9. The strict equality assertion tests strict equality, as determined by ===.
// assert.strictEqual(actual, expected, message_opt);

assert.strictEqual = function strictEqual(actual, expected, message) {
  if (actual !== expected) {
    fail(actual, expected, message, '===', assert.strictEqual);
  }
};

// 10. The strict non-equality assertion tests for strict inequality, as
// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);

assert.notStrictEqual = function notStrictEqual(actual, expected, message) {
  if (actual === expected) {
    fail(actual, expected, message, '!==', assert.notStrictEqual);
  }
};

function expectedException(actual, expected) {
  if (!actual || !expected) {
    return false;
  }

  if (Object.prototype.toString.call(expected) == '[object RegExp]') {
    return expected.test(actual);
  } else if (actual instanceof expected) {
    return true;
  } else if (expected.call({}, actual) === true) {
    return true;
  }

  return false;
}

function _throws(shouldThrow, block, expected, message) {
  var actual;

  if (util.isString(expected)) {
    message = expected;
    expected = null;
  }

  try {
    block();
  } catch (e) {
    actual = e;
  }

  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +
            (message ? ' ' + message : '.');

  if (shouldThrow && !actual) {
    fail(actual, expected, 'Missing expected exception' + message);
  }

  if (!shouldThrow && expectedException(actual, expected)) {
    fail(actual, expected, 'Got unwanted exception' + message);
  }

  if ((shouldThrow && actual && expected &&
      !expectedException(actual, expected)) || (!shouldThrow && actual)) {
    throw actual;
  }
}

// 11. Expected to throw an error:
// assert.throws(block, Error_opt, message_opt);

assert.throws = function(block, /*optional*/error, /*optional*/message) {
  _throws.apply(this, [true].concat(pSlice.call(arguments)));
};

// EXTENSION! This is annoying to write outside this module.
assert.doesNotThrow = function(block, /*optional*/message) {
  _throws.apply(this, [false].concat(pSlice.call(arguments)));
};

assert.ifError = function(err) { if (err) {throw err;}};

var objectKeys = Object.keys || function (obj) {
  var keys = [];
  for (var key in obj) {
    if (hasOwn.call(obj, key)) keys.push(key);
  }
  return keys;
};

},{"util/":7}],2:[function(require,module,exports){
(function (global){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** `Object#toString` result references. */
var funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var splice = arrayProto.splice;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache);
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

module.exports = memoize;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],3:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],4:[function(require,module,exports){
/*eslint-env browser */

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
function getHead() {
  return document.head || document.getElementsByTagName('head')[0];
}

function attachAttributes(tag, attributes) {
  for (var key in attributes) {
    if (!attributes.hasOwnProperty(key)) {
      continue;
    }
    var value = attributes[key];
    tag.setAttribute('data-' + key, value);
  }
}

var insertCSS = {
  // Create a <link> tag with optional data attributes
  createLink: function createLink(href) {
    var head = getHead();
    var link = document.createElement('link');

    link.href = href;
    link.rel = 'stylesheet';

    attachAttributes(link);

    head.appendChild(link);

    return link;
  },
  // Create a <style> tag with optional data attributes
  createStyle: function createStyle(cssText, attributes) {
    var head = getHead();
    var style = document.createElement('style');

    style.type = 'text/css';

    attachAttributes(style, attributes);

    if (style.sheet) {
      // for jsdom and IE9+
      style.innerHTML = cssText;
      style.sheet.cssText = cssText;
      head.appendChild(style);
    } else if (style.styleSheet) {
      // for IE8 and below
      head.appendChild(style);
      style.styleSheet.cssText = cssText;
    } else {
      // for Chrome, Firefox, and Safari
      style.appendChild(document.createTextNode(cssText));
      head.appendChild(style);
    }

    return style;
  }
};

exports['default'] = insertCSS;
module.exports = exports['default'];
},{}],5:[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],6:[function(require,module,exports){
module.exports = function isBuffer(arg) {
  return arg && typeof arg === 'object'
    && typeof arg.copy === 'function'
    && typeof arg.fill === 'function'
    && typeof arg.readUInt8 === 'function';
}
},{}],7:[function(require,module,exports){
(function (process,global){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  // Allow for deprecating things in the process of starting up.
  if (isUndefined(global.process)) {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  if (process.noDeprecation === true) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnviron;
exports.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = require('./support/isBuffer');

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = require('inherits');

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":6,"_process":3,"inherits":5}],8:[function(require,module,exports){
'use strict';

module.exports = function() {
  var collection = {};

  var elements = [];

  collection.add = function(value) {
    var element = { value: value };
    elements.push(element);

    return {
      remove: function() {
        element.value = undefined;
      }
    };
  };

  collection.toArray = function() {
    elements = elements.filter(function(element) {
      return element.value !== undefined;
    });

    return elements.map(function(element) {
      return element.value;
    });
  };

  return collection;
};

},{}],9:[function(require,module,exports){
'use strict';

module.exports = function(defaultGenerator) {
  var map = {};

  var underlyingMap = {};

  map.get = function(key) {
    var value = underlyingMap[key];

    if (value === undefined) {
      value = defaultGenerator();
      map.set(key, value);
    }

    return value;
  };

  map.set = function(key, value) {
    underlyingMap[key] = value;
  };

  return map;
};

},{}],10:[function(require,module,exports){
(function (global){
'use strict';

var Collection = require('./Collection.js');
var MapWithDefault = require('./MapWithDefault.js');

module.exports = function(asyncParam) {
  var async = asyncParam || global.setTimeout;

  var eventEmitter = {};

  var events = MapWithDefault(Collection);

  eventEmitter.on = function(evt, handler) {
    return events.get(evt).add(handler);
  };

  eventEmitter.once = function(evt, handler) {
    var listener = events.get(evt).add(function(value) {
      listener.remove();
      handler(value);
    });

    return listener;
  };

  eventEmitter.emit = function(evt, value) {
    async(function() {
      events.get(evt).toArray().forEach(function(handler) {
        handler(value);
      });
    });
  };

  return eventEmitter;
};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./Collection.js":8,"./MapWithDefault.js":9}],11:[function(require,module,exports){
'use strict';

var assert = require('assert');

var cellsToSeed = require('./cellsToSeed.js');
var rand = require('./rand.js');
var range = require('./range.js');
var stringToSeed = require('./stringToSeed.js');

var copyCells = function copyCells(cells) {
  return cells.map(function (row) {
    return row.map(function (cell) {
      return cell;
    });
  });
};

var repeatStr = function repeatStr(str, n) {
  var result = '';

  for (var i = 0; i < n; i++) {
    result += str;
  }

  return result;
};

var padNum = function padNum(n, len) {
  var nStr = String(n);

  return repeatStr(' ', len - nStr.length) + nStr;
};

var Board = function Board(argInput) {
  // This is a workaround for browserify's parser and nodejs not supporting this type of argument
  // destructuring: ({ x = 1, y = 2 } = {}) => x + y;
  var arg = argInput || {};
  var gameSeed = arg.gameSeed || '';
  var inputCells = arg.cells || range(4).map(function () {
    return [0, 0, 0, 0];
  });

  var board = {};

  var cells = copyCells(inputCells);

  board.getCells = function () {
    return copyCells(cells);
  };

  var countEmptyCells = function countEmptyCells() {
    var count = 0;

    for (var x = 0; x !== 4; x++) {
      for (var y = 0; y !== 4; y++) {
        if (cells[x][y] === 0) {
          count++;
        }
      }
    }

    return count;
  };

  var insertRandomBlock = function insertRandomBlock() {
    var emptyCount = countEmptyCells();

    if (emptyCount === 0) {
      return false;
    }

    // Extract both random decisions from the same rand value.
    var randVal = rand(stringToSeed(gameSeed) + cellsToSeed(cells));
    randVal *= 10;

    var blockVal = randVal < 1 ? 4 : 2;
    randVal = randVal - Math.floor(randVal);

    var blockIndex = Math.floor(emptyCount * randVal);

    var emptySoFar = 0;

    for (var x = 0; x !== 4; x++) {
      for (var y = 0; y !== 4; y++) {
        if (cells[x][y] === 0) {
          if (emptySoFar === blockIndex) {
            cells[x][y] = blockVal;
            return true;
          }

          emptySoFar++;
        }
      }
    }

    assert(false);
    return undefined;
  };

  // If the board is empty, insert two random blocks
  if (countEmptyCells() === 16) {
    range(2).forEach(insertRandomBlock);
  }

  var collapseUp = function collapseUp(get, set) {
    var changed = false;

    var _loop = function _loop(x) {
      var row = range(4).map(function (y) {
        return get(x, y);
      });
      var filteredRow = row.filter(function (v) {
        return v !== 0;
      });
      var newRow = [];

      (function () {
        var y = 0;

        while (y < filteredRow.length) {
          if (filteredRow[y] === filteredRow[y + 1]) {
            newRow.push(2 * filteredRow[y]);
            y += 2;
          } else {
            newRow.push(filteredRow[y]);
            y += 1;
          }
        }
      })();

      var paddedNewRow = range(4).map(function (y) {
        return newRow[y] || 0;
      });

      range(4).forEach(function (y) {
        if (row[y] !== paddedNewRow[y]) {
          changed = true;
        }
      });

      range(4).forEach(function (y) {
        return set(x, y, paddedNewRow[y]);
      });
    };

    for (var x = 0; x !== 4; x++) {
      _loop(x);
    }

    return changed;
  };

  board.left = function () {
    return collapseUp(function (x, y) {
      return cells[y][x];
    }, function (x, y, v) {
      cells[y][x] = v;
    }) && insertRandomBlock();
  };

  board.right = function () {
    return collapseUp(function (x, y) {
      return cells[3 - y][x];
    }, function (x, y, v) {
      cells[3 - y][x] = v;
    }) && insertRandomBlock();
  };

  board.up = function () {
    return collapseUp(function (x, y) {
      return cells[x][y];
    }, function (x, y, v) {
      cells[x][y] = v;
    }) && insertRandomBlock();
  };

  board.down = function () {
    return collapseUp(function (x, y) {
      return cells[x][3 - y];
    }, function (x, y, v) {
      cells[x][3 - y] = v;
    }) && insertRandomBlock();
  };

  board.clone = function () {
    return Board({ gameSeed: gameSeed, cells: cells });
  };

  ['Left', 'Right', 'Up', 'Down'].forEach(function (direction) {
    board['clone' + direction] = function () {
      var newBoard = board.clone();
      var success = newBoard[direction.toLowerCase()]();

      return success ? newBoard : null;
    };
  });

  board.prettyString = function () {
    var maxLen = Array.prototype.concat.apply([], cells).map(function (n) {
      return String(n).length;
    }).reduce(function (a, b) {
      return Math.max(a, b);
    });

    var horizBorder = '+' + repeatStr('-', 4 * (maxLen + 2)) + '+\n';

    var result = horizBorder;

    // This is why arrays are meant to be indexed by i and j, not x and y.
    for (var y = 0; y !== 4; y++) {
      result += '|';

      for (var x = 0; x !== 4; x++) {
        result += ' ' + padNum(cells[x][y], maxLen) + ' ';
      }

      result += '|\n';
    }

    result += horizBorder;

    return result;
  };

  board.isEqualTo = function (otherBoard) {
    var otherCells = otherBoard.getCells();

    for (var y = 0; y !== 4; y++) {
      for (var x = 0; x !== 4; x++) {
        if (cells[x][y] !== otherCells[x][y]) {
          return false;
        }
      }
    }

    return true;
  };

  return board;
};

module.exports = Board;

},{"./cellsToSeed.js":14,"./rand.js":23,"./range.js":24,"./stringToSeed.js":25,"assert":1}],12:[function(require,module,exports){
'use strict';

var assert = require('assert');

var EventEmitter = require('voltrevo-event-emitter');
var memoize = require('lodash.memoize');

var range = require('./range.js');

var urlRegex = /(2048|https?):\/\/[^;]+$/;

var arbitraryText = function arbitraryText() {
  return range(10).map(function () {
    return 'abcdefghijklmnopqrstuvwxyz'[Math.floor(26 * Math.random())];
  }).join('');
};

var arbitraryUrl = function arbitraryUrl() {
  return '2048://' + arbitraryText();
};

var localObjects = {
  '': ''
};

var appendLimit = 20000;

var fetchMoves = memoize(function (url) {
  return url in localObjects ? Promise.resolve(localObjects[url]) : fetch('https://crossorigin.me/' + url).then(function (res) {
    return res.text();
  }).then(function (text) {
    return text.replace(/[^lrud]/g, '');
  });
});

var MoveStore = function MoveStore(moves) {
  var moveStore = {};

  moveStore.events = EventEmitter();

  var data = {};

  moveStore.set = function () {
    var moveString = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';

    if (urlRegex.test(moveString)) {
      data.remote = moveString;
      data.shortenRemote = 0;
      data.append = '';
    } else if (moveString.split(';').length === 3) {
      var parts = moveString.split(';');
      data.remote = parts[0];
      data.shortenRemote = Number(parts[1]);
      data.append = parts[2];
    } else {
      data.remote = '';
      data.shortenRemote = 0;
      data.append = moveString;
    }

    assert(data.remote === '' || urlRegex.test(data.remote));
    assert(typeof data.shortenRemote === 'number');
    assert(data.shortenRemote >= 0);
    assert(/[lrud]*/.test(data.append));
  };

  moveStore.set(moves);

  moveStore.get = function () {
    if (data.remote === '') {
      return data.append;
    }

    if (data.append === '' && data.shortenRemote === 0) {
      return data.remote;
    }

    return [data.remote, data.shortenRemote, data.append].join(';');
  };

  moveStore.shorten = function (n) {
    var appendShortenLen = Math.min(data.append.length, n);
    data.append = data.append.substring(0, data.append.length - appendShortenLen);

    data.shortenRemote += n - appendShortenLen;
    data.shortenRemote = Math.max(0, data.shortenRemote);
  };

  moveStore.append = function (str) {
    data.append += str;

    if (data.append.length <= appendLimit) {
      return;
    }

    var copy = MoveStore(moveStore.get());

    copy.resolve().then(function (resolvedMoves) {
      if (copy.get() !== moveStore.get()) {
        moveStore.append(''); // Try again
        return;
      }

      var url = arbitraryUrl();
      localObjects[url] = resolvedMoves;
      data.remote = url;
      data.shortenRemote = 0;
      data.append = '';

      moveStore.events.emit('abbreviation');
    });
  };

  moveStore.resolve = function () {
    return fetchMoves(data.remote).then(function (remoteText) {
      return remoteText.substring(0, remoteText.length - data.shortenRemote);
    }).then(function (shortenedRemoteText) {
      return shortenedRemoteText + data.append;
    });
  };

  return moveStore;
};

module.exports = MoveStore;

},{"./range.js":24,"assert":1,"lodash.memoize":2,"voltrevo-event-emitter":10}],13:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

require('./style/main.scss');

var Container = require('./html/container.html');

var GameManager = require('./game_manager.js');
var KeyboardInputManager = require('./keyboard_input_manager.js');
var LocalStorageManager = require('./local_storage_manager.js');
var HTMLActuator = require('./html_actuator.js');
var MoveStore = require('./MoveStore.js');

var _window$location$hash = window.location.hash.slice(1).split(',');

var _window$location$hash2 = _slicedToArray(_window$location$hash, 2);

var _window$location$hash3 = _window$location$hash2[0];
var gameSeed = _window$location$hash3 === undefined ? '' : _window$location$hash3;
var _window$location$hash4 = _window$location$hash2[1];
var moves = _window$location$hash4 === undefined ? '' : _window$location$hash4;


window.Board = require('./Board.js');

// Wait till the browser is ready to render the game (avoids glitches)
window.requestAnimationFrame(function () {
  document.body.appendChild(Container());

  window.gameManager = new GameManager({
    size: 4,
    gameSeed: gameSeed,
    moveStore: MoveStore(moves),
    InputManager: KeyboardInputManager,
    Actuator: HTMLActuator,
    StorageManager: LocalStorageManager
  });
});

},{"./Board.js":11,"./MoveStore.js":12,"./game_manager.js":15,"./html/container.html":18,"./html_actuator.js":19,"./keyboard_input_manager.js":20,"./local_storage_manager.js":21,"./style/main.scss":26}],14:[function(require,module,exports){
'use strict';

var sqrt2 = Math.sqrt(2);
var sqrt3 = Math.sqrt(3);

module.exports = function (cells) {
  var seed = 0;

  for (var x = 0; x !== 4; x++) {
    for (var y = 0; y !== 4; y++) {
      seed += (sqrt3 + 4 * x + y) * cells[x][y];
    }
  }

  seed *= sqrt2;
  seed -= Math.floor(seed);

  return seed;
};

},{}],15:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var AbbreviationWarning = require('./html/AbbreviationWarning.html');
var Board = require('./Board.js');
var cellsToSeed = require('./cellsToSeed.js');
var Grid = require('./grid.js');
var MoveStore = require('./MoveStore.js');
var onceLater = require('./onceLater.js');
var Tile = require('./tile.js');
var trivialGetSuggestion = require('./trivialGetSuggestion.js');
var rand = require('./rand.js');
var stringToSeed = require('./stringToSeed.js');

var GameManager = function GameManager(_ref) {
  var _this = this;

  var size = _ref.size;
  var gameSeed = _ref.gameSeed;
  var moveStore = _ref.moveStore;
  var InputManager = _ref.InputManager;
  var Actuator = _ref.Actuator;
  var StorageManager = _ref.StorageManager;
  var _ref$getSuggestion = _ref.getSuggestion;
  var getSuggestion = _ref$getSuggestion === undefined ? trivialGetSuggestion : _ref$getSuggestion;

  this.size = size; // Size of the grid
  this.gameSeed = gameSeed;
  this.inputManager = new InputManager();
  this.storageManager = new StorageManager();
  this.actuator = new Actuator();
  this.getSuggestion = getSuggestion;
  this.moveStore = moveStore;
  this.history = [];

  this.startTiles = 2;

  this.inputManager.on('move', this.move.bind(this));
  this.inputManager.on('restart', this.restart.bind(this));
  this.inputManager.on('keepPlaying', this.keepPlaying.bind(this));
  this.inputManager.on('undo', this.popHistory.bind(this));
  this.inputManager.on('acceptSuggestion', this.acceptSuggestion.bind(this));
  this.inputManager.on('toggleRun', this.toggleRun.bind(this));

  this.moveStore.events.once('abbreviation', function () {
    document.querySelector('#dynamic-info-box').appendChild(AbbreviationWarning());
  });

  window.addEventListener('hashchange', this.updateFromHash.bind(this));

  // If actuate is called many times quickly, it'll ignore all but the last call
  this.actuating = false;
  var oldActuate = onceLater(this.actuate.bind(this));

  this.actuate = function () {
    _this.actuating = true;
    oldActuate().then(function () {
      _this.actuating = false;
    });
  };

  this.setup();
  this.canRun = true;
};

// Restart the game
GameManager.prototype.restart = function restart() {
  this.actuator.continueGame(); // Clear the game won/lost message
  this.moveStore.set('');
  this.history = [];
  this.setup();
};

// Keep playing after winning (allows going over 2048)
GameManager.prototype.keepPlaying = function keepPlaying() {
  this.keepPlaying = true;
  this.actuator.continueGame(); // Clear the game won/lost message
};

// Return true if the game is lost, or has won and the user hasn't kept playing
GameManager.prototype.isGameTerminated = function isGameTerminated() {
  return this.over || this.won && !this.keepPlaying;
};

GameManager.prototype.replaySequence = function replaySequence(moves) {
  var _this2 = this;

  var record = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

  moves.split('').forEach(function (moveLetter) {
    if (_this2.won) {
      _this2.keepPlaying = true;
    }

    _this2.move('urdl'.indexOf(moveLetter), record);
  });
};

// Set up the game
GameManager.prototype.setup = function setup() {
  var _this3 = this;

  this.grid = new Grid(this.size);
  this.score = 0;
  this.over = false;
  this.won = false;
  this.keepPlaying = false;
  this.history = [];

  // Add the initial tiles
  this.addStartTiles();
  this.pushHistory();

  this.moveStore.resolve().then(function (moves) {
    _this3.replaySequence(moves, false);

    // Update the actuator
    _this3.actuate();
  });
};

// Set up the initial tiles to start the game with
GameManager.prototype.addStartTiles = function addStartTiles() {
  for (var i = 0; i < this.startTiles; i++) {
    this.addRandomTile();
  }
};

// Adds a tile in a random position
GameManager.prototype.addRandomTile = function addRandomTile() {
  if (this.grid.cellsAvailable()) {
    // Extract both random decisions from the same rand value.
    var randVal = rand(stringToSeed(this.gameSeed) + this.getStateSeed());
    randVal *= 10;

    var value = randVal < 1 ? 4 : 2;
    randVal = randVal - Math.floor(randVal);

    var tile = new Tile(this.grid.randomAvailableCell(randVal), value);

    this.grid.insertTile(tile);
  }
};

// Sends the updated grid to the actuator
GameManager.prototype.actuate = function actuate() {
  if (this.storageManager.getBestScore() < this.score) {
    this.storageManager.setBestScore(this.score);
  }

  window.location.hash = '#' + this.gameSeed + ',' + this.moveStore.get();

  this.actuator.actuate(this.grid, {
    score: this.score,
    over: this.over,
    won: this.won,
    bestScore: this.storageManager.getBestScore(),
    terminated: this.isGameTerminated(),
    suggestion: this.getSuggestion ? this.getSuggestion(this.createBoard()) : ''
  });
};

// Represent the current game as an object
GameManager.prototype.serialize = function serialize() {
  return {
    grid: this.grid.serialize(),
    score: this.score,
    over: this.over,
    won: this.won,
    keepPlaying: this.keepPlaying
  };
};

// Save all tile positions and remove merger info
GameManager.prototype.prepareTiles = function prepareTiles() {
  this.grid.eachCell(function (x, y, tile) {
    if (tile) {
      /* eslint-disable no-param-reassign */ // FIXME
      tile.mergedFrom = null;
      /* eslint-enable no-param-reassign */
      tile.savePosition();
    }
  });
};

// Move a tile and its representation
GameManager.prototype.moveTile = function moveTile(tile, cell) {
  this.grid.cells[tile.x][tile.y] = null;
  this.grid.cells[cell.x][cell.y] = tile;
  tile.updatePosition(cell);
};

// Move tiles on the grid in the specified direction
GameManager.prototype.move = function move(direction) {
  var record = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

  // 0: up, 1: right, 2: down, 3: left
  var self = this;

  if (this.isGameTerminated()) return; // Don't do anything if the game's over

  var vector = this.getVector(direction);
  var traversals = this.buildTraversals(vector);
  var moved = false;

  // Save the current tile positions and remove merger information
  this.prepareTiles();

  // Traverse the grid in the right direction and move tiles
  traversals.x.forEach(function (x) {
    traversals.y.forEach(function (y) {
      var cell = { x: x, y: y };
      var tile = self.grid.cellContent(cell);

      if (tile) {
        var positions = self.findFarthestPosition(cell, vector);
        var next = self.grid.cellContent(positions.next);

        // Only one merger per row traversal?
        if (next && next.value === tile.value && !next.mergedFrom) {
          var merged = new Tile(positions.next, tile.value * 2);
          merged.mergedFrom = [tile, next];

          self.grid.insertTile(merged);
          self.grid.removeTile(tile);

          // Converge the two tiles' positions
          tile.updatePosition(positions.next);

          // Update the score
          self.score += merged.value;

          // The mighty 2048 tile
          if (merged.value === 2048) self.won = true;
        } else {
          self.moveTile(tile, positions.farthest);
        }

        if (!self.positionsEqual(cell, tile)) {
          moved = true; // The tile moved from its original cell!
        }
      }
    });
  });

  if (moved) {
    this.addRandomTile();

    if (record) {
      this.moveStore.append('urdl'[direction]);
    }

    this.pushHistory();

    if (!this.movesAvailable()) {
      this.over = true; // Game over!
    }

    this.actuate();
  }
};

// Get the vector representing the chosen direction
GameManager.prototype.getVector = function getVector(direction) {
  // Vectors representing tile movement
  var map = {
    0: { x: 0, y: -1 }, // Up
    1: { x: 1, y: 0 }, // Right
    2: { x: 0, y: 1 }, // Down
    3: { x: -1, y: 0 } };

  return map[direction];
};

// Build a list of positions to traverse in the right order
GameManager.prototype.buildTraversals = function buildTraversals(vector) {
  var traversals = { x: [], y: [] };

  for (var pos = 0; pos < this.size; pos++) {
    traversals.x.push(pos);
    traversals.y.push(pos);
  }

  // Always traverse from the farthest cell in the chosen direction
  if (vector.x === 1) traversals.x = traversals.x.reverse();
  if (vector.y === 1) traversals.y = traversals.y.reverse();

  return traversals;
};

GameManager.prototype.findFarthestPosition = function findFarthestPosition(cellInput, vector) {
  var previous = void 0;
  var cell = cellInput;

  // Progress towards the vector direction until an obstacle is found
  do {
    previous = cell;
    cell = { x: previous.x + vector.x, y: previous.y + vector.y };
  } while (this.grid.withinBounds(cell) && this.grid.cellAvailable(cell));

  return {
    farthest: previous,
    next: cell };
};

GameManager.prototype.movesAvailable = function movesAvailable() {
  return this.grid.cellsAvailable() || this.tileMatchesAvailable();
};

// Check for available matches between tiles (more expensive check)
GameManager.prototype.tileMatchesAvailable = function tileMatchesAvailable() {
  var self = this;

  for (var x = 0; x < this.size; x++) {
    for (var y = 0; y < this.size; y++) {
      var tile = this.grid.cellContent({ x: x, y: y });

      if (tile) {
        for (var direction = 0; direction < 4; direction++) {
          var vector = self.getVector(direction);
          var cell = { x: x + vector.x, y: y + vector.y };

          var other = self.grid.cellContent(cell);

          if (other && other.value === tile.value) {
            return true; // These two tiles can be merged
          }
        }
      }
    }
  }

  return false;
};

GameManager.prototype.positionsEqual = function positionsEqual(first, second) {
  return first.x === second.x && first.y === second.y;
};

GameManager.prototype.getState = function getState() {
  return {
    cells: this.grid.serialize().cells,
    score: this.score
  };
};

GameManager.prototype.pushHistory = function pushHistory() {
  this.history.push(this.getState());
};

GameManager.prototype.stateTransition = function stateTransition(prevState, currState) {
  this.grid.cells = this.grid.fromState(currState.cells);

  for (var x = 0; x !== this.size; x++) {
    for (var y = 0; y !== this.size; y++) {
      var prevTile = prevState.cells[x][y];
      var currTile = currState.cells[x][y];

      if (prevTile && currTile && prevTile.value === currTile.value) {
        this.grid.cells[x][y].savePosition();
      }
    }
  }

  this.score = currState.score;
  this.over = !this.movesAvailable();
};

GameManager.prototype.popHistory = function popHistory() {
  // Ignore if there won't be any state left.
  if (this.history.length <= 1) {
    return;
  }

  var prevState = this.history.pop();
  var currState = this.history[this.history.length - 1];

  this.stateTransition(prevState, currState);

  this.moveStore.shorten(1);

  this.actuate();
};

var longestCommonPrefix = function longestCommonPrefix(str1, str2) {
  var i = 0;
  var minLen = Math.min(str1.length, str2.length);

  while (i < minLen && str1[i] === str2[i]) {
    i++;
  }

  return str1.slice(0, i);
};

GameManager.prototype.updateFromHash = function updateFromHash() {
  var _this4 = this;

  var _window$location$hash = window.location.hash.slice(1).split(',');

  var _window$location$hash2 = _slicedToArray(_window$location$hash, 2);

  var _window$location$hash3 = _window$location$hash2[0];
  var gameSeed = _window$location$hash3 === undefined ? '' : _window$location$hash3;
  var _window$location$hash4 = _window$location$hash2[1];
  var moveString = _window$location$hash4 === undefined ? '' : _window$location$hash4;


  if (gameSeed !== this.gameSeed) {
    this.gameSeed = gameSeed;
    this.moveStore.set(moveString);

    this.setup();
  } else if (moveString !== this.moveStore.get()) {
    Promise.all([this.moveStore.resolve(), MoveStore(moveString).resolve()]).then(function (_ref2) {
      var _ref3 = _slicedToArray(_ref2, 2);

      var oldMoves = _ref3[0];
      var newMoves = _ref3[1];

      var commonMoves = longestCommonPrefix(oldMoves, newMoves);
      var extraMoves = newMoves.slice(commonMoves.length);

      var prevState = _this4.getState();
      _this4.history = _this4.history.slice(0, commonMoves.length + 1);
      _this4.replaySequence(extraMoves);

      var currState = _this4.history[_this4.history.length - 1];
      _this4.stateTransition(prevState, currState);
      _this4.moveStore.set(moveString);

      _this4.actuate();
    });
  }
};

GameManager.prototype.getPlainCells = function getPlainCells() {
  return this.grid.cells.map(function (col) {
    return col.map(function (tile) {
      return tile ? tile.value : 0;
    });
  });
};

GameManager.prototype.createBoard = function createBoard() {
  return Board({
    gameSeed: this.gameSeed,
    cells: this.getPlainCells()
  });
};

GameManager.prototype.acceptSuggestion = function acceptSuggestion() {
  if (!this.getSuggestion) {
    return;
  }

  if (this.actuating) {
    return;
  }

  var suggestion = this.getSuggestion(this.createBoard());

  this.move(['up', 'right', 'down', 'left'].indexOf(suggestion));
};

GameManager.prototype.getStateSeed = function getStateSeed() {
  return cellsToSeed(this.getPlainCells());
};

GameManager.prototype.toggleRun = function run() {
  var _this5 = this;

  this.keepPlaying = true;

  if (this.running === true) {
    this.running = false;
    return;
  }

  this.running = true;

  var loop = function loop() {
    if (!_this5.running) {
      return;
    }

    setTimeout(function () {
      _this5.acceptSuggestion();
      requestAnimationFrame(loop);
    });
  };

  requestAnimationFrame(loop);
};

module.exports = GameManager;

},{"./Board.js":11,"./MoveStore.js":12,"./cellsToSeed.js":14,"./grid.js":16,"./html/AbbreviationWarning.html":17,"./onceLater.js":22,"./rand.js":23,"./stringToSeed.js":25,"./tile.js":27,"./trivialGetSuggestion.js":28}],16:[function(require,module,exports){
'use strict';

var Tile = require('./tile.js');

function Grid(size, previousState) {
  this.size = size;
  this.cells = previousState ? this.fromState(previousState) : this.empty();
}

// Build a grid of the specified size
Grid.prototype.empty = function empty() {
  var cells = [];

  for (var x = 0; x < this.size; x++) {
    var row = cells[x] = [];

    for (var y = 0; y < this.size; y++) {
      row.push(null);
    }
  }

  return cells;
};

Grid.prototype.fromState = function fromState(state) {
  var cells = [];

  for (var x = 0; x < this.size; x++) {
    var row = cells[x] = [];

    for (var y = 0; y < this.size; y++) {
      var tile = state[x][y];
      row.push(tile ? new Tile(tile.position, tile.value) : null);
    }
  }

  return cells;
};

// Find the first available random position
Grid.prototype.randomAvailableCell = function randomAvailableCell(randVal) {
  var cells = this.availableCells();

  return cells[Math.floor(randVal * cells.length)];
};

Grid.prototype.availableCells = function availableCells() {
  var cells = [];

  this.eachCell(function (x, y, tile) {
    if (!tile) {
      cells.push({ x: x, y: y });
    }
  });

  return cells;
};

// Call callback for every cell
Grid.prototype.eachCell = function eachCell(callback) {
  for (var x = 0; x < this.size; x++) {
    for (var y = 0; y < this.size; y++) {
      callback(x, y, this.cells[x][y]);
    }
  }
};

// Check if there are any cells available
Grid.prototype.cellsAvailable = function cellsAvailable() {
  return !!this.availableCells().length;
};

// Check if the specified cell is taken
Grid.prototype.cellAvailable = function cellAvailable(cell) {
  return !this.cellOccupied(cell);
};

Grid.prototype.cellOccupied = function cellOccupied(cell) {
  return !!this.cellContent(cell);
};

Grid.prototype.cellContent = function cellContent(cell) {
  if (this.withinBounds(cell)) {
    return this.cells[cell.x][cell.y];
  }

  return null;
};

// Inserts a tile at its position
Grid.prototype.insertTile = function insertTile(tile) {
  this.cells[tile.x][tile.y] = tile;
};

Grid.prototype.removeTile = function removeTile(tile) {
  this.cells[tile.x][tile.y] = null;
};

Grid.prototype.withinBounds = function withinBounds(position) {
  return position.x >= 0 && position.x < this.size && position.y >= 0 && position.y < this.size;
};

Grid.prototype.serialize = function serialize() {
  var cellState = [];

  for (var x = 0; x < this.size; x++) {
    var row = cellState[x] = [];

    for (var y = 0; y < this.size; y++) {
      row.push(this.cells[x][y] ? this.cells[x][y].serialize() : null);
    }
  }

  return {
    size: this.size,
    cells: cellState
  };
};

module.exports = Grid;

},{"./tile.js":27}],17:[function(require,module,exports){
'use strict'

var parse = function(htmlStr) {
  var container = document.createElement('div')

  container.innerHTML = htmlStr

  if (container.children.length !== 1) {
    throw new Error(
      container.children.length +
      ' nodes in browserified html file AbbreviationWarning.html (needs to be just 1)'
    )
  }

  return container.firstChild
}

module.exports = function() {
  return parse(
    '<p>\n' +
    '  Important: Your url has been abbreviated and is no longer shareable. To fix this, find out more\n' +
    '  <a href="https://github.com/voltrevo/2048#url-hash-format">here</a>.\n' +
    '</p>\n' +
    ''
  )
}

},{}],18:[function(require,module,exports){
'use strict'

var parse = function(htmlStr) {
  var container = document.createElement('div')

  container.innerHTML = htmlStr

  if (container.children.length !== 1) {
    throw new Error(
      container.children.length +
      ' nodes in browserified html file container.html (needs to be just 1)'
    )
  }

  return container.firstChild
}

module.exports = function() {
  return parse(
    '<div class="container">\n' +
    '  <a href=\'https://github.com/voltrevo/2048\'><img style=\'position: fixed; top: 0; right: 0; border: 0;\' src=\'https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67\' alt=\'Fork me on GitHub\' data-canonical-src=\'https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png\'></a>\n' +
    '\n' +
    '  <div class="heading">\n' +
    '    <h1 class="title">2048</h1>\n' +
    '    <div class="scores-container">\n' +
    '      <div class="score-container">0</div>\n' +
    '      <div class="best-container">0</div>\n' +
    '    </div>\n' +
    '  </div>\n' +
    '\n' +
    '  <div class="above-game">\n' +
    '    <p class="game-intro">Join the numbers and get to the <strong>2048 tile!</strong></p>\n' +
    '    <a class="restart-button">New Game</a>\n' +
    '  </div>\n' +
    '\n' +
    '  <div id=\'dynamic-info-box\'>\n' +
    '    <hr>\n' +
    '    <p>Suggestion: <span id=\'suggestion-text\'></span></p>\n' +
    '  </div>\n' +
    '\n' +
    '  <div class="game-container">\n' +
    '    <div class="game-message">\n' +
    '      <p></p>\n' +
    '      <div class="lower">\n' +
    '        <a class="keep-playing-button">Keep going</a>\n' +
    '        <a class="retry-button">Try again</a>\n' +
    '      </div>\n' +
    '    </div>\n' +
    '\n' +
    '    <div class="grid-container">\n' +
    '      <div class="grid-row">\n' +
    '        <div class="grid-cell"></div>\n' +
    '        <div class="grid-cell"></div>\n' +
    '        <div class="grid-cell"></div>\n' +
    '        <div class="grid-cell"></div>\n' +
    '      </div>\n' +
    '      <div class="grid-row">\n' +
    '        <div class="grid-cell"></div>\n' +
    '        <div class="grid-cell"></div>\n' +
    '        <div class="grid-cell"></div>\n' +
    '        <div class="grid-cell"></div>\n' +
    '      </div>\n' +
    '      <div class="grid-row">\n' +
    '        <div class="grid-cell"></div>\n' +
    '        <div class="grid-cell"></div>\n' +
    '        <div class="grid-cell"></div>\n' +
    '        <div class="grid-cell"></div>\n' +
    '      </div>\n' +
    '      <div class="grid-row">\n' +
    '        <div class="grid-cell"></div>\n' +
    '        <div class="grid-cell"></div>\n' +
    '        <div class="grid-cell"></div>\n' +
    '        <div class="grid-cell"></div>\n' +
    '      </div>\n' +
    '    </div>\n' +
    '\n' +
    '    <div class="tile-container">\n' +
    '\n' +
    '    </div>\n' +
    '  </div>\n' +
    '\n' +
    '  <p class="game-explanation">\n' +
    '    <strong class="important">How to play:</strong> Use your <strong>arrow keys</strong> to move the tiles. When two tiles with the same number touch, they <strong>merge into one!</strong> Press <strong>backspace</strong> to undo and <strong>full stop</strong> to accept the suggested move.\n' +
    '  </p>\n' +
    '  <p>\n' +
    '    This game is designed to be an <strong>algorithmic challenge</strong>! More info <a href="https://github.com/voltrevo/2048">here</a>.\n' +
    '  </p>\n' +
    '  <hr>\n' +
    '  <p>\n' +
    '  <strong class="important">Note:</strong> This site is <strong>not</strong> the official version of 2048, but you can play the official version on your phone via <a href="http://git.io/2048">http://git.io/2048.</a> This site is a derivative or fake, and should be used with caution ;-).\n' +
    '  </p>\n' +
    '  <hr>\n' +
    '  <p>\n' +
    '  Created by <a href="https://andrewmorris.io">Andrew Morris</a>. Based on <a href="https://gabrielecirulli.github.io/2048/">2048 by Gabrielle Cirulli</a> and <a href="https://itunes.apple.com/us/app/1024!/id823499224">1024 by Veewo Studio</a> and conceptually similar to <a href="http://asherv.com/threes/">Threes by Asher Vollmer</a>.\n' +
    '  </p>\n' +
    '</div>\n' +
    ''
  )
}

},{}],19:[function(require,module,exports){
'use strict';

function HTMLActuator() {
  this.tileContainer = document.querySelector('.tile-container');
  this.scoreContainer = document.querySelector('.score-container');
  this.bestContainer = document.querySelector('.best-container');
  this.messageContainer = document.querySelector('.game-message');
  this.suggestionContainer = document.querySelector('#suggestion-text');

  this.score = 0;
}

HTMLActuator.prototype.actuate = function actuate(grid, metadata) {
  var self = this;

  window.requestAnimationFrame(function () {
    self.clearContainer(self.tileContainer);
    self.clearMessage();

    grid.cells.forEach(function (column) {
      column.forEach(function (cell) {
        if (cell) {
          self.addTile(cell);
        }
      });
    });

    self.updateScore(metadata.score);
    self.updateBestScore(metadata.bestScore);

    if (metadata.terminated) {
      if (metadata.over) {
        self.message(false); // You lose
      } else if (metadata.won) {
        self.message(true); // You win!
      }
    }

    self.updateSuggestion(metadata.suggestion);
  });
};

// Continues the game (both restart and keep playing)
HTMLActuator.prototype.continueGame = function continueGame() {
  this.clearMessage();
};

HTMLActuator.prototype.clearContainer = function clearContainer(container) {
  while (container.firstChild) {
    container.removeChild(container.firstChild);
  }
};

HTMLActuator.prototype.addTile = function addTile(tile) {
  var self = this;

  var wrapper = document.createElement('div');
  var inner = document.createElement('div');
  var position = tile.previousPosition || { x: tile.x, y: tile.y };
  var positionClass = this.positionClass(position);

  // We can't use classlist because it somehow glitches when replacing classes
  var classes = ['tile', 'tile-' + tile.value, positionClass];

  if (tile.value > 2048) classes.push('tile-super');

  this.applyClasses(wrapper, classes);

  inner.classList.add('tile-inner');
  inner.textContent = tile.value;

  if (tile.previousPosition) {
    // Make sure that the tile gets rendered in the previous position first
    window.requestAnimationFrame(function () {
      classes[2] = self.positionClass({ x: tile.x, y: tile.y });
      self.applyClasses(wrapper, classes); // Update the position
    });
  } else if (tile.mergedFrom) {
    classes.push('tile-merged');
    this.applyClasses(wrapper, classes);

    // Render the tiles that merged
    tile.mergedFrom.forEach(function (merged) {
      self.addTile(merged);
    });
  } else {
    classes.push('tile-new');
    this.applyClasses(wrapper, classes);
  }

  // Add the inner part of the tile to the wrapper
  wrapper.appendChild(inner);

  // Put the tile on the board
  this.tileContainer.appendChild(wrapper);
};

HTMLActuator.prototype.applyClasses = function applyClasses(element, classes) {
  element.setAttribute('class', classes.join(' '));
};

HTMLActuator.prototype.normalizePosition = function normalizePosition(position) {
  return { x: position.x + 1, y: position.y + 1 };
};

HTMLActuator.prototype.positionClass = function positionClass(positionInput) {
  var position = this.normalizePosition(positionInput);
  return 'tile-position-' + position.x + '-' + position.y;
};

HTMLActuator.prototype.updateScore = function updateScore(score) {
  this.clearContainer(this.scoreContainer);

  var difference = score - this.score;
  this.score = score;

  this.scoreContainer.textContent = this.score;

  if (difference > 0) {
    var addition = document.createElement('div');
    addition.classList.add('score-addition');
    addition.textContent = '+' + difference;

    this.scoreContainer.appendChild(addition);
  }
};

HTMLActuator.prototype.updateBestScore = function updateBestScore(bestScore) {
  this.bestContainer.textContent = bestScore;
};

HTMLActuator.prototype.message = function message(won) {
  var type = won ? 'game-won' : 'game-over';
  var msg = won ? 'You win!' : 'Game over!';

  this.messageContainer.classList.add(type);
  this.messageContainer.getElementsByTagName('p')[0].textContent = msg;
};

HTMLActuator.prototype.clearMessage = function clearMessage() {
  // IE only takes one value to remove at a time.
  this.messageContainer.classList.remove('game-won');
  this.messageContainer.classList.remove('game-over');
};

HTMLActuator.prototype.updateSuggestion = function updateSuggestion(suggestion) {
  this.suggestionContainer.textContent = suggestion;
};

module.exports = HTMLActuator;

},{}],20:[function(require,module,exports){
'use strict';

function KeyboardInputManager() {
  this.events = {};

  if (window.navigator.msPointerEnabled) {
    // Internet Explorer 10 style
    this.eventTouchstart = 'MSPointerDown';
    this.eventTouchmove = 'MSPointerMove';
    this.eventTouchend = 'MSPointerUp';
  } else {
    this.eventTouchstart = 'touchstart';
    this.eventTouchmove = 'touchmove';
    this.eventTouchend = 'touchend';
  }

  this.listen();
}

KeyboardInputManager.prototype.on = function on(event, callback) {
  if (!this.events[event]) {
    this.events[event] = [];
  }
  this.events[event].push(callback);
};

KeyboardInputManager.prototype.emit = function emit(event, data) {
  var callbacks = this.events[event];
  if (callbacks) {
    callbacks.forEach(function (callback) {
      callback(data);
    });
  }
};

KeyboardInputManager.prototype.listen = function listen() {
  var self = this;

  var map = {
    38: 0, // Up
    39: 1, // Right
    40: 2, // Down
    37: 3, // Left
    75: 0, // Vim up
    76: 1, // Vim right
    74: 2, // Vim down
    72: 3, // Vim left
    87: 0, // W
    68: 1, // D
    83: 2, // S
    65: 3, // A
    8: 4, // backspace
    190: 5 };

  // Respond to direction keys
  document.addEventListener('keydown', function (event) {
    var modifiers = event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;
    var mapped = map[event.which];

    if (!modifiers) {
      if (mapped !== undefined) {
        event.preventDefault();

        if (mapped <= 3) {
          self.emit('move', mapped);
        } else if (mapped === 4) {
          self.emit('undo');
        } else if (mapped === 5) {
          self.emit('acceptSuggestion');
        }
      }
    } else if (event.shiftKey) {
      if (mapped === 5) {
        self.emit('toggleRun');
      }
    }

    // R key restarts the game
    if (!modifiers && event.which === 82) {
      self.restart.call(self, event);
    }
  });

  // Respond to button presses
  this.bindButtonPress('.retry-button', this.restart);
  this.bindButtonPress('.restart-button', this.restart);
  this.bindButtonPress('.keep-playing-button', this.keepPlaying);

  // Respond to swipe events
  var touchStartClientX = void 0;
  var touchStartClientY = void 0;
  var gameContainer = document.getElementsByClassName('game-container')[0];

  gameContainer.addEventListener(this.eventTouchstart, function (event) {
    if (!window.navigator.msPointerEnabled && event.touches.length > 1 || event.targetTouches.length > 1) {
      return; // Ignore if touching with more than 1 finger
    }

    if (window.navigator.msPointerEnabled) {
      touchStartClientX = event.pageX;
      touchStartClientY = event.pageY;
    } else {
      touchStartClientX = event.touches[0].clientX;
      touchStartClientY = event.touches[0].clientY;
    }

    event.preventDefault();
  });

  gameContainer.addEventListener(this.eventTouchmove, function (event) {
    event.preventDefault();
  });

  gameContainer.addEventListener(this.eventTouchend, function (event) {
    if (!window.navigator.msPointerEnabled && event.touches.length > 0 || event.targetTouches.length > 0) {
      return; // Ignore if still touching with one or more fingers
    }

    var touchEndClientX = void 0;
    var touchEndClientY = void 0;

    if (window.navigator.msPointerEnabled) {
      touchEndClientX = event.pageX;
      touchEndClientY = event.pageY;
    } else {
      touchEndClientX = event.changedTouches[0].clientX;
      touchEndClientY = event.changedTouches[0].clientY;
    }

    var dx = touchEndClientX - touchStartClientX;
    var absDx = Math.abs(dx);

    var dy = touchEndClientY - touchStartClientY;
    var absDy = Math.abs(dy);

    if (Math.max(absDx, absDy) > 10) {
      if (absDx > absDy) {
        self.emit('move', dx > 0 ? 1 : 3);
      } else {
        self.emit('move', dy > 0 ? 2 : 0);
      }
    }
  });
};

KeyboardInputManager.prototype.restart = function restart(event) {
  event.preventDefault();
  this.emit('restart');
};

KeyboardInputManager.prototype.keepPlaying = function keepPlaying(event) {
  event.preventDefault();
  this.emit('keepPlaying');
};

KeyboardInputManager.prototype.bindButtonPress = function bindButtonPress(selector, fn) {
  var button = document.querySelector(selector);
  button.addEventListener('click', fn.bind(this));
  button.addEventListener(this.eventTouchend, fn.bind(this));
};

module.exports = KeyboardInputManager;

},{}],21:[function(require,module,exports){
'use strict';

window.fakeStorage = {
  _data: {},

  setItem: function setItem(id, val) {
    return this._data[id] = String(val);
  },
  getItem: function getItem(id) {
    return this._data.hasOwnProperty(id) ? this._data[id] : undefined;
  },
  removeItem: function removeItem(id) {
    return delete this._data[id];
  },
  clear: function clear() {
    return this._data = {};
  }
};

function LocalStorageManager() {
  this.bestScoreKey = 'bestScore';
  this.gameStateKey = 'gameState';

  var supported = this.localStorageSupported();
  this.storage = supported ? window.localStorage : window.fakeStorage;
}

LocalStorageManager.prototype.localStorageSupported = function localStorageSupported() {
  var testKey = 'test';
  var storage = window.localStorage;

  try {
    storage.setItem(testKey, '1');
    storage.removeItem(testKey);
    return true;
  } catch (error) {
    return false;
  }
};

// Best score getters/setters
LocalStorageManager.prototype.getBestScore = function getBestScore() {
  return this.storage.getItem(this.bestScoreKey) || 0;
};

LocalStorageManager.prototype.setBestScore = function setBestScore(score) {
  this.storage.setItem(this.bestScoreKey, score);
};

// Game state getters/setters and clearing
LocalStorageManager.prototype.getGameState = function getGameState() {
  var stateJSON = this.storage.getItem(this.gameStateKey);
  return stateJSON ? JSON.parse(stateJSON) : null;
};

LocalStorageManager.prototype.setGameState = function setGameState(gameState) {
  this.storage.setItem(this.gameStateKey, JSON.stringify(gameState));
};

LocalStorageManager.prototype.clearGameState = function clearGameState() {
  this.storage.removeItem(this.gameStateKey);
};

module.exports = LocalStorageManager;

},{}],22:[function(require,module,exports){
"use strict";

module.exports = function (fn) {
  var pendingPromise = undefined;

  return function () {
    if (!pendingPromise) {
      pendingPromise = new Promise(function (resolve) {
        setTimeout(function () {
          pendingPromise = undefined;
          resolve(fn());
        });
      });
    }

    return pendingPromise;
  };
};

},{}],23:[function(require,module,exports){
'use strict';

var offset = function () {
  var val = Math.sqrt(2);
  val *= 10000;
  val -= Math.floor(val);

  return val;
}();

// These are not high quality random numbers but that doesn't matter to us and they are generated
// much faster than the high quality random numbers I was getting from the random-seed npm package.
module.exports = function (seed) {
  // Avoid getting hit by edge cases like 0 or 1 by adding a weird offset.
  var rand = seed + offset;

  for (var i = 0; i !== 10; ++i) {
    rand -= (rand * rand + 1) / (2 * rand);
  }

  rand *= 10000;

  return rand - Math.floor(rand);
};

},{}],24:[function(require,module,exports){
'use strict';

module.exports = function (n) {
  return new Array(n).fill(0).map(function (x, i) {
    return i;
  });
};

},{}],25:[function(require,module,exports){
'use strict';

var sqrt2 = Math.sqrt(2);

module.exports = function (str) {
  var seed = 0;

  for (var i = 0; i !== str.length; i++) {
    seed += (1 + i) * str.charCodeAt(i);
  }

  seed *= sqrt2;
  seed -= Math.floor(seed);

  return seed;
};

},{}],26:[function(require,module,exports){
module.exports.tag = require('scssify').createLink("data:text/css;base64,aHRtbCxib2R5e21hcmdpbjowO3BhZGRpbmc6MDtiYWNrZ3JvdW5kOiNmYWY4ZWY7Y29sb3I6Izc3NkU2NTtmb250LWZhbWlseToiSGVsdmV0aWNhIE5ldWUiLCBBcmlhbCwgc2Fucy1zZXJpZjtmb250LXNpemU6MThweH1ib2R5e21hcmdpbjo4MHB4IDB9LmhlYWRpbmc6YWZ0ZXJ7Y29udGVudDoiIjtkaXNwbGF5OmJsb2NrO2NsZWFyOmJvdGh9aDEudGl0bGV7Zm9udC1zaXplOjgwcHg7Zm9udC13ZWlnaHQ6Ym9sZDttYXJnaW46MDtkaXNwbGF5OmJsb2NrO2Zsb2F0OmxlZnR9QGtleWZyYW1lcyBtb3ZlLXVwezAle3RvcDoyNXB4O29wYWNpdHk6MX0xMDAle3RvcDotNTBweDtvcGFjaXR5OjB9fS5zY29yZXMtY29udGFpbmVye2Zsb2F0OnJpZ2h0O3RleHQtYWxpZ246cmlnaHR9LnNjb3JlLWNvbnRhaW5lciwuYmVzdC1jb250YWluZXJ7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZDojYmJhZGEwO3BhZGRpbmc6MTVweCAyNXB4O2ZvbnQtc2l6ZToyNXB4O2hlaWdodDoyNXB4O2xpbmUtaGVpZ2h0OjQ3cHg7Zm9udC13ZWlnaHQ6Ym9sZDtib3JkZXItcmFkaXVzOjNweDtjb2xvcjp3aGl0ZTttYXJnaW4tdG9wOjhweDt0ZXh0LWFsaWduOmNlbnRlcn0uc2NvcmUtY29udGFpbmVyOmFmdGVyLC5iZXN0LWNvbnRhaW5lcjphZnRlcntwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO3RvcDoxMHB4O2xlZnQ6MDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Zm9udC1zaXplOjEzcHg7bGluZS1oZWlnaHQ6MTNweDt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjojZWVlNGRhfS5zY29yZS1jb250YWluZXIgLnNjb3JlLWFkZGl0aW9uLC5iZXN0LWNvbnRhaW5lciAuc2NvcmUtYWRkaXRpb257cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MzBweDtjb2xvcjpyZWQ7Zm9udC1zaXplOjI1cHg7bGluZS1oZWlnaHQ6MjVweDtmb250LXdlaWdodDpib2xkO2NvbG9yOnJnYmEoMTE5LDExMCwxMDEsMC45KTt6LWluZGV4OjEwMDstd2Via2l0LWFuaW1hdGlvbjptb3ZlLXVwIDYwMG1zIGVhc2UtaW47LW1vei1hbmltYXRpb246bW92ZS11cCA2MDBtcyBlYXNlLWluO2FuaW1hdGlvbjptb3ZlLXVwIDYwMG1zIGVhc2UtaW47LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOmJvdGg7LW1vei1hbmltYXRpb24tZmlsbC1tb2RlOmJvdGg7YW5pbWF0aW9uLWZpbGwtbW9kZTpib3RofS5zY29yZS1jb250YWluZXI6YWZ0ZXJ7Y29udGVudDoiU2NvcmUifS5iZXN0LWNvbnRhaW5lcjphZnRlcntjb250ZW50OiJCZXN0In1we21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjEwcHg7bGluZS1oZWlnaHQ6MS42NX1he2NvbG9yOiM3NzZFNjU7Zm9udC13ZWlnaHQ6Ym9sZDt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO2N1cnNvcjpwb2ludGVyfXN0cm9uZy5pbXBvcnRhbnR7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlfWhye2JvcmRlcjpub25lO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNkOGQ0ZDA7bWFyZ2luLXRvcDoyMHB4O21hcmdpbi1ib3R0b206MzBweH0uY29udGFpbmVye3dpZHRoOjUwMHB4O21hcmdpbjowIGF1dG99QGtleWZyYW1lcyBmYWRlLWluezAle29wYWNpdHk6MH0xMDAle29wYWNpdHk6MX19LmdhbWUtY29udGFpbmVye21hcmdpbi10b3A6NDBweDtwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjE1cHg7Y3Vyc29yOmRlZmF1bHQ7LXdlYmtpdC10b3VjaC1jYWxsb3V0Om5vbmU7LW1zLXRvdWNoLWNhbGxvdXQ6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lOy1tcy10b3VjaC1hY3Rpb246bm9uZTt0b3VjaC1hY3Rpb246bm9uZTtiYWNrZ3JvdW5kOiNiYmFkYTA7Ym9yZGVyLXJhZGl1czo2cHg7d2lkdGg6NTAwcHg7aGVpZ2h0OjUwMHB4Oy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveH0uZ2FtZS1jb250YWluZXIgLmdhbWUtbWVzc2FnZXtkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtsZWZ0OjA7YmFja2dyb3VuZDpyZ2JhKDIzOCwyMjgsMjE4LDAuNSk7ei1pbmRleDoxMDA7dGV4dC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1hbmltYXRpb246ZmFkZS1pbiA4MDBtcyBlYXNlIDEyMDBtczstbW96LWFuaW1hdGlvbjpmYWRlLWluIDgwMG1zIGVhc2UgMTIwMG1zO2FuaW1hdGlvbjpmYWRlLWluIDgwMG1zIGVhc2UgMTIwMG1zOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpib3RoOy1tb3otYW5pbWF0aW9uLWZpbGwtbW9kZTpib3RoO2FuaW1hdGlvbi1maWxsLW1vZGU6Ym90aH0uZ2FtZS1jb250YWluZXIgLmdhbWUtbWVzc2FnZSBwe2ZvbnQtc2l6ZTo2MHB4O2ZvbnQtd2VpZ2h0OmJvbGQ7aGVpZ2h0OjYwcHg7bGluZS1oZWlnaHQ6NjBweDttYXJnaW4tdG9wOjIyMnB4fS5nYW1lLWNvbnRhaW5lciAuZ2FtZS1tZXNzYWdlIC5sb3dlcntkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6NTlweH0uZ2FtZS1jb250YWluZXIgLmdhbWUtbWVzc2FnZSBhe2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQ6IzhmN2E2Njtib3JkZXItcmFkaXVzOjNweDtwYWRkaW5nOjAgMjBweDt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjojZjlmNmYyO2hlaWdodDo0MHB4O2xpbmUtaGVpZ2h0OjQycHg7bWFyZ2luLWxlZnQ6OXB4fS5nYW1lLWNvbnRhaW5lciAuZ2FtZS1tZXNzYWdlIGEua2VlcC1wbGF5aW5nLWJ1dHRvbntkaXNwbGF5Om5vbmV9LmdhbWUtY29udGFpbmVyIC5nYW1lLW1lc3NhZ2UuZ2FtZS13b257YmFja2dyb3VuZDpyZ2JhKDIzNywxOTQsNDYsMC41KTtjb2xvcjojZjlmNmYyfS5nYW1lLWNvbnRhaW5lciAuZ2FtZS1tZXNzYWdlLmdhbWUtd29uIGEua2VlcC1wbGF5aW5nLWJ1dHRvbntkaXNwbGF5OmlubGluZS1ibG9ja30uZ2FtZS1jb250YWluZXIgLmdhbWUtbWVzc2FnZS5nYW1lLXdvbiwuZ2FtZS1jb250YWluZXIgLmdhbWUtbWVzc2FnZS5nYW1lLW92ZXJ7ZGlzcGxheTpibG9ja30uZ3JpZC1jb250YWluZXJ7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxfS5ncmlkLXJvd3ttYXJnaW4tYm90dG9tOjE1cHh9LmdyaWQtcm93Omxhc3QtY2hpbGR7bWFyZ2luLWJvdHRvbTowfS5ncmlkLXJvdzphZnRlcntjb250ZW50OiIiO2Rpc3BsYXk6YmxvY2s7Y2xlYXI6Ym90aH0uZ3JpZC1jZWxse3dpZHRoOjEwNi4yNXB4O2hlaWdodDoxMDYuMjVweDttYXJnaW4tcmlnaHQ6MTVweDtmbG9hdDpsZWZ0O2JvcmRlci1yYWRpdXM6M3B4O2JhY2tncm91bmQ6cmdiYSgyMzgsMjI4LDIxOCwwLjM1KX0uZ3JpZC1jZWxsOmxhc3QtY2hpbGR7bWFyZ2luLXJpZ2h0OjB9LnRpbGUtY29udGFpbmVye3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6Mn0udGlsZSwudGlsZSAudGlsZS1pbm5lcnt3aWR0aDoxMDdweDtoZWlnaHQ6MTA3cHg7bGluZS1oZWlnaHQ6MTA3cHh9LnRpbGUudGlsZS1wb3NpdGlvbi0xLTF7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDBweCwgMHB4KTstbW96LXRyYW5zZm9ybTp0cmFuc2xhdGUoMHB4LCAwcHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlKDBweCwgMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlKDBweCwgMHB4KX0udGlsZS50aWxlLXBvc2l0aW9uLTEtMnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoMHB4LCAxMjFweCk7LW1vei10cmFuc2Zvcm06dHJhbnNsYXRlKDBweCwgMTIxcHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlKDBweCwgMTIxcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoMHB4LCAxMjFweCl9LnRpbGUudGlsZS1wb3NpdGlvbi0xLTN7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDBweCwgMjQycHgpOy1tb3otdHJhbnNmb3JtOnRyYW5zbGF0ZSgwcHgsIDI0MnB4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZSgwcHgsIDI0MnB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlKDBweCwgMjQycHgpfS50aWxlLnRpbGUtcG9zaXRpb24tMS00ey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgwcHgsIDM2M3B4KTstbW96LXRyYW5zZm9ybTp0cmFuc2xhdGUoMHB4LCAzNjNweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGUoMHB4LCAzNjNweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgwcHgsIDM2M3B4KX0udGlsZS50aWxlLXBvc2l0aW9uLTItMXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDBweCk7LW1vei10cmFuc2Zvcm06dHJhbnNsYXRlKDEyMXB4LCAwcHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlKDEyMXB4LCAwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDBweCl9LnRpbGUudGlsZS1wb3NpdGlvbi0yLTJ7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDEyMXB4LCAxMjFweCk7LW1vei10cmFuc2Zvcm06dHJhbnNsYXRlKDEyMXB4LCAxMjFweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDEyMXB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlKDEyMXB4LCAxMjFweCl9LnRpbGUudGlsZS1wb3NpdGlvbi0yLTN7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDEyMXB4LCAyNDJweCk7LW1vei10cmFuc2Zvcm06dHJhbnNsYXRlKDEyMXB4LCAyNDJweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDI0MnB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlKDEyMXB4LCAyNDJweCl9LnRpbGUudGlsZS1wb3NpdGlvbi0yLTR7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDEyMXB4LCAzNjNweCk7LW1vei10cmFuc2Zvcm06dHJhbnNsYXRlKDEyMXB4LCAzNjNweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDM2M3B4KTt0cmFuc2Zvcm06dHJhbnNsYXRlKDEyMXB4LCAzNjNweCl9LnRpbGUudGlsZS1wb3NpdGlvbi0zLTF7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAwcHgpOy1tb3otdHJhbnNmb3JtOnRyYW5zbGF0ZSgyNDJweCwgMHB4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZSgyNDJweCwgMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAwcHgpfS50aWxlLnRpbGUtcG9zaXRpb24tMy0yey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgyNDJweCwgMTIxcHgpOy1tb3otdHJhbnNmb3JtOnRyYW5zbGF0ZSgyNDJweCwgMTIxcHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAxMjFweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgyNDJweCwgMTIxcHgpfS50aWxlLnRpbGUtcG9zaXRpb24tMy0zey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgyNDJweCwgMjQycHgpOy1tb3otdHJhbnNmb3JtOnRyYW5zbGF0ZSgyNDJweCwgMjQycHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAyNDJweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgyNDJweCwgMjQycHgpfS50aWxlLnRpbGUtcG9zaXRpb24tMy00ey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgyNDJweCwgMzYzcHgpOy1tb3otdHJhbnNmb3JtOnRyYW5zbGF0ZSgyNDJweCwgMzYzcHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAzNjNweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgyNDJweCwgMzYzcHgpfS50aWxlLnRpbGUtcG9zaXRpb24tNC0xey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMHB4KTstbW96LXRyYW5zZm9ybTp0cmFuc2xhdGUoMzYzcHgsIDBweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGUoMzYzcHgsIDBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMHB4KX0udGlsZS50aWxlLXBvc2l0aW9uLTQtMnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoMzYzcHgsIDEyMXB4KTstbW96LXRyYW5zZm9ybTp0cmFuc2xhdGUoMzYzcHgsIDEyMXB4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMTIxcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoMzYzcHgsIDEyMXB4KX0udGlsZS50aWxlLXBvc2l0aW9uLTQtM3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoMzYzcHgsIDI0MnB4KTstbW96LXRyYW5zZm9ybTp0cmFuc2xhdGUoMzYzcHgsIDI0MnB4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMjQycHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoMzYzcHgsIDI0MnB4KX0udGlsZS50aWxlLXBvc2l0aW9uLTQtNHstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoMzYzcHgsIDM2M3B4KTstbW96LXRyYW5zZm9ybTp0cmFuc2xhdGUoMzYzcHgsIDM2M3B4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMzYzcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoMzYzcHgsIDM2M3B4KX0udGlsZXtwb3NpdGlvbjphYnNvbHV0ZTstd2Via2l0LXRyYW5zaXRpb246MTAwbXMgZWFzZS1pbi1vdXQ7LW1vei10cmFuc2l0aW9uOjEwMG1zIGVhc2UtaW4tb3V0O3RyYW5zaXRpb246MTAwbXMgZWFzZS1pbi1vdXQ7LXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5Oi13ZWJraXQtdHJhbnNmb3JtOy1tb3otdHJhbnNpdGlvbi1wcm9wZXJ0eTotbW96LXRyYW5zZm9ybTt0cmFuc2l0aW9uLXByb3BlcnR5OnRyYW5zZm9ybX0udGlsZSAudGlsZS1pbm5lcntib3JkZXItcmFkaXVzOjNweDtiYWNrZ3JvdW5kOiNlZWU0ZGE7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC13ZWlnaHQ6Ym9sZDt6LWluZGV4OjEwO2ZvbnQtc2l6ZTo1NXB4fS50aWxlLnRpbGUtMiAudGlsZS1pbm5lcntiYWNrZ3JvdW5kOiNlZWU0ZGE7Ym94LXNoYWRvdzowIDAgMzBweCAxMHB4IHJnYmEoMjQzLDIxNSwxMTYsMCksaW5zZXQgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsMCl9LnRpbGUudGlsZS00IC50aWxlLWlubmVye2JhY2tncm91bmQ6I2VlZTFjOTtib3gtc2hhZG93OjAgMCAzMHB4IDEwcHggcmdiYSgyNDMsMjE1LDExNiwwKSxpbnNldCAwIDAgMCAxcHggcmdiYSgyNTUsMjU1LDI1NSwwKX0udGlsZS50aWxlLTggLnRpbGUtaW5uZXJ7Y29sb3I6I2Y5ZjZmMjtiYWNrZ3JvdW5kOiNmM2IyN2F9LnRpbGUudGlsZS0xNiAudGlsZS1pbm5lcntjb2xvcjojZjlmNmYyO2JhY2tncm91bmQ6I2Y2OTY2NH0udGlsZS50aWxlLTMyIC50aWxlLWlubmVye2NvbG9yOiNmOWY2ZjI7YmFja2dyb3VuZDojZjc3YzVmfS50aWxlLnRpbGUtNjQgLnRpbGUtaW5uZXJ7Y29sb3I6I2Y5ZjZmMjtiYWNrZ3JvdW5kOiNmNzVmM2J9LnRpbGUudGlsZS0xMjggLnRpbGUtaW5uZXJ7Y29sb3I6I2Y5ZjZmMjtiYWNrZ3JvdW5kOiNlZGQwNzM7Ym94LXNoYWRvdzowIDAgMzBweCAxMHB4IHJnYmEoMjQzLDIxNSwxMTYsMC4yMzgwOTUpLGluc2V0IDAgMCAwIDFweCByZ2JhKDI1NSwyNTUsMjU1LDAuMTQyODU3KTtmb250LXNpemU6NDVweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1MjBweCl7LnRpbGUudGlsZS0xMjggLnRpbGUtaW5uZXJ7Zm9udC1zaXplOjI1cHh9fS50aWxlLnRpbGUtMjU2IC50aWxlLWlubmVye2NvbG9yOiNmOWY2ZjI7YmFja2dyb3VuZDojZWRjYzYyO2JveC1zaGFkb3c6MCAwIDMwcHggMTBweCByZ2JhKDI0MywyMTUsMTE2LDAuMzE3NDYpLGluc2V0IDAgMCAwIDFweCByZ2JhKDI1NSwyNTUsMjU1LDAuMTkwNDc2KTtmb250LXNpemU6NDVweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1MjBweCl7LnRpbGUudGlsZS0yNTYgLnRpbGUtaW5uZXJ7Zm9udC1zaXplOjI1cHh9fS50aWxlLnRpbGUtNTEyIC50aWxlLWlubmVye2NvbG9yOiNmOWY2ZjI7YmFja2dyb3VuZDojZWRjOTUwO2JveC1zaGFkb3c6MCAwIDMwcHggMTBweCByZ2JhKDI0MywyMTUsMTE2LDAuMzk2ODI1KSxpbnNldCAwIDAgMCAxcHggcmdiYSgyNTUsMjU1LDI1NSwwLjIzODA5NSk7Zm9udC1zaXplOjQ1cHh9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNTIwcHgpey50aWxlLnRpbGUtNTEyIC50aWxlLWlubmVye2ZvbnQtc2l6ZToyNXB4fX0udGlsZS50aWxlLTEwMjQgLnRpbGUtaW5uZXJ7Y29sb3I6I2Y5ZjZmMjtiYWNrZ3JvdW5kOiNlZGM1M2Y7Ym94LXNoYWRvdzowIDAgMzBweCAxMHB4IHJnYmEoMjQzLDIxNSwxMTYsMC40NzYxOSksaW5zZXQgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsMC4yODU3MTQpO2ZvbnQtc2l6ZTozNXB4fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDUyMHB4KXsudGlsZS50aWxlLTEwMjQgLnRpbGUtaW5uZXJ7Zm9udC1zaXplOjE1cHh9fS50aWxlLnRpbGUtMjA0OCAudGlsZS1pbm5lcntjb2xvcjojZjlmNmYyO2JhY2tncm91bmQ6I2VkYzIyZTtib3gtc2hhZG93OjAgMCAzMHB4IDEwcHggcmdiYSgyNDMsMjE1LDExNiwwLjU1NTU1NiksaW5zZXQgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsMC4zMzMzMzMpO2ZvbnQtc2l6ZTozNXB4fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDUyMHB4KXsudGlsZS50aWxlLTIwNDggLnRpbGUtaW5uZXJ7Zm9udC1zaXplOjE1cHh9fS50aWxlLnRpbGUtc3VwZXIgLnRpbGUtaW5uZXJ7Y29sb3I6I2Y5ZjZmMjtiYWNrZ3JvdW5kOiMzYzNhMzM7Zm9udC1zaXplOjMwcHh9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNTIwcHgpey50aWxlLnRpbGUtc3VwZXIgLnRpbGUtaW5uZXJ7Zm9udC1zaXplOjEwcHh9fUBrZXlmcmFtZXMgYXBwZWFyezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgwKTstbW96LXRyYW5zZm9ybTpzY2FsZSgwKTstbXMtdHJhbnNmb3JtOnNjYWxlKDApO3RyYW5zZm9ybTpzY2FsZSgwKX0xMDAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTstbW96LXRyYW5zZm9ybTpzY2FsZSgxKTstbXMtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX19LnRpbGUtbmV3IC50aWxlLWlubmVyey13ZWJraXQtYW5pbWF0aW9uOmFwcGVhciAyMDBtcyBlYXNlIDEwMG1zOy1tb3otYW5pbWF0aW9uOmFwcGVhciAyMDBtcyBlYXNlIDEwMG1zO2FuaW1hdGlvbjphcHBlYXIgMjAwbXMgZWFzZSAxMDBtczstd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6YmFja3dhcmRzOy1tb3otYW5pbWF0aW9uLWZpbGwtbW9kZTpiYWNrd2FyZHM7YW5pbWF0aW9uLWZpbGwtbW9kZTpiYWNrd2FyZHN9QGtleWZyYW1lcyBwb3B7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMCk7LW1vei10cmFuc2Zvcm06c2NhbGUoMCk7LW1zLXRyYW5zZm9ybTpzY2FsZSgwKTt0cmFuc2Zvcm06c2NhbGUoMCl9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMik7LW1vei10cmFuc2Zvcm06c2NhbGUoMS4yKTstbXMtdHJhbnNmb3JtOnNjYWxlKDEuMik7dHJhbnNmb3JtOnNjYWxlKDEuMil9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTstbW96LXRyYW5zZm9ybTpzY2FsZSgxKTstbXMtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX19LnRpbGUtbWVyZ2VkIC50aWxlLWlubmVye3otaW5kZXg6MjA7LXdlYmtpdC1hbmltYXRpb246cG9wIDIwMG1zIGVhc2UgMTAwbXM7LW1vei1hbmltYXRpb246cG9wIDIwMG1zIGVhc2UgMTAwbXM7YW5pbWF0aW9uOnBvcCAyMDBtcyBlYXNlIDEwMG1zOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpiYWNrd2FyZHM7LW1vei1hbmltYXRpb24tZmlsbC1tb2RlOmJhY2t3YXJkczthbmltYXRpb24tZmlsbC1tb2RlOmJhY2t3YXJkc30uYWJvdmUtZ2FtZTphZnRlcntjb250ZW50OiIiO2Rpc3BsYXk6YmxvY2s7Y2xlYXI6Ym90aH0uZ2FtZS1pbnRyb3tmbG9hdDpsZWZ0O2xpbmUtaGVpZ2h0OjQycHg7bWFyZ2luLWJvdHRvbTowfS5yZXN0YXJ0LWJ1dHRvbntkaXNwbGF5OmlubGluZS1ibG9jaztiYWNrZ3JvdW5kOiM4ZjdhNjY7Ym9yZGVyLXJhZGl1czozcHg7cGFkZGluZzowIDIwcHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y29sb3I6I2Y5ZjZmMjtoZWlnaHQ6NDBweDtsaW5lLWhlaWdodDo0MnB4O2Rpc3BsYXk6YmxvY2s7dGV4dC1hbGlnbjpjZW50ZXI7ZmxvYXQ6cmlnaHR9LmdhbWUtZXhwbGFuYXRpb257bWFyZ2luLXRvcDo1MHB4fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDUyMHB4KXtodG1sLGJvZHl7Zm9udC1zaXplOjE1cHh9Ym9keXttYXJnaW46MjBweCAwO3BhZGRpbmc6MCAyMHB4fWgxLnRpdGxle2ZvbnQtc2l6ZToyN3B4O21hcmdpbi10b3A6MTVweH0uY29udGFpbmVye3dpZHRoOjI4MHB4O21hcmdpbjowIGF1dG99LnNjb3JlLWNvbnRhaW5lciwuYmVzdC1jb250YWluZXJ7bWFyZ2luLXRvcDowO3BhZGRpbmc6MTVweCAxMHB4O21pbi13aWR0aDo0MHB4fS5oZWFkaW5ne21hcmdpbi1ib3R0b206MTBweH0uZ2FtZS1pbnRyb3t3aWR0aDo1NSU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7bGluZS1oZWlnaHQ6MS42NX0ucmVzdGFydC1idXR0b257d2lkdGg6NDIlO3BhZGRpbmc6MDtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDttYXJnaW4tdG9wOjJweH0uZ2FtZS1jb250YWluZXJ7bWFyZ2luLXRvcDo0MHB4O3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MTVweDtjdXJzb3I6ZGVmYXVsdDstd2Via2l0LXRvdWNoLWNhbGxvdXQ6bm9uZTstbXMtdG91Y2gtY2FsbG91dDpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7LW1zLXRvdWNoLWFjdGlvbjpub25lO3RvdWNoLWFjdGlvbjpub25lO2JhY2tncm91bmQ6I2JiYWRhMDtib3JkZXItcmFkaXVzOjZweDt3aWR0aDo1MDBweDtoZWlnaHQ6NTAwcHg7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fS5nYW1lLWNvbnRhaW5lciAuZ2FtZS1tZXNzYWdle2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xlZnQ6MDtiYWNrZ3JvdW5kOnJnYmEoMjM4LDIyOCwyMTgsMC41KTt6LWluZGV4OjEwMDt0ZXh0LWFsaWduOmNlbnRlcjstd2Via2l0LWFuaW1hdGlvbjpmYWRlLWluIDgwMG1zIGVhc2UgMTIwMG1zOy1tb3otYW5pbWF0aW9uOmZhZGUtaW4gODAwbXMgZWFzZSAxMjAwbXM7YW5pbWF0aW9uOmZhZGUtaW4gODAwbXMgZWFzZSAxMjAwbXM7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOmJvdGg7LW1vei1hbmltYXRpb24tZmlsbC1tb2RlOmJvdGg7YW5pbWF0aW9uLWZpbGwtbW9kZTpib3RofS5nYW1lLWNvbnRhaW5lciAuZ2FtZS1tZXNzYWdlIHB7Zm9udC1zaXplOjYwcHg7Zm9udC13ZWlnaHQ6Ym9sZDtoZWlnaHQ6NjBweDtsaW5lLWhlaWdodDo2MHB4O21hcmdpbi10b3A6MjIycHh9LmdhbWUtY29udGFpbmVyIC5nYW1lLW1lc3NhZ2UgLmxvd2Vye2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDo1OXB4fS5nYW1lLWNvbnRhaW5lciAuZ2FtZS1tZXNzYWdlIGF7ZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZDojOGY3YTY2O2JvcmRlci1yYWRpdXM6M3B4O3BhZGRpbmc6MCAyMHB4O3RleHQtZGVjb3JhdGlvbjpub25lO2NvbG9yOiNmOWY2ZjI7aGVpZ2h0OjQwcHg7bGluZS1oZWlnaHQ6NDJweDttYXJnaW4tbGVmdDo5cHh9LmdhbWUtY29udGFpbmVyIC5nYW1lLW1lc3NhZ2UgYS5rZWVwLXBsYXlpbmctYnV0dG9ue2Rpc3BsYXk6bm9uZX0uZ2FtZS1jb250YWluZXIgLmdhbWUtbWVzc2FnZS5nYW1lLXdvbntiYWNrZ3JvdW5kOnJnYmEoMjM3LDE5NCw0NiwwLjUpO2NvbG9yOiNmOWY2ZjJ9LmdhbWUtY29udGFpbmVyIC5nYW1lLW1lc3NhZ2UuZ2FtZS13b24gYS5rZWVwLXBsYXlpbmctYnV0dG9ue2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5nYW1lLWNvbnRhaW5lciAuZ2FtZS1tZXNzYWdlLmdhbWUtd29uLC5nYW1lLWNvbnRhaW5lciAuZ2FtZS1tZXNzYWdlLmdhbWUtb3ZlcntkaXNwbGF5OmJsb2NrfS5ncmlkLWNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjF9LmdyaWQtcm93e21hcmdpbi1ib3R0b206MTVweH0uZ3JpZC1yb3c6bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOjB9LmdyaWQtcm93OmFmdGVye2NvbnRlbnQ6IiI7ZGlzcGxheTpibG9jaztjbGVhcjpib3RofS5ncmlkLWNlbGx7d2lkdGg6MTA2LjI1cHg7aGVpZ2h0OjEwNi4yNXB4O21hcmdpbi1yaWdodDoxNXB4O2Zsb2F0OmxlZnQ7Ym9yZGVyLXJhZGl1czozcHg7YmFja2dyb3VuZDpyZ2JhKDIzOCwyMjgsMjE4LDAuMzUpfS5ncmlkLWNlbGw6bGFzdC1jaGlsZHttYXJnaW4tcmlnaHQ6MH0udGlsZS1jb250YWluZXJ7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyfS50aWxlLC50aWxlIC50aWxlLWlubmVye3dpZHRoOjEwN3B4O2hlaWdodDoxMDdweDtsaW5lLWhlaWdodDoxMDdweH0udGlsZS50aWxlLXBvc2l0aW9uLTEtMXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoMHB4LCAwcHgpOy1tb3otdHJhbnNmb3JtOnRyYW5zbGF0ZSgwcHgsIDBweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGUoMHB4LCAwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoMHB4LCAwcHgpfS50aWxlLnRpbGUtcG9zaXRpb24tMS0yey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgwcHgsIDEyMXB4KTstbW96LXRyYW5zZm9ybTp0cmFuc2xhdGUoMHB4LCAxMjFweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGUoMHB4LCAxMjFweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgwcHgsIDEyMXB4KX0udGlsZS50aWxlLXBvc2l0aW9uLTEtM3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoMHB4LCAyNDJweCk7LW1vei10cmFuc2Zvcm06dHJhbnNsYXRlKDBweCwgMjQycHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlKDBweCwgMjQycHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoMHB4LCAyNDJweCl9LnRpbGUudGlsZS1wb3NpdGlvbi0xLTR7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDBweCwgMzYzcHgpOy1tb3otdHJhbnNmb3JtOnRyYW5zbGF0ZSgwcHgsIDM2M3B4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZSgwcHgsIDM2M3B4KTt0cmFuc2Zvcm06dHJhbnNsYXRlKDBweCwgMzYzcHgpfS50aWxlLnRpbGUtcG9zaXRpb24tMi0xey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgxMjFweCwgMHB4KTstbW96LXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDBweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgxMjFweCwgMHB4KX0udGlsZS50aWxlLXBvc2l0aW9uLTItMnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDEyMXB4KTstbW96LXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDEyMXB4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZSgxMjFweCwgMTIxcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDEyMXB4KX0udGlsZS50aWxlLXBvc2l0aW9uLTItM3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDI0MnB4KTstbW96LXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDI0MnB4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZSgxMjFweCwgMjQycHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDI0MnB4KX0udGlsZS50aWxlLXBvc2l0aW9uLTItNHstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDM2M3B4KTstbW96LXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDM2M3B4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZSgxMjFweCwgMzYzcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoMTIxcHgsIDM2M3B4KX0udGlsZS50aWxlLXBvc2l0aW9uLTMtMXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoMjQycHgsIDBweCk7LW1vei10cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAwcHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUoMjQycHgsIDBweCl9LnRpbGUudGlsZS1wb3NpdGlvbi0zLTJ7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAxMjFweCk7LW1vei10cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAxMjFweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGUoMjQycHgsIDEyMXB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAxMjFweCl9LnRpbGUudGlsZS1wb3NpdGlvbi0zLTN7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAyNDJweCk7LW1vei10cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAyNDJweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGUoMjQycHgsIDI0MnB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAyNDJweCl9LnRpbGUudGlsZS1wb3NpdGlvbi0zLTR7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAzNjNweCk7LW1vei10cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAzNjNweCk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGUoMjQycHgsIDM2M3B4KTt0cmFuc2Zvcm06dHJhbnNsYXRlKDI0MnB4LCAzNjNweCl9LnRpbGUudGlsZS1wb3NpdGlvbi00LTF7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDM2M3B4LCAwcHgpOy1tb3otdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMHB4KTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlKDM2M3B4LCAwcHgpfS50aWxlLnRpbGUtcG9zaXRpb24tNC0yey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMTIxcHgpOy1tb3otdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMTIxcHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlKDM2M3B4LCAxMjFweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMTIxcHgpfS50aWxlLnRpbGUtcG9zaXRpb24tNC0zey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMjQycHgpOy1tb3otdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMjQycHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlKDM2M3B4LCAyNDJweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMjQycHgpfS50aWxlLnRpbGUtcG9zaXRpb24tNC00ey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMzYzcHgpOy1tb3otdHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMzYzcHgpOy1tcy10cmFuc2Zvcm06dHJhbnNsYXRlKDM2M3B4LCAzNjNweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgzNjNweCwgMzYzcHgpfS50aWxlIC50aWxlLWlubmVye2ZvbnQtc2l6ZTozNXB4fS5nYW1lLW1lc3NhZ2UgcHtmb250LXNpemU6MzBweCAhaW1wb3J0YW50O2hlaWdodDozMHB4ICFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MzBweCAhaW1wb3J0YW50O21hcmdpbi10b3A6OTBweCAhaW1wb3J0YW50fS5nYW1lLW1lc3NhZ2UgLmxvd2Vye21hcmdpbi10b3A6MzBweCAhaW1wb3J0YW50fX0K"); module.exports.css = "html,body{margin:0;padding:0;background:#faf8ef;color:#776E65;font-family:\"Helvetica Neue\", Arial, sans-serif;font-size:18px}body{margin:80px 0}.heading:after{content:\"\";display:block;clear:both}h1.title{font-size:80px;font-weight:bold;margin:0;display:block;float:left}@keyframes move-up{0%{top:25px;opacity:1}100%{top:-50px;opacity:0}}.scores-container{float:right;text-align:right}.score-container,.best-container{position:relative;display:inline-block;background:#bbada0;padding:15px 25px;font-size:25px;height:25px;line-height:47px;font-weight:bold;border-radius:3px;color:white;margin-top:8px;text-align:center}.score-container:after,.best-container:after{position:absolute;width:100%;top:10px;left:0;text-transform:uppercase;font-size:13px;line-height:13px;text-align:center;color:#eee4da}.score-container .score-addition,.best-container .score-addition{position:absolute;right:30px;color:red;font-size:25px;line-height:25px;font-weight:bold;color:rgba(119,110,101,0.9);z-index:100;-webkit-animation:move-up 600ms ease-in;-moz-animation:move-up 600ms ease-in;animation:move-up 600ms ease-in;-webkit-animation-fill-mode:both;-moz-animation-fill-mode:both;animation-fill-mode:both}.score-container:after{content:\"Score\"}.best-container:after{content:\"Best\"}p{margin-top:0;margin-bottom:10px;line-height:1.65}a{color:#776E65;font-weight:bold;text-decoration:underline;cursor:pointer}strong.important{text-transform:uppercase}hr{border:none;border-bottom:1px solid #d8d4d0;margin-top:20px;margin-bottom:30px}.container{width:500px;margin:0 auto}@keyframes fade-in{0%{opacity:0}100%{opacity:1}}.game-container{margin-top:40px;position:relative;padding:15px;cursor:default;-webkit-touch-callout:none;-ms-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-ms-touch-action:none;touch-action:none;background:#bbada0;border-radius:6px;width:500px;height:500px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.game-container .game-message{display:none;position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(238,228,218,0.5);z-index:100;text-align:center;-webkit-animation:fade-in 800ms ease 1200ms;-moz-animation:fade-in 800ms ease 1200ms;animation:fade-in 800ms ease 1200ms;-webkit-animation-fill-mode:both;-moz-animation-fill-mode:both;animation-fill-mode:both}.game-container .game-message p{font-size:60px;font-weight:bold;height:60px;line-height:60px;margin-top:222px}.game-container .game-message .lower{display:block;margin-top:59px}.game-container .game-message a{display:inline-block;background:#8f7a66;border-radius:3px;padding:0 20px;text-decoration:none;color:#f9f6f2;height:40px;line-height:42px;margin-left:9px}.game-container .game-message a.keep-playing-button{display:none}.game-container .game-message.game-won{background:rgba(237,194,46,0.5);color:#f9f6f2}.game-container .game-message.game-won a.keep-playing-button{display:inline-block}.game-container .game-message.game-won,.game-container .game-message.game-over{display:block}.grid-container{position:absolute;z-index:1}.grid-row{margin-bottom:15px}.grid-row:last-child{margin-bottom:0}.grid-row:after{content:\"\";display:block;clear:both}.grid-cell{width:106.25px;height:106.25px;margin-right:15px;float:left;border-radius:3px;background:rgba(238,228,218,0.35)}.grid-cell:last-child{margin-right:0}.tile-container{position:absolute;z-index:2}.tile,.tile .tile-inner{width:107px;height:107px;line-height:107px}.tile.tile-position-1-1{-webkit-transform:translate(0px, 0px);-moz-transform:translate(0px, 0px);-ms-transform:translate(0px, 0px);transform:translate(0px, 0px)}.tile.tile-position-1-2{-webkit-transform:translate(0px, 121px);-moz-transform:translate(0px, 121px);-ms-transform:translate(0px, 121px);transform:translate(0px, 121px)}.tile.tile-position-1-3{-webkit-transform:translate(0px, 242px);-moz-transform:translate(0px, 242px);-ms-transform:translate(0px, 242px);transform:translate(0px, 242px)}.tile.tile-position-1-4{-webkit-transform:translate(0px, 363px);-moz-transform:translate(0px, 363px);-ms-transform:translate(0px, 363px);transform:translate(0px, 363px)}.tile.tile-position-2-1{-webkit-transform:translate(121px, 0px);-moz-transform:translate(121px, 0px);-ms-transform:translate(121px, 0px);transform:translate(121px, 0px)}.tile.tile-position-2-2{-webkit-transform:translate(121px, 121px);-moz-transform:translate(121px, 121px);-ms-transform:translate(121px, 121px);transform:translate(121px, 121px)}.tile.tile-position-2-3{-webkit-transform:translate(121px, 242px);-moz-transform:translate(121px, 242px);-ms-transform:translate(121px, 242px);transform:translate(121px, 242px)}.tile.tile-position-2-4{-webkit-transform:translate(121px, 363px);-moz-transform:translate(121px, 363px);-ms-transform:translate(121px, 363px);transform:translate(121px, 363px)}.tile.tile-position-3-1{-webkit-transform:translate(242px, 0px);-moz-transform:translate(242px, 0px);-ms-transform:translate(242px, 0px);transform:translate(242px, 0px)}.tile.tile-position-3-2{-webkit-transform:translate(242px, 121px);-moz-transform:translate(242px, 121px);-ms-transform:translate(242px, 121px);transform:translate(242px, 121px)}.tile.tile-position-3-3{-webkit-transform:translate(242px, 242px);-moz-transform:translate(242px, 242px);-ms-transform:translate(242px, 242px);transform:translate(242px, 242px)}.tile.tile-position-3-4{-webkit-transform:translate(242px, 363px);-moz-transform:translate(242px, 363px);-ms-transform:translate(242px, 363px);transform:translate(242px, 363px)}.tile.tile-position-4-1{-webkit-transform:translate(363px, 0px);-moz-transform:translate(363px, 0px);-ms-transform:translate(363px, 0px);transform:translate(363px, 0px)}.tile.tile-position-4-2{-webkit-transform:translate(363px, 121px);-moz-transform:translate(363px, 121px);-ms-transform:translate(363px, 121px);transform:translate(363px, 121px)}.tile.tile-position-4-3{-webkit-transform:translate(363px, 242px);-moz-transform:translate(363px, 242px);-ms-transform:translate(363px, 242px);transform:translate(363px, 242px)}.tile.tile-position-4-4{-webkit-transform:translate(363px, 363px);-moz-transform:translate(363px, 363px);-ms-transform:translate(363px, 363px);transform:translate(363px, 363px)}.tile{position:absolute;-webkit-transition:100ms ease-in-out;-moz-transition:100ms ease-in-out;transition:100ms ease-in-out;-webkit-transition-property:-webkit-transform;-moz-transition-property:-moz-transform;transition-property:transform}.tile .tile-inner{border-radius:3px;background:#eee4da;text-align:center;font-weight:bold;z-index:10;font-size:55px}.tile.tile-2 .tile-inner{background:#eee4da;box-shadow:0 0 30px 10px rgba(243,215,116,0),inset 0 0 0 1px rgba(255,255,255,0)}.tile.tile-4 .tile-inner{background:#eee1c9;box-shadow:0 0 30px 10px rgba(243,215,116,0),inset 0 0 0 1px rgba(255,255,255,0)}.tile.tile-8 .tile-inner{color:#f9f6f2;background:#f3b27a}.tile.tile-16 .tile-inner{color:#f9f6f2;background:#f69664}.tile.tile-32 .tile-inner{color:#f9f6f2;background:#f77c5f}.tile.tile-64 .tile-inner{color:#f9f6f2;background:#f75f3b}.tile.tile-128 .tile-inner{color:#f9f6f2;background:#edd073;box-shadow:0 0 30px 10px rgba(243,215,116,0.238095),inset 0 0 0 1px rgba(255,255,255,0.142857);font-size:45px}@media screen and (max-width: 520px){.tile.tile-128 .tile-inner{font-size:25px}}.tile.tile-256 .tile-inner{color:#f9f6f2;background:#edcc62;box-shadow:0 0 30px 10px rgba(243,215,116,0.31746),inset 0 0 0 1px rgba(255,255,255,0.190476);font-size:45px}@media screen and (max-width: 520px){.tile.tile-256 .tile-inner{font-size:25px}}.tile.tile-512 .tile-inner{color:#f9f6f2;background:#edc950;box-shadow:0 0 30px 10px rgba(243,215,116,0.396825),inset 0 0 0 1px rgba(255,255,255,0.238095);font-size:45px}@media screen and (max-width: 520px){.tile.tile-512 .tile-inner{font-size:25px}}.tile.tile-1024 .tile-inner{color:#f9f6f2;background:#edc53f;box-shadow:0 0 30px 10px rgba(243,215,116,0.47619),inset 0 0 0 1px rgba(255,255,255,0.285714);font-size:35px}@media screen and (max-width: 520px){.tile.tile-1024 .tile-inner{font-size:15px}}.tile.tile-2048 .tile-inner{color:#f9f6f2;background:#edc22e;box-shadow:0 0 30px 10px rgba(243,215,116,0.555556),inset 0 0 0 1px rgba(255,255,255,0.333333);font-size:35px}@media screen and (max-width: 520px){.tile.tile-2048 .tile-inner{font-size:15px}}.tile.tile-super .tile-inner{color:#f9f6f2;background:#3c3a33;font-size:30px}@media screen and (max-width: 520px){.tile.tile-super .tile-inner{font-size:10px}}@keyframes appear{0%{opacity:0;-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}100%{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}.tile-new .tile-inner{-webkit-animation:appear 200ms ease 100ms;-moz-animation:appear 200ms ease 100ms;animation:appear 200ms ease 100ms;-webkit-animation-fill-mode:backwards;-moz-animation-fill-mode:backwards;animation-fill-mode:backwards}@keyframes pop{0%{-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2)}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}.tile-merged .tile-inner{z-index:20;-webkit-animation:pop 200ms ease 100ms;-moz-animation:pop 200ms ease 100ms;animation:pop 200ms ease 100ms;-webkit-animation-fill-mode:backwards;-moz-animation-fill-mode:backwards;animation-fill-mode:backwards}.above-game:after{content:\"\";display:block;clear:both}.game-intro{float:left;line-height:42px;margin-bottom:0}.restart-button{display:inline-block;background:#8f7a66;border-radius:3px;padding:0 20px;text-decoration:none;color:#f9f6f2;height:40px;line-height:42px;display:block;text-align:center;float:right}.game-explanation{margin-top:50px}@media screen and (max-width: 520px){html,body{font-size:15px}body{margin:20px 0;padding:0 20px}h1.title{font-size:27px;margin-top:15px}.container{width:280px;margin:0 auto}.score-container,.best-container{margin-top:0;padding:15px 10px;min-width:40px}.heading{margin-bottom:10px}.game-intro{width:55%;display:block;box-sizing:border-box;line-height:1.65}.restart-button{width:42%;padding:0;display:block;box-sizing:border-box;margin-top:2px}.game-container{margin-top:40px;position:relative;padding:15px;cursor:default;-webkit-touch-callout:none;-ms-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-ms-touch-action:none;touch-action:none;background:#bbada0;border-radius:6px;width:500px;height:500px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.game-container .game-message{display:none;position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(238,228,218,0.5);z-index:100;text-align:center;-webkit-animation:fade-in 800ms ease 1200ms;-moz-animation:fade-in 800ms ease 1200ms;animation:fade-in 800ms ease 1200ms;-webkit-animation-fill-mode:both;-moz-animation-fill-mode:both;animation-fill-mode:both}.game-container .game-message p{font-size:60px;font-weight:bold;height:60px;line-height:60px;margin-top:222px}.game-container .game-message .lower{display:block;margin-top:59px}.game-container .game-message a{display:inline-block;background:#8f7a66;border-radius:3px;padding:0 20px;text-decoration:none;color:#f9f6f2;height:40px;line-height:42px;margin-left:9px}.game-container .game-message a.keep-playing-button{display:none}.game-container .game-message.game-won{background:rgba(237,194,46,0.5);color:#f9f6f2}.game-container .game-message.game-won a.keep-playing-button{display:inline-block}.game-container .game-message.game-won,.game-container .game-message.game-over{display:block}.grid-container{position:absolute;z-index:1}.grid-row{margin-bottom:15px}.grid-row:last-child{margin-bottom:0}.grid-row:after{content:\"\";display:block;clear:both}.grid-cell{width:106.25px;height:106.25px;margin-right:15px;float:left;border-radius:3px;background:rgba(238,228,218,0.35)}.grid-cell:last-child{margin-right:0}.tile-container{position:absolute;z-index:2}.tile,.tile .tile-inner{width:107px;height:107px;line-height:107px}.tile.tile-position-1-1{-webkit-transform:translate(0px, 0px);-moz-transform:translate(0px, 0px);-ms-transform:translate(0px, 0px);transform:translate(0px, 0px)}.tile.tile-position-1-2{-webkit-transform:translate(0px, 121px);-moz-transform:translate(0px, 121px);-ms-transform:translate(0px, 121px);transform:translate(0px, 121px)}.tile.tile-position-1-3{-webkit-transform:translate(0px, 242px);-moz-transform:translate(0px, 242px);-ms-transform:translate(0px, 242px);transform:translate(0px, 242px)}.tile.tile-position-1-4{-webkit-transform:translate(0px, 363px);-moz-transform:translate(0px, 363px);-ms-transform:translate(0px, 363px);transform:translate(0px, 363px)}.tile.tile-position-2-1{-webkit-transform:translate(121px, 0px);-moz-transform:translate(121px, 0px);-ms-transform:translate(121px, 0px);transform:translate(121px, 0px)}.tile.tile-position-2-2{-webkit-transform:translate(121px, 121px);-moz-transform:translate(121px, 121px);-ms-transform:translate(121px, 121px);transform:translate(121px, 121px)}.tile.tile-position-2-3{-webkit-transform:translate(121px, 242px);-moz-transform:translate(121px, 242px);-ms-transform:translate(121px, 242px);transform:translate(121px, 242px)}.tile.tile-position-2-4{-webkit-transform:translate(121px, 363px);-moz-transform:translate(121px, 363px);-ms-transform:translate(121px, 363px);transform:translate(121px, 363px)}.tile.tile-position-3-1{-webkit-transform:translate(242px, 0px);-moz-transform:translate(242px, 0px);-ms-transform:translate(242px, 0px);transform:translate(242px, 0px)}.tile.tile-position-3-2{-webkit-transform:translate(242px, 121px);-moz-transform:translate(242px, 121px);-ms-transform:translate(242px, 121px);transform:translate(242px, 121px)}.tile.tile-position-3-3{-webkit-transform:translate(242px, 242px);-moz-transform:translate(242px, 242px);-ms-transform:translate(242px, 242px);transform:translate(242px, 242px)}.tile.tile-position-3-4{-webkit-transform:translate(242px, 363px);-moz-transform:translate(242px, 363px);-ms-transform:translate(242px, 363px);transform:translate(242px, 363px)}.tile.tile-position-4-1{-webkit-transform:translate(363px, 0px);-moz-transform:translate(363px, 0px);-ms-transform:translate(363px, 0px);transform:translate(363px, 0px)}.tile.tile-position-4-2{-webkit-transform:translate(363px, 121px);-moz-transform:translate(363px, 121px);-ms-transform:translate(363px, 121px);transform:translate(363px, 121px)}.tile.tile-position-4-3{-webkit-transform:translate(363px, 242px);-moz-transform:translate(363px, 242px);-ms-transform:translate(363px, 242px);transform:translate(363px, 242px)}.tile.tile-position-4-4{-webkit-transform:translate(363px, 363px);-moz-transform:translate(363px, 363px);-ms-transform:translate(363px, 363px);transform:translate(363px, 363px)}.tile .tile-inner{font-size:35px}.game-message p{font-size:30px !important;height:30px !important;line-height:30px !important;margin-top:90px !important}.game-message .lower{margin-top:30px !important}}\n";
},{"scssify":4}],27:[function(require,module,exports){
"use strict";

function Tile(position, value) {
  this.x = position.x;
  this.y = position.y;
  this.value = value || 2;

  this.previousPosition = null;
  this.mergedFrom = null; // Tracks tiles that merged together
}

Tile.prototype.savePosition = function savePosition() {
  this.previousPosition = { x: this.x, y: this.y };
};

Tile.prototype.updatePosition = function updatePosition(position) {
  this.x = position.x;
  this.y = position.y;
};

Tile.prototype.serialize = function serialize() {
  return {
    position: {
      x: this.x,
      y: this.y
    },
    value: this.value
  };
};

module.exports = Tile;

},{}],28:[function(require,module,exports){
'use strict';

module.exports = function (board) {
  var movePriority = ['right', 'down', 'up', 'left'];

  for (var i = 0; i !== movePriority.length; i++) {
    var move = movePriority[i];

    if (board[move]()) {
      return move;
    }
  }

  // Nowhere to go, but still need to return something
  return 'right';
};

},{}]},{},[13])
</script></head><body></body></html>
