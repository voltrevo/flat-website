<!DOCTYPE html><html lang='en'><head><meta charset='utf-8'><title></title><script>
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){module.exports='<h1 id="lightpost">lightpost</h1>\n<p>A lightweight language based on postfix notation.</p>\n<p>Live demo: <a href="http://andrewmorris.io/lightpost">http://andrewmorris.io/lightpost</a></p>\n<h1 id="install">Install</h1>\n<pre><code><div class="highlight"><pre><span class="nx">$</span> <span class="nx">npm</span> <span class="nx">install</span> <span class="o">-</span><span class="nx">g</span> <span class="nx">lightpost</span>\n<span class="nx">$</span> <span class="nx">lightpost</span>\n<span class="o">&gt;</span> <span class="s2">&quot;Hello world!&quot;</span> <span class="nx">print</span>\n<span class="nx">Hello</span> <span class="nx">world</span><span class="o">!</span>\n<span class="o">&gt;</span> <span class="p">(</span><span class="nx">Ctrl</span><span class="o">+</span><span class="nx">D</span><span class="p">)</span>\n<span class="nx">$</span> <span class="nx">echo</span> <span class="s1">&#39;&quot;Hello world!&quot; print&#39;</span> <span class="o">&gt;</span><span class="nx">hello</span><span class="p">.</span><span class="nx">lp</span>\n<span class="nx">$</span> <span class="nx">lightpost</span> <span class="nx">hello</span><span class="p">.</span><span class="nx">lp</span>\n<span class="nx">Hello</span> <span class="nx">world</span><span class="o">!</span>\n</pre></div>\n\n</code></pre><h1 id="basics">Basics</h1>\n<pre><code><div class="highlight"><pre><span class="o">&gt;</span> <span class="c1">// Post-fix notation means the operator comes after its operands:</span>\n<span class="o">&gt;</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">+</span>\n\n<span class="o">&gt;</span> <span class="c1">// Now 2 is on the stack. To see this, use the inspect command:</span>\n<span class="o">&gt;</span> <span class="nx">inspect</span>\n<span class="nx">Stack</span><span class="o">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span>\n<span class="nx">Variables</span><span class="o">:</span> <span class="p">{}</span>\n<span class="nx">Module</span> <span class="nx">Variables</span><span class="o">:</span> <span class="p">{}</span>\n\n<span class="o">&gt;</span> <span class="c1">// When the interpreter encounters a value, it simply pushes it onto</span>\n<span class="o">&gt;</span> <span class="c1">// the stack. When it encounters a function (or operator, same thing</span>\n<span class="o">&gt;</span> <span class="c1">// as far as lightpost is concerned), it pops the number of arguments</span>\n<span class="o">&gt;</span> <span class="c1">// needed by the function, executes it, and pushes the output onto</span>\n<span class="o">&gt;</span> <span class="c1">// the stack. print is a function which takes one argument, prints</span>\n<span class="o">&gt;</span> <span class="c1">// it, and returns nothing:</span>\n<span class="o">&gt;</span> <span class="nx">print</span>\n<span class="mi">2</span>\n\n<span class="o">&gt;</span> <span class="c1">// An unassigned identifier is considered to be a value. So x here</span>\n<span class="o">&gt;</span> <span class="c1">// will just get pushed onto the stack:</span>\n<span class="o">&gt;</span> <span class="nx">x</span>\n<span class="o">&gt;</span> <span class="nx">inspect</span>\n<span class="nx">Stack</span><span class="o">:</span> <span class="p">[{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="s2">&quot;variable&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="o">:</span><span class="s2">&quot;x&quot;</span><span class="p">}]</span>\n<span class="nx">Variables</span><span class="o">:</span> <span class="p">{}</span>\n<span class="nx">Module</span> <span class="nx">Variables</span><span class="o">:</span> <span class="p">{}</span>\n\n<span class="o">&gt;</span> <span class="c1">// To assign to x, use =. Usually it&#39;s more readable to put</span>\n<span class="o">&gt;</span> <span class="c1">// `x 7 =` on one line, but since x is already on the stack, omit</span>\n<span class="o">&gt;</span> <span class="c1">// the x:</span>\n<span class="o">&gt;</span> <span class="mi">7</span> <span class="o">=</span>\n<span class="o">&gt;</span> <span class="nx">inspect</span>\n<span class="nx">Stack</span><span class="o">:</span> <span class="p">[]</span>\n<span class="nx">Variables</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="o">:</span><span class="mi">7</span><span class="p">}</span>\n<span class="nx">Module</span> <span class="nx">Variables</span><span class="o">:</span> <span class="p">{}</span>\n\n<span class="o">&gt;</span> <span class="c1">// Now when x is passed to a function, the function will receive</span>\n<span class="o">&gt;</span> <span class="c1">// the value stored in x, instead of x itself:</span>\n<span class="o">&gt;</span> <span class="nx">x</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">print</span>\n<span class="mi">49</span>\n\n<span class="o">&gt;</span> <span class="c1">// Functions are first-class citizens in lightpost. They can be</span>\n<span class="o">&gt;</span> <span class="c1">// treated as values, passed to other functions, and functions</span>\n<span class="o">&gt;</span> <span class="c1">// can return functions. To treat a function as a value, append</span>\n<span class="o">&gt;</span> <span class="c1">// # to suppress execution:</span>\n<span class="o">&gt;</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">+</span><span class="err">#</span>\n<span class="o">&gt;</span> <span class="nx">inspect</span>\n<span class="nx">Stack</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,{</span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="s2">&quot;function&quot;</span><span class="p">,</span><span class="s2">&quot;value&quot;</span><span class="o">:</span><span class="p">{</span><span class="s2">&quot;argc&quot;</span><span class="o">:</span><span class="mi">2</span><span class="p">}}]</span>\n<span class="nx">Variables</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="o">:</span><span class="mi">7</span><span class="p">}</span>\n<span class="nx">Module</span> <span class="nx">Variables</span><span class="o">:</span> <span class="p">{}</span>\n\n<span class="o">&gt;</span> <span class="c1">// exec is a function which takes another function and executes</span>\n<span class="o">&gt;</span> <span class="c1">// it. So this will execute +, which will then take the two 1s</span>\n<span class="o">&gt;</span> <span class="c1">// and push a 2 back on the stack:</span>\n<span class="o">&gt;</span> <span class="nx">exec</span>\n<span class="o">&gt;</span> <span class="nx">inspect</span>\n<span class="nx">Stack</span><span class="o">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span>\n<span class="nx">Variables</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="o">:</span><span class="mi">7</span><span class="p">}</span>\n<span class="nx">Module</span> <span class="nx">Variables</span><span class="o">:</span> <span class="p">{}</span>\n\n<span class="o">&gt;</span> <span class="nx">print</span>\n<span class="mi">2</span>\n\n<span class="o">&gt;</span> <span class="c1">// The @ makes a variable module-global (modules are a planned</span>\n<span class="o">&gt;</span> <span class="c1">// feature, for now they&#39;re fully global):</span>\n<span class="o">&gt;</span> <span class="nx">plus</span><span class="err">@</span> <span class="o">+</span><span class="err">#</span> <span class="o">=</span>\n<span class="o">&gt;</span> <span class="mi">1</span> <span class="mi">1</span> <span class="nx">plus</span><span class="err">@</span> <span class="nx">print</span>\n<span class="mi">2</span>\n\n<span class="o">&gt;</span> <span class="c1">// The nice thing about post-fix notation is that it eliminates</span>\n<span class="o">&gt;</span> <span class="c1">// the need for parentheses. So in lightpost, parentheses are</span>\n<span class="o">&gt;</span> <span class="c1">// used to create functions instead:</span>\n<span class="o">&gt;</span> <span class="p">(</span><span class="s2">&quot;Hello world!&quot;</span> <span class="nx">print</span><span class="p">)</span>\n<span class="nx">Hello</span> <span class="nx">world</span><span class="o">!</span>\n\n<span class="o">&gt;</span> <span class="c1">// But lightpost will execute the functions you create just like</span>\n<span class="o">&gt;</span> <span class="c1">// others, so to assign it to a variable, remember the # to</span>\n<span class="o">&gt;</span> <span class="c1">// suppress execution:</span>\n<span class="o">&gt;</span> <span class="nx">sayHello</span> <span class="p">(</span><span class="s2">&quot;Hello world!&quot;</span> <span class="nx">print</span><span class="p">)</span><span class="err">#</span> <span class="o">=</span>\n<span class="o">&gt;</span> <span class="nx">sayHello</span>\n<span class="nx">Hello</span> <span class="nx">world</span><span class="o">!</span>\n<span class="o">&gt;</span> <span class="nx">sayHello</span>\n<span class="nx">Hello</span> <span class="nx">world</span><span class="o">!</span>\n\n<span class="o">&gt;</span> <span class="c1">// When inside a function, use the special pull function to pull</span>\n<span class="o">&gt;</span> <span class="c1">// items from the parent stack. In the example below,</span>\n<span class="o">&gt;</span> <span class="c1">// timesTwoPlusOne takes one argument with `1 pull`, then</span>\n<span class="o">&gt;</span> <span class="c1">// multiplies it by 2 and adds one, and by leaving the result on</span>\n<span class="o">&gt;</span> <span class="c1">// the stack, the result is returned:</span>\n<span class="o">&gt;</span> <span class="nx">timesTwoPlusOne</span> <span class="p">(</span><span class="mi">1</span> <span class="nx">pull</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">1</span> <span class="o">+</span><span class="p">)</span><span class="err">#</span> <span class="o">=</span>\n<span class="o">&gt;</span> <span class="mi">7</span> <span class="nx">timesTwoPlusOne</span> <span class="nx">print</span>\n<span class="mi">15</span>\n</pre></div>\n\n</code></pre><h1 id="run-the-website">Run the Website</h1>\n<pre><code><div class="highlight"><pre><span class="nx">git</span> <span class="nx">checkout</span> <span class="nx">git</span><span class="err">@</span><span class="nx">github</span><span class="p">.</span><span class="nx">com</span><span class="o">:</span><span class="nx">voltrevo</span><span class="o">/</span><span class="nx">lightpost</span><span class="p">.</span><span class="nx">git</span>\n<span class="nx">cd</span> <span class="nx">lightpost</span>\n<span class="nx">npm</span> <span class="nx">install</span>\n<span class="nx">npm</span> <span class="nx">run</span> <span class="nx">website</span>\n</pre></div>\n\n</code></pre><p><a href="http://localhost:8080/">http://localhost:8080/</a></p>\n<h1 id="api">API</h1>\n<p><code>npm install --save lightpost</code></p>\n<pre><code><div class="highlight"><pre><span class="s1">&#39;use strict&#39;</span>\n\n<span class="kd">var</span> <span class="nx">lightpost</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;lightpost&#39;</span><span class="p">)</span>\n\n<span class="kd">var</span> <span class="nx">interpreter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">lightpost</span><span class="p">.</span><span class="nx">interpreter</span><span class="p">(</span>\n  <span class="kd">function</span><span class="p">(</span><span class="nx">outputStr</span><span class="p">)</span> <span class="p">{</span>\n    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Lightpost output:&#39;</span><span class="p">,</span> <span class="nx">outputStr</span><span class="p">)</span>\n  <span class="p">},</span>\n  <span class="kd">function</span><span class="p">(</span><span class="nx">errorStr</span><span class="p">)</span> <span class="p">{</span>\n    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Lightpost error:&#39;</span><span class="p">,</span> <span class="nx">errorStr</span><span class="p">)</span>\n  <span class="p">}</span>\n<span class="p">)</span>\n\n<span class="nx">interpreter</span><span class="p">.</span><span class="nx">handle_string</span><span class="p">(</span><span class="s1">&#39;&quot;Hello world!&quot; print\\n&#39;</span><span class="p">)</span>\n</pre></div>\n\n</code></pre>'},{}],2:[function(require,module,exports){module.exports=function(css,customDocument){var doc=customDocument||document;if(doc.createStyleSheet){var sheet=doc.createStyleSheet();sheet.cssText=css;return sheet.ownerNode}else{var head=doc.getElementsByTagName("head")[0],style=doc.createElement("style");style.type="text/css";if(style.styleSheet){style.styleSheet.cssText=css}else{style.appendChild(doc.createTextNode(css))}head.appendChild(style);return style}};module.exports.byUrl=function(url){if(document.createStyleSheet){return document.createStyleSheet(url).ownerNode}else{var head=document.getElementsByTagName("head")[0],link=document.createElement("link");link.rel="stylesheet";link.href=url;head.appendChild(link);return link}}},{}],3:[function(require,module,exports){var css=".info-icon {\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  width: 15px;\n  height: 15px;\n  line-height: 15px;\n  font-size: 11px;\n  font-family: Hoefler;\n  font-style: italic;\n  font-weight: bold;\n  background-color: #444;\n  color: #fff;\n  border-radius: 7.5px;\n  opacity: 0.6;\n  text-align: center;\n\n  z-index: 1;\n\n  transition: opacity 0.3s;\n\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.info-icon:hover {\n  opacity: 0.9;\n  cursor: pointer;\n}\n";require("./../../../../cssify")(css);module.exports=css},{"./../../../../cssify":2}],4:[function(require,module,exports){"use strict";var parse=function(htmlStr){var container=document.createElement("div");container.innerHTML=htmlStr;if(container.children.length!==1){throw new Error(container.children.length+" nodes in browserified html file icon.html (needs to be just 1)")}return container.firstChild};module.exports=function(){return parse("<div class='info-icon'>i</div>\n"+"")}},{}],5:[function(require,module,exports){"use strict";require("./icon.css");module.exports=require("./icon.html")},{"./icon.css":3,"./icon.html":4}],6:[function(require,module,exports){"use strict";module.exports=function(ms){return new Promise(function(resolve){setTimeout(resolve,ms)})}},{}],7:[function(require,module,exports){"use strict";module.exports=function(element){return new Promise(function(resolve){var counter=0;var elementClick=function(){counter++};var windowClick=function(event){counter--;if(counter<0){element.removeEventListener("click",elementClick);window.removeEventListener("click",windowClick);resolve(event)}};setTimeout(function(){element.addEventListener("click",elementClick);window.addEventListener("click",windowClick)},0)})}},{}],8:[function(require,module,exports){"use strict";var delay=require("./delay");var getOutsideClick=require("./getOutsideClick");var infoIcon=require("info-icon");var infoOverlay=require("./overlay.html");require("./overlay.css");module.exports=function(){var icon=infoIcon();var overlay=infoOverlay();var active=false;icon.addEventListener("click",function(){if(active){return}active=true;document.body.appendChild(overlay);delay(50).then(function(){overlay.style.opacity=.8;return getOutsideClick(overlay)}).then(function(){overlay.style.opacity=0;return delay(550)}).then(function(){document.body.removeChild(overlay);active=false})});return{icon:icon,overlay:overlay}}},{"./delay":6,"./getOutsideClick":7,"./overlay.css":9,"./overlay.html":10,"info-icon":5}],9:[function(require,module,exports){var css=".info-overlay {\n  position: fixed;\n  left: 10vw;\n  top: 10vh;\n  width: 80vw;\n  height: 80vh;\n  overflow-y: scroll;\n  background-color: white;\n  opacity: 0;\n  transition: opacity 0.5s;\n  padding: 10px;\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n";require("./../../cssify")(css);module.exports=css},{"./../../cssify":2}],10:[function(require,module,exports){"use strict";var parse=function(htmlStr){var container=document.createElement("div");container.innerHTML=htmlStr;if(container.children.length!==1){throw new Error(container.children.length+" nodes in browserified html file overlay.html (needs to be just 1)")}return container.firstChild};module.exports=function(){return parse("<div class='info-overlay'></div>\n"+"")}},{}],11:[function(require,module,exports){(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports==="object"){module.exports=factory}else{factory(jQuery)}})(function($){var toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice,nullLowestDeltaTimeout,lowestDelta;if($.event.fixHooks){for(var i=toFix.length;i;){$.event.fixHooks[toFix[--i]]=$.event.mouseHooks}}var special=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var i=toBind.length;i;){this.addEventListener(toBind[--i],handler,false)}}else{this.onmousewheel=handler}$.data(this,"mousewheel-line-height",special.getLineHeight(this));$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var i=toBind.length;i;){this.removeEventListener(toBind[--i],handler,false)}}else{this.onmousewheel=null}$.removeData(this,"mousewheel-line-height");$.removeData(this,"mousewheel-page-height")},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem["offsetParent"in $.fn?"offsetParent":"parent"]();if(!$parent.length){$parent=$("body")}return parseInt($parent.css("fontSize"),10)||parseInt($elem.css("fontSize"),10)||16},getPageHeight:function(elem){return $(elem).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}});function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,offsetX=0,offsetY=0;event=$.event.fix(orgEvent);event.type="mousewheel";if("detail"in orgEvent){deltaY=orgEvent.detail*-1}if("wheelDelta"in orgEvent){deltaY=orgEvent.wheelDelta}if("wheelDeltaY"in orgEvent){deltaY=orgEvent.wheelDeltaY}if("wheelDeltaX"in orgEvent){deltaX=orgEvent.wheelDeltaX*-1}if("axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaX=deltaY*-1;deltaY=0}delta=deltaY===0?deltaX:deltaY;if("deltaY"in orgEvent){deltaY=orgEvent.deltaY*-1;delta=deltaY}if("deltaX"in orgEvent){deltaX=orgEvent.deltaX;if(deltaY===0){delta=deltaX*-1}}if(deltaY===0&&deltaX===0){return}if(orgEvent.deltaMode===1){var lineHeight=$.data(this,"mousewheel-line-height");delta*=lineHeight;deltaY*=lineHeight;deltaX*=lineHeight}else if(orgEvent.deltaMode===2){var pageHeight=$.data(this,"mousewheel-page-height");delta*=pageHeight;deltaY*=pageHeight;deltaX*=pageHeight}absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDelta||absDelta<lowestDelta){lowestDelta=absDelta;if(shouldAdjustOldDeltas(orgEvent,absDelta)){lowestDelta/=40}}if(shouldAdjustOldDeltas(orgEvent,absDelta)){delta/=40;deltaX/=40;deltaY/=40}delta=Math[delta>=1?"floor":"ceil"](delta/lowestDelta);deltaX=Math[deltaX>=1?"floor":"ceil"](deltaX/lowestDelta);deltaY=Math[deltaY>=1?"floor":"ceil"](deltaY/lowestDelta);if(special.settings.normalizeOffset&&this.getBoundingClientRect){var boundingRect=this.getBoundingClientRect();offsetX=event.clientX-boundingRect.left;offsetY=event.clientY-boundingRect.top}event.deltaX=deltaX;event.deltaY=deltaY;event.deltaFactor=lowestDelta;event.offsetX=offsetX;event.offsetY=offsetY;event.deltaMode=0;args.unshift(event,delta,deltaX,deltaY);if(nullLowestDeltaTimeout){clearTimeout(nullLowestDeltaTimeout)}nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200);return($.event.dispatch||$.event.handle).apply(this,args)}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&orgEvent.type==="mousewheel"&&absDelta%120===0}})},{}],12:[function(require,module,exports){var css="/*\n * This css file is part of jquery terminal\n *\n * Licensed under GNU LGPL Version 3 license\n * Copyright (c) 2011-2013 Jakub Jankiewicz <http://jcubic.pl>\n *\n */\n.terminal .terminal-output .format, .cmd .format,\n.cmd .prompt, .cmd .prompt div, .terminal .terminal-output div div{\n    display: inline-block;\n}\n.cmd .clipboard {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    opacity: 0.01;\n    filter: alpha(opacity = 0.01);\n    filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0.01);\n    width: 2px;\n}\n.cmd > .clipboard {\n    position: fixed;\n}\n.terminal {\n    padding: 10px;\n    position: relative;\n    overflow: hidden;\n}\n.cmd {\n    padding: 0;\n    margin: 0;\n    height: 1.3em;\n    /*margin-top: 3px; */\n}\n.cmd .cursor.blink {\n    -webkit-animation: blink 1s infinite steps(1, start);\n       -moz-animation: blink 1s infinite steps(1, start);\n        -ms-animation: blink 1s infinite steps(1, start);\n            animation: blink 1s infinite steps(1, start);\n}\n@keyframes blink {\n  0%, 100% {\n        background-color: #000;\n        color: #aaa;\n  }\n  50% {\n        background-color: #bbb; /* not #aaa because it's seem there is Google Chrome bug */\n        color: #000;\n  }\n}\n@-webkit-keyframes blink {\n  0%, 100% {\n        background-color: #000;\n        color: #aaa;\n  }\n  50% {\n        background-color: #bbb;\n        color: #000;\n  }\n}\n@-ms-keyframes blink {\n  0%, 100% {\n        background-color: #000;\n        color: #aaa;\n  }\n  50% {\n        background-color: #bbb;\n        color: #000;\n  }\n}\n@-moz-keyframes blink {\n  0%, 100% {\n        background-color: #000;\n        color: #aaa;\n  }\n  50% {\n        background-color: #bbb;\n        color: #000;\n  }\n}\n.terminal .terminal-output div div, .cmd .prompt {\n    display: block;\n    line-height: 14px;\n    height: auto;\n}\n.cmd .prompt {\n    float: left;\n}\n.terminal, .cmd {\n    font-family: FreeMono, monospace;\n    color: #aaa;\n    background-color: #000;\n    font-size: 12px;\n    line-height: 14px;\n}\n.terminal-output > div {\n    /*padding-top: 3px;*/\n    min-height: 14px;\n}\n.terminal .terminal-output div span {\n    display: inline-block;\n}\n.cmd span {\n    float: left;\n    /*display: inline-block; */\n}\n.terminal .inverted, .cmd .inverted, .cmd .cursor.blink {\n    background-color: #aaa;\n    color: #000;\n}\n.terminal .terminal-output div div::-moz-selection,\n.terminal .terminal-output div span::-moz-selection,\n.terminal .terminal-output div div a::-moz-selection {\n    background-color: #aaa;\n    color: #000;\n}\n.terminal .terminal-output div div::selection,\n.terminal .terminal-output div div a::selection,\n.terminal .terminal-output div span::selection,\n.cmd > span::selection,\n.cmd .prompt span::selection {\n    background-color: #aaa;\n    color: #000;\n}\n.terminal .terminal-output div.error, .terminal .terminal-output div.error div {\n    color: red;\n}\n.tilda {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    z-index: 1100;\n}\n.clear {\n    clear: both;\n}\n.terminal a {\n    color: #0F60FF;\n}\n.terminal a:hover {\n    color: red;\n}\n";require("./../../cssify")(css);module.exports=css},{"./../../cssify":2}],13:[function(require,module,exports){(function(ctx){var sprintf=function(){if(!sprintf.cache.hasOwnProperty(arguments[0])){sprintf.cache[arguments[0]]=sprintf.parse(arguments[0])}return sprintf.format.call(null,sprintf.cache[arguments[0]],arguments)};sprintf.format=function(parse_tree,argv){var cursor=1,tree_length=parse_tree.length,node_type="",arg,output=[],i,k,match,pad,pad_character,pad_length;for(i=0;i<tree_length;i++){node_type=get_type(parse_tree[i]);if(node_type==="string"){output.push(parse_tree[i])}else if(node_type==="array"){match=parse_tree[i];if(match[2]){arg=argv[cursor];for(k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k])){throw sprintf('[sprintf] property "%s" does not exist',match[2][k])}arg=arg[match[2][k]]}}else if(match[1]){arg=argv[match[1]]}else{arg=argv[cursor++]}if(/[^s]/.test(match[8])&&get_type(arg)!="number"){throw sprintf("[sprintf] expecting number but found %s",get_type(arg))}switch(match[8]){case"b":arg=arg.toString(2);break;case"c":arg=String.fromCharCode(arg);break;case"d":arg=parseInt(arg,10);break;case"e":arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case"f":arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case"o":arg=arg.toString(8);break;case"s":arg=(arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg;break;case"u":arg=arg>>>0;break;case"x":arg=arg.toString(16);break;case"X":arg=arg.toString(16).toUpperCase();break}arg=/[def]/.test(match[8])&&match[3]&&arg>=0?"+"+arg:arg;pad_character=match[4]?match[4]=="0"?"0":match[4].charAt(1):" ";pad_length=match[6]-String(arg).length;pad=match[6]?str_repeat(pad_character,pad_length):"";output.push(match[5]?arg+pad:pad+arg)}}return output.join("")};sprintf.cache={};sprintf.parse=function(fmt){var _fmt=fmt,match=[],parse_tree=[],arg_names=0;while(_fmt){if((match=/^[^\x25]+/.exec(_fmt))!==null){parse_tree.push(match[0])}else if((match=/^\x25{2}/.exec(_fmt))!==null){parse_tree.push("%")}else if((match=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt))!==null){if(match[2]){arg_names|=1;var field_list=[],replacement_field=match[2],field_match=[];if((field_match=/^([a-z_][a-z_\d]*)/i.exec(replacement_field))!==null){field_list.push(field_match[1]);while((replacement_field=replacement_field.substring(field_match[0].length))!==""){if((field_match=/^\.([a-z_][a-z_\d]*)/i.exec(replacement_field))!==null){field_list.push(field_match[1])}else if((field_match=/^\[(\d+)\]/.exec(replacement_field))!==null){field_list.push(field_match[1])}else{throw"[sprintf] huh?"}}}else{throw"[sprintf] huh?"}match[2]=field_list}else{arg_names|=2}if(arg_names===3){throw"[sprintf] mixing positional and named placeholders is not (yet) supported"}parse_tree.push(match)}else{throw"[sprintf] huh?"}_fmt=_fmt.substring(match[0].length)}return parse_tree};var vsprintf=function(fmt,argv,_argv){_argv=argv.slice(0);_argv.splice(0,0,fmt);return sprintf.apply(null,_argv)};function get_type(variable){return Object.prototype.toString.call(variable).slice(8,-1).toLowerCase()}function str_repeat(input,multiplier){for(var output=[];multiplier>0;output[--multiplier]=input){}return output.join("")}ctx.sprintf=sprintf;ctx.vsprintf=vsprintf})(typeof exports!="undefined"?exports:window);(function($,undefined){"use strict";$.omap=function(o,fn){var result={};$.each(o,function(k,v){result[k]=fn.call(o,k,v)});return result};var isLS=typeof window.localStorage!=="undefined";function wls(n,v){var c;if(typeof n==="string"&&typeof v==="string"){localStorage[n]=v;return true}else if(typeof n==="object"&&typeof v==="undefined"){for(c in n){if(n.hasOwnProperty(c)){localStorage[c]=n[c]}}return true}return false}function wc(n,v){var dt,e,c;dt=new Date;dt.setTime(dt.getTime()+31536e6);e="; expires="+dt.toGMTString();if(typeof n==="string"&&typeof v==="string"){document.cookie=n+"="+v+e+"; path=/";return true}else if(typeof n==="object"&&typeof v==="undefined"){for(c in n){if(n.hasOwnProperty(c)){document.cookie=c+"="+n[c]+e+"; path=/"}}return true}return false}function rls(n){return localStorage[n]}function rc(n){var nn,ca,i,c;nn=n+"=";ca=document.cookie.split(";");for(i=0;i<ca.length;i++){c=ca[i];while(c.charAt(0)===" "){c=c.substring(1,c.length)}if(c.indexOf(nn)===0){return c.substring(nn.length,c.length)}}return null}function dls(n){return delete localStorage[n]}function dc(n){return wc(n,"",-1)}$.extend({Storage:{set:isLS?wls:wc,get:isLS?rls:rc,remove:isLS?dls:dc}});jQuery.fn.extend({everyTime:function(interval,label,fn,times,belay){return this.each(function(){jQuery.timer.add(this,interval,label,fn,times,belay)})},oneTime:function(interval,label,fn){return this.each(function(){jQuery.timer.add(this,interval,label,fn,1)})},stopTime:function(label,fn){return this.each(function(){jQuery.timer.remove(this,label,fn)})}});jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(value){if(value===undefined||value===null){return null}var result=this.regex.exec(jQuery.trim(value.toString()));if(result[2]){var num=parseInt(result[1],10);var mult=this.powers[result[2]]||1;return num*mult}else{return value}},add:function(element,interval,label,fn,times,belay){var counter=0;if(jQuery.isFunction(label)){if(!times){times=fn}fn=label;label=interval}interval=jQuery.timer.timeParse(interval);if(typeof interval!=="number"||isNaN(interval)||interval<=0){return}if(times&&times.constructor!==Number){belay=!!times;times=0}times=times||0;belay=belay||false;if(!element.$timers){element.$timers={}}if(!element.$timers[label]){element.$timers[label]={}}fn.$timerID=fn.$timerID||this.guid++;var handler=function(){if(belay&&handler.inProgress){return}handler.inProgress=true;if(++counter>times&&times!==0||fn.call(element,counter)===false){jQuery.timer.remove(element,label,fn)}handler.inProgress=false};handler.$timerID=fn.$timerID;if(!element.$timers[label][fn.$timerID]){element.$timers[label][fn.$timerID]=window.setInterval(handler,interval)}if(!this.global[label]){this.global[label]=[]}this.global[label].push(element)},remove:function(element,label,fn){var timers=element.$timers,ret;if(timers){if(!label){for(var lab in timers){if(timers.hasOwnProperty(lab)){this.remove(element,lab,fn)}}}else if(timers[label]){if(fn){if(fn.$timerID){window.clearInterval(timers[label][fn.$timerID]);delete timers[label][fn.$timerID]}}else{for(var _fn in timers[label]){if(timers[label].hasOwnProperty(_fn)){window.clearInterval(timers[label][_fn]);delete timers[label][_fn]}}}for(ret in timers[label]){if(timers[label].hasOwnProperty(ret)){break}}if(!ret){ret=null;delete timers[label]}}for(ret in timers){if(timers.hasOwnProperty(ret)){break}}if(!ret){element.$timers=null}}}}});if(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())){jQuery(window).one("unload",function(){var global=jQuery.timer.global;for(var label in global){if(global.hasOwnProperty(label)){var els=global[label],i=els.length;while(--i){jQuery.timer.remove(els[i],label)}}}})}(function(undef){if(!String.prototype.split.toString().match(/\[native/)){return}var nativeSplit=String.prototype.split,compliantExecNpcg=/()??/.exec("")[1]===undef,self;self=function(str,separator,limit){if(Object.prototype.toString.call(separator)!=="[object RegExp]"){
return nativeSplit.call(str,separator,limit)}var output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.extended?"x":"")+(separator.sticky?"y":""),lastLastIndex=0,separator2,match,lastIndex,lastLength;separator=new RegExp(separator.source,flags+"g");str+="";if(!compliantExecNpcg){separator2=new RegExp("^"+separator.source+"$(?!\\s)",flags)}limit=limit===undef?-1>>>0:limit>>>0;while(match=separator.exec(str)){lastIndex=match.index+match[0].length;if(lastIndex>lastLastIndex){output.push(str.slice(lastLastIndex,match.index));if(!compliantExecNpcg&&match.length>1){match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++){if(arguments[i]===undef){match[i]=undef}}})}if(match.length>1&&match.index<str.length){Array.prototype.push.apply(output,match.slice(1))}lastLength=match[0].length;lastLastIndex=lastIndex;if(output.length>=limit){break}}if(separator.lastIndex===match.index){separator.lastIndex++}}if(lastLastIndex===str.length){if(lastLength||!separator.test("")){output.push("")}}else{output.push(str.slice(lastLastIndex))}return output.length>limit?output.slice(0,limit):output};String.prototype.split=function(separator,limit){return self(this,separator,limit)};return self})();function str_parts(str,length){var result=[];var len=str.length;if(len<length){return[str]}for(var i=0;i<len;i+=length){result.push(str.substring(i,i+length))}return result}function Cycle(init){var data=init?[init]:[];var pos=0;$.extend(this,{get:function(){return data},rotate:function(){if(data.length===1){return data[0]}else{if(pos===data.length-1){pos=0}else{++pos}return data[pos]}},length:function(){return data.length},set:function(item){for(var i=data.length;i--;){if(data[i]===item){pos=i;return}}this.append(item)},front:function(){return data[pos]},append:function(item){data.push(item)}})}function Stack(init){var data=init?[init]:[];$.extend(this,{map:function(fn){return $.map(data,fn)},size:function(){return data.length},pop:function(){if(data.length===0){return null}else{var value=data[data.length-1];data=data.slice(0,data.length-1);return value}},push:function(value){data=data.concat([value]);return value},top:function(){return data.length>0?data[data.length-1]:null}})}$.json_stringify=function(object,level){var result="",i;level=level===undefined?1:level;var type=typeof object;switch(type){case"function":result+=object;break;case"boolean":result+=object?"true":"false";break;case"object":if(object===null){result+="null"}else if(object instanceof Array){result+="[";var len=object.length;for(i=0;i<len-1;++i){result+=$.json_stringify(object[i],level+1)}result+=$.json_stringify(object[len-1],level+1)+"]"}else{result+="{";for(var property in object){if(object.hasOwnProperty(property)){result+='"'+property+'":'+$.json_stringify(object[property],level+1)}}result+="}"}break;case"string":var str=object;var repl={"\\\\":"\\\\",'"':'\\"',"/":"\\/","\\n":"\\n","\\r":"\\r","\\t":"\\t"};for(i in repl){if(repl.hasOwnProperty(i)){str=str.replace(new RegExp(i,"g"),repl[i])}}result+='"'+str+'"';break;case"number":result+=String(object);break}result+=level>1?",":"";if(level===1){result=result.replace(/,([\]}])/g,"$1")}return result.replace(/([\[{]),/g,"$1")};function History(name,size){var enabled=true;var storage_key="";if(typeof name==="string"&&name!==""){storage_key=name+"_"}storage_key+="commands";var data=$.Storage.get(storage_key);data=data?$.parseJSON(data):[];var pos=data.length-1;$.extend(this,{append:function(item){if(enabled){if(data[data.length-1]!==item){data.push(item);if(size&&data.length>size){data=data.slice(-size)}pos=data.length-1;$.Storage.set(storage_key,$.json_stringify(data))}}},data:function(){return data},reset:function(){pos=data.length-1},last:function(){return data[length-1]},end:function(){return pos===data.length-1},position:function(){return pos},current:function(){return data[pos]},next:function(){if(pos<data.length-1){++pos}if(pos!==-1){return data[pos]}},previous:function(){var old=pos;if(pos>0){--pos}if(old!==-1){return data[pos]}},clear:function(){data=[];this.purge()},enabled:function(){return enabled},enable:function(){enabled=true},purge:function(){$.Storage.remove(storage_key)},disable:function(){enabled=false}})}$.fn.cmd=function(options){var self=this;var maybe_data=self.data("cmd");if(maybe_data){return maybe_data}self.addClass("cmd");self.append('<span class="prompt"></span><span></span>'+'<span class="cursor">&nbsp;</span><span></span>');var clip=$("<textarea/>").addClass("clipboard").appendTo(self);if(options.width){self.width(options.width)}var num_chars;var prompt_len;var reverse_search=false;var reverse_search_string="";var reverse_search_position=null;var backup_prompt;var mask=options.mask||false;var command="";var selected_text="";var kill_text="";var position=0;var prompt;var enabled=options.enabled;var historySize=options.historySize||60;var name,history;var cursor=self.find(".cursor");var animation;if(supportAnimations()){animation=function(toggle){if(toggle){cursor.addClass("blink")}else{cursor.removeClass("blink")}}}else{animation=function(toggle){if(toggle&&!enabled){cursor.addClass("inverted");self.everyTime(500,"blink",blink)}else if(enabled){self.stopTime("blink",blink);cursor.removeClass("inverted")}}}function blink(i){cursor.toggleClass("inverted")}function draw_reverse_prompt(){prompt="(reverse-i-search)`"+reverse_search_string+"': ";draw_prompt()}function clear_reverse_state(){prompt=backup_prompt;reverse_search=false;reverse_search_position=null;reverse_search_string=""}function reverse_history_search(next){var history_data=history.data();var regex,save_string;var len=history_data.length;if(next&&reverse_search_position>0){len-=reverse_search_position}if(reverse_search_string.length>0){for(var j=reverse_search_string.length;j>0;j--){save_string=reverse_search_string.substring(0,j).replace(/([.*+{}\[\]?])/g,"\\$1");regex=new RegExp(save_string);for(var i=len;i--;){if(regex.test(history_data[i])){reverse_search_position=history_data.length-i;position=0;self.set(history_data[i],true);redraw();if(reverse_search_string.length!==j){reverse_search_string=reverse_search_string.substring(0,j);draw_reverse_prompt()}return}}}}reverse_search_string=""}function change_num_chars(){var W=self.width();var w=cursor.innerWidth();num_chars=Math.floor(W/w)}function str_repeat(str,n){var result="";for(var i=n;i--;){result+=str}return result}function get_splited_command_line(string){var first=string.substring(0,num_chars-prompt_len);var rest=string.substring(num_chars-prompt_len);return[first].concat(str_parts(rest,num_chars))}var redraw=function(self){var before=cursor.prev();var after=cursor.next();function draw_cursor_line(string,position){var len=string.length;if(position===len){before.html($.terminal.encode(string,true));cursor.html("&nbsp;");after.html("")}else if(position===0){before.html("");cursor.html($.terminal.encode(string.slice(0,1),true));after.html($.terminal.encode(string.slice(1),true))}else{var before_str=$.terminal.encode(string.slice(0,position),true);before.html(before_str);var c=string.slice(position,position+1);cursor.html(c===" "?"&nbsp;":$.terminal.encode(c,true));if(position===string.length-1){after.html("")}else{after.html($.terminal.encode(string.slice(position+1),true))}}}function div(string){return"<div>"+$.terminal.encode(string,true)+"</div>"}function lines_after(lines){var last_ins=after;$.each(lines,function(i,line){last_ins=$(div(line)).insertAfter(last_ins).addClass("clear")})}function lines_before(lines){$.each(lines,function(i,line){before.before(div(line))})}var count=0;return function(){var string=mask?command.replace(/./g,"*"):command;var i,first_len;self.find("div").remove();before.html("");if(string.length>num_chars-prompt_len-1||string.match(/\n/)){var array;var tabs=string.match(/\t/g);var tabs_rm=tabs?tabs.length*3:0;if(tabs){string=string.replace(/\t/g,"\x00\x00\x00\x00")}if(string.match(/\n/)){var tmp=string.split("\n");first_len=num_chars-prompt_len-1;for(i=0;i<tmp.length-1;++i){tmp[i]+=" "}if(tmp[0].length>first_len){array=[tmp[0].substring(0,first_len)];array=array.concat(str_parts(tmp[0].substring(first_len),num_chars))}else{array=[tmp[0]]}for(i=1;i<tmp.length;++i){if(tmp[i].length>num_chars){array=array.concat(str_parts(tmp[i],num_chars))}else{array.push(tmp[i])}}}else{array=get_splited_command_line(string)}if(tabs){array=$.map(array,function(line){return line.replace(/\x00\x00\x00\x00/g,"	")})}first_len=array[0].length;if(first_len===0&&array.length===1){}else if(position<first_len){draw_cursor_line(array[0],position);lines_after(array.slice(1))}else if(position===first_len){before.before(div(array[0]));draw_cursor_line(array[1],0);lines_after(array.slice(2))}else{var num_lines=array.length;var offset=0;if(position<first_len){draw_cursor_line(array[0],position);lines_after(array.slice(1))}else if(position===first_len){before.before(div(array[0]));draw_cursor_line(array[1],0);lines_after(array.slice(2))}else{var last=array.slice(-1)[0];var from_last=string.length-position;var last_len=last.length;var pos=0;if(from_last<=last_len){lines_before(array.slice(0,-1));pos=last_len===from_last?0:last_len-from_last;draw_cursor_line(last,pos+tabs_rm)}else{if(num_lines===3){before.before("<div>"+$.terminal.encode(array[0],true)+"</div>");draw_cursor_line(array[1],position-first_len-1);after.after('<div class="clear">'+$.terminal.encode(array[2],true)+"</div>")}else{var line_index;var current;pos=position;for(i=0;i<array.length;++i){var current_len=array[i].length;if(pos>current_len){pos-=current_len}else{break}}current=array[i];line_index=i;if(pos===current.length){pos=0;current=array[++line_index]}draw_cursor_line(current,pos);lines_before(array.slice(0,line_index));lines_after(array.slice(line_index+1))}}}}}else{if(string===""){before.html("");cursor.html("&nbsp;");after.html("")}else{draw_cursor_line(string,position)}}}}(self);var last_command;var draw_prompt=function(){var prompt_node=self.find(".prompt");function set(prompt){prompt_len=skipFormattingCount(prompt);prompt_node.html($.terminal.format($.terminal.encode(prompt)))}return function(){switch(typeof prompt){case"string":set(prompt);break;case"function":prompt(set);break}}}();function paste(){clip.focus();self.oneTime(1,function(){self.insert(clip.val());clip.blur().val("")})}var first_up_history=true;function keydown_event(e){var result,pos,len;if(typeof options.keydown=="function"){result=options.keydown(e);if(result!==undefined){return result}}if(enabled){if(e.which!==38&&!(e.which===80&&e.ctrlKey)){first_up_history=true}if(reverse_search&&(e.which===35||e.which===36||e.which===37||e.which===38||e.which===39||e.which===40||e.which===13||e.which===27)){clear_reverse_state();draw_prompt();if(e.which===27){command=""}redraw();keydown_event.call(this,e)}else if(e.altKey){if(e.which===68){self.set(command.slice(0,position)+command.slice(position).replace(/[^ ]+ |[^ ]+$/,""),true);return false}return true}else if(e.keyCode===13){if(e.shiftKey){self.insert("\n")}else{if(history&&command&&!mask&&(typeof options.historyFilter=="function"&&options.historyFilter(command)||!options.historyFilter)){history.append(command)}var tmp=command;history.reset();self.set("");if(options.commands){options.commands(tmp)}if(typeof prompt==="function"){draw_prompt()}}}else if(e.which===8){if(reverse_search){reverse_search_string=reverse_search_string.slice(0,-1);draw_reverse_prompt()}else{if(command!==""&&position>0){command=command.slice(0,position-1)+command.slice(position,command.length);--position;redraw()}}}else if(e.which===67&&e.ctrlKey&&e.shiftKey){selected_text=getSelectedText()}else if(e.which===86&&e.ctrlKey&&e.shiftKey){if(selected_text!==""){self.insert(selected_text)}}else if(e.which===9&&!(e.ctrlKey||e.altKey)){self.insert("	")}else if(e.which===46){if(command!==""&&position<command.length){command=command.slice(0,position)+command.slice(position+1,command.length);redraw()}return true}else if(history&&e.which===38||e.which===80&&e.ctrlKey){if(first_up_history){last_command=command;self.set(history.current())}else{self.set(history.previous())}first_up_history=false}else if(history&&e.which===40||e.which===78&&e.ctrlKey){self.set(history.end()?last_command:history.next())}else if(e.which===37||e.which===66&&e.ctrlKey){if(e.ctrlKey&&e.which!==66){len=position-1;pos=0;if(command[len]===" "){--len}for(var i=len;i>0;--i){if(command[i]===" "&&command[i+1]!==" "){pos=i+1;break}else if(command[i]==="\n"&&command[i+1]!=="\n"){pos=i;break}}self.position(pos)}else{if(position>0){--position;redraw()}}}else if(e.which===82&&e.ctrlKey){if(reverse_search){reverse_history_search(true)}else{backup_prompt=prompt;draw_reverse_prompt();last_command=command;command="";redraw();reverse_search=true}}else if(e.which==71&&e.ctrlKey){if(reverse_search){prompt=backup_prompt;draw_prompt();command=last_command;redraw();reverse_search=false;reverse_search_string=""}}else if(e.which===39||e.which===70&&e.ctrlKey){if(e.ctrlKey&&e.which!==70){if(command[position]===" "){++position}var re=/\S[\n\s]{2,}|[\n\s]+\S?/;var match=command.slice(position).match(re);if(!match||match[0].match(/^\s+$/)){position=command.length}else{if(match[0][0]!==" "){position+=match.index+1}else{position+=match.index+match[0].length-1;if(match[0][match[0].length-1]!==" "){--position}}}redraw()}else{if(position<command.length){++position;redraw()}}}else if(e.which===123){return true}else if(e.which===36){self.position(0)}else if(e.which===35){self.position(command.length)}else if(e.shiftKey&&e.which==45){paste();return true}else if(e.ctrlKey||e.metaKey){if(e.which===192){return true}if(e.metaKey){if(e.which===82){return true}else if(e.which===76){return true}}if(e.shiftKey){if(e.which===84){return true}}else{if(e.which===81){if(command!==""&&position!==0){var first=command.slice(0,position);var last=command.slice(position+1);var m=first.match(/([^ ]+ *$)/);position=first.length-m[0].length;kill_text=first.slice(position);command=first.slice(0,position)+last;redraw()}return false}else if(e.which===72){if(command!==""&&position>0){command=command.slice(0,--position);if(position<command.length-1){command+=command.slice(position)}redraw()}return false}else if(e.which===65){self.position(0)}else if(e.which===69){self.position(command.length)}else if(e.which===88||e.which===67||e.which===84){return true}else if(e.which===89){if(kill_text!==""){self.insert(kill_text)}}else if(e.which===86){paste();return true}else if(e.which===75){if(position===0){kill_text=command;self.set("")}else if(position!==command.length){kill_text=command.slice(position);self.set(command.slice(0,position))}}else if(e.which===85){if(command!==""&&position!==0){kill_text=command.slice(0,position);self.set(command.slice(position,command.length));self.position(0)}}else if(e.which===17){return false}}}else{return true}return false}}var history_list=[];$.extend(self,{name:function(string){if(string!==undefined){name=string;var enabled=history&&history.enabled()||!history;history=new History(string,historySize);if(!enabled){history.disable()}return self}else{return name}},purge:function(){history.clear();return self},history:function(){return history},set:function(string,stay){if(string!==undefined){command=string;if(!stay){position=command.length}redraw();if(typeof options.onCommandChange==="function"){options.onCommandChange(command)}}return self},insert:function(string,stay){if(position===command.length){command+=string}else if(position===0){command=string+command}else{command=command.slice(0,position)+string+command.slice(position)}if(!stay){position+=string.length}redraw();if(typeof options.onCommandChange==="function"){options.onCommandChange(command)}return self},get:function(){return command},commands:function(commands){if(commands){options.commands=commands;return self}else{return commands}},destroy:function(){$(document.documentElement||window).unbind(".cmd");self.stopTime("blink",blink);self.find(".cursor").next().remove().end().prev().remove().end().remove();self.find(".prompt, .clipboard").remove();self.removeClass("cmd").removeData("cmd");return self},prompt:function(user_prompt){if(user_prompt===undefined){return prompt}else{if(typeof user_prompt==="string"||typeof user_prompt==="function"){prompt=user_prompt}else{throw"prompt must be a function or string"}draw_prompt();redraw();return self}},kill_text:function(){return kill_text},position:function(n){if(typeof n==="number"){position=n<0?0:n>command.length?command.length:n;redraw();return self}else{return position}},visible:function(){var visible=self.visible;return function(){visible.apply(self,[]);redraw();draw_prompt()}}(),show:function(){var show=self.show;return function(){show.apply(self,[]);redraw();draw_prompt()}}(),resize:function(num){if(num){num_chars=num}else{change_num_chars()}redraw();return self},enable:function(){enabled=true;animation(true);return self},isenabled:function(){return enabled},disable:function(){enabled=false;animation(false);return self},mask:function(display){if(typeof display==="boolean"){mask=display;redraw();return self}else{return mask}}});self.name(options.name||options.prompt||"");prompt=options.prompt||"> ";draw_prompt();if(options.enabled===undefined||options.enabled===true){self.enable()}var object;$(document.documentElement||window).bind("keypress.cmd",function(e){var result;if(e.ctrlKey&&e.which===99){return true}if(!reverse_search&&typeof options.keypress==="function"){result=options.keypress(e)}if(result===undefined||result){if(enabled){if($.inArray(e.which,[38,13,0,8])>-1&&e.keyCode!==123&&!(e.which===38&&e.shiftKey)){return false}else if(!e.ctrlKey&&!(e.altKey&&e.which===100)||e.altKey){if(reverse_search){reverse_search_string+=String.fromCharCode(e.which);reverse_history_search();draw_reverse_prompt()}else{self.insert(String.fromCharCode(e.which))}return false}}}else{return result}}).bind("keydown.cmd",keydown_event);self.data("cmd",self);return self};function skipFormattingCount(string){return $("<div>"+$.terminal.strip(string)+"</div>").text().length}function formattingCount(string){return string.length-skipFormattingCount(string)}function supportAnimations(){var animation=false,animationstring="animation",keyframeprefix="",domPrefixes="Webkit Moz O ms Khtml".split(" "),pfx="",elm=document.createElement("div");if(elm.style.animationName){animation=true}if(animation===false){for(var i=0;i<domPrefixes.length;i++){if(elm.style[domPrefixes[i]+"AnimationName"]!==undefined){pfx=domPrefixes[i];animationstring=pfx+"Animation";keyframeprefix="-"+pfx.toLowerCase()+"-";animation=true;break}}}return animation}function processCommand(string,fn){var args=string.replace(/^\s+|\s+$/g,"").split(/(\s+)/);var rest=string.replace(/^[^\s]+\s*/,"");return{name:args[0],args:fn(rest),rest:rest}}var color_names=["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"];var format_split_re=/(\[\[[gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?)/i;var format_parts_re=/\[\[([gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?/gi;var format_re=/\[\[([gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?/gi;var format_full_re=/^\[\[([gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]$/gi;var color_hex_re=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i;var url_re=/\bhttps?:\/\/(?:(?!&[^;]+;)[^\s"'<>)])+\b/g;var email_re=/((([^<>('")[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g;var command_re=/('[^']*'|"(\\"|[^"])*"|\/(\\\/|[^\/])+\/[gimy]*|(\\ |[^ ])+|[\w-]+)/g;var format_begin_re=/(\[\[[gbiuso]*;[^;]*;[^\]]*\])/i;var format_last_re=/\[\[[gbiuso]*;[^;]*;[^\]]*\]?$/i;$.terminal={valid_color:function(color){return color.match(color_hex_re)||$.inArray(color.toLowerCase(),color_names)!==-1},escape_regex:function(string){var special=/([\^\$\[\]\(\)\+\*\.\|])/g;return string.replace(special,"\\$1")},have_formatting:function(str){return str.match(format_re)},is_formatting:function(str){return str.match(format_full_re)},format_split:function(str){return str.split(format_split_re)},split_equal:function(str,length){var formatting=false;var in_text=false;var braket=0;var prev_format="";var result=[];var array=str.replace(format_re,function(_,format,text){var semicolons=format.match(/;/g).length;if(semicolons==2){semicolons=";;"}else if(semicolons==3){semicolons=";"}else{semicolons=""}return"[["+format+semicolons+text.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n")+"]"+text+"]"}).split(/\n/g);for(var i=0,len=array.length;i<len;++i){if(array[i]===""){result.push("");continue}var line=array[i];var first_index=0;var count=0;for(var j=0,jlen=line.length;j<jlen;++j){if(line[j]==="["&&line[j+1]==="["){formatting=true}else if(formatting&&line[j]==="]"){if(in_text){formatting=false;in_text=false}else{in_text=true}}else if(formatting&&in_text||!formatting){if(line[j]==="&"){var m=line.substring(j).match(/^(&[^;]+;)/);if(!m){throw"Unclosed html entity in line "+(i+1)+" at char "+(j+1)}j+=m[1].length-2;if(j===jlen-1){result.push(output_line+m[1])}continue}else if(line[j]==="]"&&line[j-1]==="\\"){--count}else{++count}}if(count===length||j===jlen-1){var output_line=line.substring(first_index,j+1);if(prev_format){output_line=prev_format+output_line;if(output_line.match("]")){prev_format=""}}first_index=j+1;count=0;var matched=output_line.match(format_re);if(matched){var last=matched[matched.length-1];if(last[last.length-1]!=="]"){prev_format=last.match(format_begin_re)[1];output_line+="]"}else if(output_line.match(format_last_re)){var line_len=output_line.length;var f_len=line_len-last[last.length-1].length;output_line=output_line.replace(format_last_re,"");prev_format=last.match(format_begin_re)[1]}}result.push(output_line)}}}return result},encode:function(str,full){if(full){str=str.replace(/&(?![^=]+=)/g,"&amp;")}else{str=str.replace(/&(?!#[0-9]+;|[a-zA-Z]+;|[^= "]+=[^=])/g,"&amp;")}return str.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},format:function(str,options){var settings=$.extend({},{linksNoReferrer:false},options||{});if(typeof str==="string"){var splited=$.terminal.format_split(str);if(splited&&splited.length>1){str=$.map(splited,function(text){if(text===""){return text}else if(text.substring(0,1)==="["){return text.replace(format_parts_re,function(s,style,color,background,_class,data_text,text){if(text===""){return""}text=text.replace(/\\]/g,"]");var style_str="";if(style.indexOf("b")!==-1){style_str+="font-weight:bold;"}var text_decoration=[];if(style.indexOf("u")!==-1){text_decoration.push("underline")}if(style.indexOf("s")!==-1){text_decoration.push("line-through")}if(style.indexOf("o")!==-1){text_decoration.push("overline")}if(text_decoration.length){style_str+="text-decoration:"+text_decoration.join(" ")+";"}if(style.indexOf("i")!==-1){style_str+="font-style:italic;"}if($.terminal.valid_color(color)){style_str+="color:"+color+";";if(style.indexOf("g")!==-1){style_str+="text-shadow:0 0 5px "+color+";"}}if($.terminal.valid_color(background)){style_str+="background-color:"+background}var data;if(data_text===""){data=text}else{data=data_text.replace(/&#93;/g,"]")}var result='<span style="'+style_str+'"'+(_class!==""?' class="'+_class+'"':"")+' data-text="'+data.replace('"',"&quote;")+'">'+text+"</span>";return result})}else{return"<span>"+text+"</span>"}}).join("")}return $.map(str.split(/(<\/?span[^>]*>)/g),function(string){if(!string.match(/span/)){return string.replace(url_re,function(link){var comma=link.match(/\.$/);link=link.replace(/\.$/,"");return'<a target="_blank" '+(settings.linksNoReferer?' rel="noreferrer" ':"")+'href="'+link+'">'+link+"</a>"+(comma?".":"")}).replace(email_re,'<a href="mailto:$1">$1</a>')}else{return string}}).join("").replace(/<span><br\/?><\/span>/g,"<br/>")}else{return""}},escape_brackets:function(string){return string.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},strip:function(str){return str.replace(format_parts_re,"$6")},active:function(){return terminals.front()},overtyping:function(string){return string.replace(/((?:_\x08.|.\x08_)+)/g,function(full,g){return"[[u;;]"+full.replace(/_x08|\x08_|_\u0008|\u0008_/g,"")+"]"}).replace(/((?:.\x08.)+)/g,function(full,g){return"[[b;#fff;]"+full.replace(/(.)(?:\x08|\u0008)(.)/g,function(full,g1,g2){return g2})+"]"})},ansi_colors:{normal:{black:"#000",red:"#A00",green:"#008400",yellow:"#A50",blue:"#00A",magenta:"#A0A",cyan:"#0AA",white:"#AAA"},faited:{black:"#000",red:"#640000",green:"#006100",yellow:"#737300",blue:"#000087",magenta:"#650065",cyan:"#008787",white:"#818181"},bold:{black:"#000",red:"#F55",green:"#44D544",yellow:"#FF5",blue:"#55F",magenta:"#F5F",cyan:"#5FF",white:"#FFF"},palette:["#000000","#AA0000","#00AA00","#AA5500","#0000AA","#AA00AA","#00AAAA","#AAAAAA","#555555","#FF5555","#55FF55","#FFFF55","#5555FF","#FF55FF","#55FFFF","#FFFFFF","#000000","#00005F","#000087","#0000AF","#0000D7","#0000FF","#005F00","#005F5F","#005F87","#005FAF","#005FD7","#005FFF","#008700","#00875F","#008787","#0087AF","#0087D7","#00AF00","#00AF5F","#00AF87","#00AFAF","#00AFD7","#00AFFF","#00D700","#00D75F","#00D787","#00D7AF","#00D7D7","#00D7FF","#00FF00","#00FF5F","#00FF87","#00FFAF","#00FFD7","#00FFFF","#5F0000","#5F005F","#5F0087","#5F00AF","#5F00D7","#5F00FF","#5F5F00","#5F5F5F","#5F5F87","#5F5FAF","#5F5FD7","#5F5FFF","#5F8700","#5F875F","#5F8787","#5F87AF","#5F87D7","#5F87FF","#5FAF00","#5FAF5F","#5FAF87","#5FAFAF","#5FAFD7","#5FAFFF","#5FD700","#5FD75F","#5FD787","#5FD7AF","#5FD7D7","#5FD7FF","#5FFF00","#5FFF5F","#5FFF87","#5FFFAF","#5FFFD7","#5FFFFF","#870000","#87005F","#870087","#8700AF","#8700D7","#8700FF","#875F00","#875F5F","#875F87","#875FAF","#875FD7","#875FFF","#878700","#87875F","#878787","#8787AF","#8787D7","#8787FF","#87AF00","#87AF5F","#87AF87","#87AFAF","#87AFD7","#87AFFF","#87D700","#87D75F","#87D787","#87D7AF","#87D7D7","#87D7FF","#87FF00","#87FF5F","#87FF87","#87FFAF","#87FFD7","#87FFFF","#AF0000","#AF005F","#AF0087","#AF00AF","#AF00D7","#AF00FF","#AF5F00","#AF5F5F","#AF5F87","#AF5FAF","#AF5FD7","#AF5FFF","#AF8700","#AF875F","#AF8787","#AF87AF","#AF87D7","#AF87FF","#AFAF00","#AFAF5F","#AFAF87","#AFAFAF","#AFAFD7","#AFAFFF","#AFD700","#AFD75F","#AFD787","#AFD7AF","#AFD7D7","#AFD7FF","#AFFF00","#AFFF5F","#AFFF87","#AFFFAF","#AFFFD7","#AFFFFF","#D70000","#D7005F","#D70087","#D700AF","#D700D7","#D700FF","#D75F00","#D75F5F","#D75F87","#D75FAF","#D75FD7","#D75FFF","#D78700","#D7875F","#D78787","#D787AF","#D787D7","#D787FF","#D7AF00","#D7AF5F","#D7AF87","#D7AFAF","#D7AFD7","#D7AFFF","#D7D700","#D7D75F","#D7D787","#D7D7AF","#D7D7D7","#D7D7FF","#D7FF00","#D7FF5F","#D7FF87","#D7FFAF","#D7FFD7","#D7FFFF","#FF0000","#FF005F","#FF0087","#FF00AF","#FF00D7","#FF00FF","#FF5F00","#FF5F5F","#FF5F87","#FF5FAF","#FF5FD7","#FF5FFF","#FF8700","#FF875F","#FF8787","#FF87AF","#FF87D7","#FF87FF","#FFAF00","#FFAF5F","#FFAF87","#FFAFAF","#FFAFD7","#FFAFFF","#FFD700","#FFD75F","#FFD787","#FFD7AF","#FFD7D7","#FFD7FF","#FFFF00","#FFFF5F","#FFFF87","#FFFFAF","#FFFFD7","#FFFFFF","#080808","#121212","#1C1C1C","#262626","#303030","#3A3A3A","#444444","#4E4E4E","#585858","#626262","#6C6C6C","#767676","#808080","#8A8A8A","#949494","#9E9E9E","#A8A8A8","#B2B2B2","#BCBCBC","#C6C6C6","#D0D0D0","#DADADA","#E4E4E4","#EEEEEE"]},from_ansi:function(){var color={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white",39:"white"};var background={40:"black",41:"red",42:"green",43:"yellow",44:"blue",45:"magenta",46:"cyan",47:"white",49:"black"};function format_ansi(code){var controls=code.split(";");var num;var faited=false;var reverse=false;var bold=false;var styles=[];var output_color="";var output_background="";var _8bit_color=false;var _8bit_background=false;var process_8bit=false;var palette=$.terminal.ansi_colors.palette;for(var i in controls){num=parseInt(controls[i],10);switch(num){case 1:styles.push("b");bold=true;faited=false;break;case 4:styles.push("u");break;case 3:styles.push("i");break;case 5:process_8bit=true;break;case 38:_8bit_color=true;break;case 48:_8bit_background=true;break;case 2:faited=true;bold=false;break;case 7:reverse=true;break;default:if(_8bit_color&&process_8bit&&palette[num-1]){output_color=palette[num-1]}else if(color[num]){output_color=color[num]}if(_8bit_background&&process_8bit&&palette[num-1]){output_background=palette[num-1]}else if(background[num]){output_background=background[num]}}if(num!==5){process_8bit=false}}if(reverse){if(output_color&&output_background){var tmp=output_background;output_background=output_color;output_color=tmp}else{output_color="black";output_background="white"}}var colors,backgrounds;if(bold){colors=backgrounds=$.terminal.ansi_colors.bold}else if(faited){colors=backgrounds=$.terminal.ansi_colors.faited}else{colors=backgrounds=$.terminal.ansi_colors.normal}return[styles.join(""),_8bit_color?output_color:colors[output_color],_8bit_background?output_background:backgrounds[output_background]]}return function(input){var splitted=input.split(/(\x1B\[[0-9;]*[A-Za-z])/g);if(splitted.length==1){return input}var output=[];if(splitted.length>3&&splitted.slice(0,3).join("")=="[0m"){splitted=splitted.slice(3)}var inside=false,next,prev_color,prev_background,code,match;for(var i=0;i<splitted.length;++i){match=splitted[i].match(/^\x1B\[([0-9;]*)([A-Za-z])$/);if(match){switch(match[2]){case"m":if(match[1]===""){continue}if(match[1]!=="0"){code=format_ansi(match[1])}if(inside){output.push("]");if(match[1]=="0"){inside=false;prev_color=prev_background=""}else{code[1]=code[1]||prev_color;code[2]=code[2]||prev_background;output.push("[["+code.join(";")+"]");if(code[1]){prev_color=code[1]}if(code[2]){prev_background=code[2]}}}else{if(match[1]!="0"){inside=true;output.push("[["+code.join(";")+"]");if(code[1]){prev_color=code[1]}if(code[2]){prev_background=code[2]}}}break}}else{output.push(splitted[i])}}if(inside){output.push("]")}return output.join("")}}(),parseArguments:function(string){return $.map(string.match(command_re)||[],function(arg){if(arg[0]==="'"&&arg[arg.length-1]==="'"){return arg.replace(/^'|'$/g,"");
}else if(arg[0]==='"'&&arg[arg.length-1]==='"'){arg=arg.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1");return arg.replace(/\\\\|\\t|\\n/g,function(string){if(string[1]==="t"){return"	"}else if(string[1]==="n"){return"\n"}else{return"\\"}}).replace(/\\x([0-9a-f]+)/gi,function(_,hex){return String.fromCharCode(parseInt(hex,16))}).replace(/\\0([0-7]+)/g,function(_,oct){return String.fromCharCode(parseInt(oct,8))})}else if(arg.match(/^\/(\\\/|[^\/])+\/[gimy]*$/)){var m=arg.match(/^\/([^\/]+)\/([^\/]*)$/);return new RegExp(m[1],m[2])}else if(arg.match(/^-?[0-9]+$/)){return parseInt(arg,10)}else if(arg.match(/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/)){return parseFloat(arg)}else{return arg.replace(/\\ /g," ")}})},splitArguments:function(string){return $.map(string.match(command_re)||[],function(arg){if(arg[0]==="'"&&arg[arg.length-1]==="'"){return arg.replace(/^'|'$/g,"")}else if(arg[0]==='"'&&arg[arg.length-1]==='"'){return arg.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1")}else if(arg[0]==="/"&&arg[arg.length-1]=="/"){return arg}else{return arg.replace(/\\ /g," ")}})},parseCommand:function(string){return processCommand(string,$.terminal.parseArguments)},splitCommand:function(string){return processCommand(string,$.terminal.splitArguments)},test:function(){var term=$.terminal.active();if(!term){term=$("body").terminal($.noop).css("margin",0);var margin=term.outerHeight()-term.height();var $win=$(window);$win.resize(function(){term.css("height",$(window).height()-20)}).resize()}term.echo("Testing...");function assert(cond,msg){term.echo(msg+" &#91;"+(cond?"[[b;#44D544;]PASS]":"[[b;#FF5555;]FAIL]")+"&#93;")}var string='name "foo bar" baz /^asd [x]/ str\\ str 10 1e10';var cmd=$.terminal.splitCommand(string);assert(cmd.name==="name"&&cmd.args[0]==="foo bar"&&cmd.args[1]==="baz"&&cmd.args[2]==="/^asd [x]/"&&cmd.args[3]==="str str"&&cmd.args[4]==="10"&&cmd.args[5]==="1e10","$.terminal.splitCommand");cmd=$.terminal.parseCommand(string);assert(cmd.name==="name"&&cmd.args[0]==="foo bar"&&cmd.args[1]==="baz"&&$.type(cmd.args[2])==="regexp"&&cmd.args[2].source==="^asd [x]"&&cmd.args[3]==="str str"&&cmd.args[4]===10&&cmd.args[5]===1e10,"$.terminal.parseCommand");string="[2;31;46mFoo[1;3;4;32;45mBar[0m[7mBaz";assert($.terminal.from_ansi(string)==="[[;#640000;#008787]Foo][[biu;#44D544;#F5F]Bar][[;#000;#AAA]Baz]","$.terminal.from_ansi");string="[[biugs;#fff;#000]Foo][[i;;;foo]Bar][[ous;;]Baz]";term.echo("$.terminal.format");assert($.terminal.format(string)==='<span style="font-weight:bold;text-decoration:underline line-through;font-style:italic;color:#fff;text-shadow:0 0 5px #fff;background-color:#000" data-text="Foo">Foo</span><span style="font-style:italic;" class="foo" data-text="Bar">Bar</span><span style="text-decoration:underline line-through overline;" data-text="Baz">Baz</span>',"	formatting");string="http://terminal.jcubic.pl/examples.php https://www.google.com/?q=jquery%20terminal";assert($.terminal.format(string)==='<a target="_blank" href="http://terminal.jcubic.pl/examples.php">http://terminal.jcubic.pl/examples.php</a> <a target="_blank" href="https://www.google.com/?q=jquery%20terminal">https://www.google.com/?q=jquery%20terminal</a>',"	urls");string="foo@bar.com baz.quux@example.com";assert($.terminal.format(string)==='<a href="mailto:foo@bar.com">foo@bar.com</a> <a href="mailto:baz.quux@example.com">baz.quux@example.com</a>',"	emails");string="-_-[[biugs;#fff;#000]Foo]-_-[[i;;;foo]Bar]-_-[[ous;;]Baz]-_-";assert($.terminal.strip(string)==="-_-Foo-_-Bar-_-Baz-_-","$.terminal.strip");string="[[bui;#fff;]Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sed dolor nisl, in suscipit justo. Donec a enim et est porttitor semper at vitae augue. Proin at nulla at dui mattis mattis. Nam a volutpat ante. Aliquam consequat dui eu sem convallis ullamcorper. Nulla suscipit, massa vitae suscipit ornare, tellus] est [[b;;#f00]consequat nunc, quis blandit elit odio eu arcu. Nam a urna nec nisl varius sodales. Mauris iaculis tincidunt orci id commodo. Aliquam] non magna quis [[i;;]tortor malesuada aliquam] eget ut lacus. Nam ut vestibulum est. Praesent volutpat tellus in eros dapibus elementum. Nam laoreet risus non nulla mollis ac luctus [[ub;#fff;]felis dapibus. Pellentesque mattis elementum augue non sollicitudin. Nullam lobortis fermentum elit ac mollis. Nam ac varius risus. Cras faucibus euismod nulla, ac auctor diam rutrum sit amet. Nulla vel odio erat], ac mattis enim.";term.echo("$.terminal.split_equal");var cols=[10,40,60,400];for(var i=cols.length;i--;){var lines=$.terminal.split_equal(string,cols[i]);var success=true;for(var j=0;j<lines.length;++j){if($.terminal.strip(lines[j]).length>cols[i]){success=false;break}}assert(success,"	split "+cols[i])}}};$.fn.visible=function(){return this.css("visibility","visible")};$.fn.hidden=function(){return this.css("visibility","hidden")};var ids={};$.jrpc=function(url,method,params,success,error){ids[url]=ids[url]||0;var request=$.json_stringify({jsonrpc:"2.0",method:method,params:params,id:++ids[url]});return $.ajax({url:url,data:request,success:function(result,status,jqXHR){var content_type=jqXHR.getResponseHeader("Content-Type");if(!content_type.match(/application\/json/)){if(console&&console.warn){console.warn("Response Content-Type is not application/json")}else{throw new Error("WARN: Response Content-Type is not application/json")}}var json;try{json=$.parseJSON(result)}catch(e){if(error){error(jqXHR,"Invalid JSON",e)}else{throw new Error("Invalid JSON")}return}success(json,status,jqXHR)},error:error,contentType:"application/json",dataType:"text",async:true,cache:false,type:"POST"})};function is_scrolled_into_view(elem){var docViewTop=$(window).scrollTop();var docViewBottom=docViewTop+$(window).height();var elemTop=$(elem).offset().top;var elemBottom=elemTop+$(elem).height();return elemBottom>=docViewTop&&elemTop<=docViewBottom}function char_size(){var temp=$('<div class="terminal"><div class="cmd"><span>&nbsp;'+"</span></div></div>").appendTo("body");var span=temp.find("span");var result={width:span.width(),height:span.outerHeight()};temp.remove();return result}function get_num_chars(terminal){var width=char_size().width;var result=Math.floor(terminal.width()/width);if(have_scrollbars(terminal)){var SCROLLBAR_WIDTH=20;var margins=terminal.innerWidth()-terminal.width();result-=Math.ceil((SCROLLBAR_WIDTH-margins/2)/(width-1))}return result}function get_num_rows(terminal){return Math.floor(terminal.height()/char_size().height)}function getSelectedText(){if(window.getSelection||document.getSelection){var selection=(window.getSelection||document.getSelection)();if(selection.text){return selection.text}else{return selection.toString()}}else if(document.selection){return document.selection.createRange().text}}function have_scrollbars(div){return div.get(0).scrollHeight>div.innerHeight()}var version="{{VER}}";var version_set=!version.match(/^\{\{/);var copyright="Copyright (c) 2011-2013 Jakub Jankiewicz <http://jcubic.pl>";var version_string=version_set?" version "+version:" ";var reg=new RegExp(" {"+version_string.length+"}$");var signatures=[["jQuery Terminal","(c) 2011-2013 jcubic"],["jQuery Terminal Emulator"+(version_set?" v. "+version:""),copyright.replace(/ *<.*>/,"")],["jQuery Terminal Emulator"+(version_set?version_string:""),copyright.replace(/^Copyright /,"")],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/ /_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(reg," ")+version_string,copyright],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(reg,"")+version_string,copyright]];$.terminal.defaults={prompt:"> ",history:true,exit:true,clear:true,enabled:true,historySize:60,checkArity:true,exceptionHandler:null,cancelableAjax:true,processArguments:true,linksNoReferrer:false,login:null,outputLimit:-1,onAjaxError:null,onRPCError:null,completion:false,historyFilter:null,onInit:$.noop,onClear:$.noop,onBlur:$.noop,onFocus:$.noop,onTerminalChange:$.noop,onExit:$.noop,keypress:$.noop,keydown:$.noop,strings:{wrongPasswordTryAgain:"Wrong password try again!",wrongPassword:"Wrong password!",ajaxAbortError:"Error while aborting ajax call!",wrongArity:"Wrong number of arguments. Function '%s' expect %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with ignoreSystemDescribe",oneInterpreterFunction:"You can't use more then one function (rpc with "+"ignoreSystemDescribe is count as one)",loginFunctionMissing:"You don't have login function",noTokenError:"Access denied (no token)",serverResponse:"Server reponse is",wrongGreetings:"Wrong value of greetings parameter",notWhileLogin:"You can't call that function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpeter",invalidCompletion:"Invalid completion",login:"login",password:"password"}};var requests=[];var terminals=new Cycle;$.fn.terminal=function(init_interpreter,options){function get_processed_command(command){if(typeof settings.processArguments==="function"){return processCommand(command,settings.processArguments)}else if(settings.processArguments){return $.terminal.parseCommand(command)}else{return $.terminal.splitCommand(command)}}function display_object(object){if(typeof object==="string"){self.echo(object)}else if(object instanceof Array){self.echo($.map(object,function(object){return $.json_stringify(object)}).join(" "))}else if(typeof object==="object"){self.echo($.json_stringify(object))}else{self.echo(object)}}function display_json_rpc_error(error){if(typeof settings.onRPCError==="function"){settings.onRPCError.call(self,error)}else{self.error("&#91;RPC&#93; "+error.message)}}function make_basic_json_rpc_interpreter(url){var service=function(method,params){self.pause();$.jrpc(url,method,params,function(json){if(!json.error){if(typeof settings.processRPCResponse==="function"){settings.processRPCResponse.call(self,json.result)}else{display_object(json.result)}}else{display_json_rpc_error(json.error)}self.resume()},ajax_error)};return function(command,terminal){if(command===""){return}command=get_processed_command(command);if(!settings.login||command.name==="help"){service(command.name,command.args)}else{var token=terminal.token();if(token){service(command.name,[token].concat(command.args))}else{terminal.error("&#91;AUTH&#93; "+strings.noTokenError)}}}}function make_object_interpreter(object,arity,fallback){return function(user_command,terminal){if(user_command===""){return}var command=get_processed_command(user_command);var val=object[command.name];var type=$.type(val);if(type==="function"){if(arity&&val.length!==command.args.length){self.error("&#91;Arity&#93; "+sprintf(strings.wrongArity,command.name,val.length,command.args.length))}else{return val.apply(self,command.args)}}else if(type==="object"||type==="string"){var commands=[];if(type==="object"){commands=Object.keys(val);val=make_object_interpreter(val,arity)}terminal.push(val,{prompt:command.name+"> ",name:command.name,completion:type==="object"?function(term,string,callback){callback(commands)}:undefined})}else{if($.type(fallback)==="function"){fallback(user_command,self)}else if($.type(settings.onCommandNotFound)==="function"){settings.onCommandNotFound(user_command,self)}else{terminal.error(sprintf(strings.commandNotFound,command.name))}}}}function ajax_error(xhr,status,error){self.resume();if(typeof settings.onAjaxError=="function"){settings.onAjaxError.call(self,xhr,status,error)}else if(status!=="abort"){self.error("&#91;AJAX&#93; "+status+" - "+strings.serverResponse+": \n"+xhr.responseText)}}function make_json_rpc_object(url,auth,success){$.jrpc(url,"system.describe",[],function(ret){var commands=[];if(ret.procs){var interpreter_object={};$.each(ret.procs,function(_,proc){interpreter_object[proc.name]=function(){var append=auth&&proc.name!="help";var args=Array.prototype.slice.call(arguments);var args_len=args.length+(append?1:0);if(settings.checkArity&&proc.params&&proc.params.length!==args_len){self.error("&#91;Arity&#93; "+sprintf(strings.wrongArity,proc.name,proc.params.length,args_len))}else{self.pause();if(append){args=[self.token(true)].concat(args)}$.jrpc(url,proc.name,args,function(json){if(json.error){display_json_rpc_error(json.error)}else{display_object(json.result)}self.resume()},ajax_error)}}});success(interpreter_object)}else{success(null)}},function(){success(null)})}function make_interpreter(user_interpreter,auth,finalize){finalize=finalize||$.noop;var type=$.type(user_interpreter);var result={};var commands;var rpc_count=0;var function_interpreter;if(type==="array"){var object={};(function recur(interpreters,success){if(interpreters.length){var first=interpreters[0];var rest=interpreters.slice(1);var type=$.type(first);if(type==="string"){rpc_count++;self.pause();if(settings.ignoreSystemDescribe){if(rpc_count===1){function_interpreter=make_basic_json_rpc_interpreter(first)}else{self.error(strings.oneRPCWithIgnore)}recur(rest,success)}else{make_json_rpc_object(first,auth,function(new_object){if(new_object){$.extend(object,new_object)}self.resume();recur(rest,success)})}}else if(type==="function"){if(function_interpreter){self.error(strings.oneInterpreterFunction)}else{function_interpreter=first}}else if(type==="object"){$.extend(object,first);recur(rest,success)}}else{success()}})(user_interpreter,function(){commands=Object.keys(object);result.interpreter=make_object_interpreter(object,false,function_interpreter);result.completion=function(term,string,callback){callback(commands)};finalize(result)})}else if(type==="string"){if(settings.ignoreSystemDescribe){finalize({interpreter:make_basic_json_rpc_interpreter(user_interpreter),completion:settings.completion})}else{self.pause();make_json_rpc_object(user_interpreter,auth,function(object){if(object){var commands=Object.keys(object);result.interpreter=make_object_interpreter(object,false);result.completion=function(term,string,callback){callback(commands)}}else{result.interpreter=make_basic_json_rpc_interpreter(user_interpreter);result.completion=settings.completion}self.resume();finalize(result)})}}else if(type==="object"){commands=Object.keys(user_interpreter);result.interpreter=make_object_interpreter(user_interpreter,settings.checkArity);result.completion=function(term,string,callback){callback(commands)};finalize(result)}else{if(type==="undefined"){user_interpreter=$.noop}else if(type!=="function"){throw type+" is invalid interpreter value"}finalize({interpreter:user_interpreter,completion:settings.completion})}}function make_json_rpc_login(url,login){var method=$.type(login)==="boolean"?"login":login;return function(user,passwd,callback,term){self.pause();$.jrpc(url,method,[user,passwd],function(response){self.resume();if(!response.error&&response.result){callback(response.result)}else{callback(null)}},ajax_error)}}function exception_message(e){if(typeof e==="string"){return e}else if(typeof e.fileName==="string"){return e.fileName+": "+e.message}else{return e.message}}function display_exception(e,label){if(typeof settings.exceptionHandler=="function"){settings.exceptionHandler.call(self,e)}else{self.exception(e,label)}}function scroll_to_bottom(){var scrollHeight=scroll_object.prop?scroll_object.prop("scrollHeight"):scroll_object.attr("scrollHeight");scroll_object.scrollTop(scrollHeight)}function validate(label,object){try{if(typeof object==="function"){object(function(){})}else if(typeof object!=="string"){var msg=label+" must be string or function";throw msg}}catch(e){display_exception(e,label.toUpperCase());return false}return true}var output_buffer=[];var NEW_LINE=1;function draw_line(string,options){try{var line_settings=$.extend({raw:false,finalize:$.noop},options||{});string=$.type(string)==="function"?string():string;string=$.type(string)==="string"?string:String(string);var i,len;if(!line_settings.raw){string=$.terminal.encode(string)}string=$.terminal.overtyping(string);string=$.terminal.from_ansi(string);output_buffer.push(NEW_LINE);if(!line_settings.raw&&(string.length>num_chars||string.match(/\n/))){var array=$.terminal.split_equal(string,num_chars);for(i=0,len=array.length;i<len;++i){if(array[i]===""||array[i]==="\r"){output_buffer.push("&nbsp;")}else{if(line_settings.raw){output_buffer.push(array[i])}else{output_buffer.push($.terminal.format(array[i],{linksNoReferer:settings.linksNoReferer}))}}}}else{if(!line_settings.raw){string=$.terminal.format(string,{linksNoReferer:settings.linksNoReferer})}output_buffer.push(string)}output_buffer.push(line_settings.finalize)}catch(e){output_buffer=[];alert("[Internal Exception(draw_line)]:"+exception_message(e)+"\n"+e.stack)}}function redraw(){command_line.resize(num_chars);var o=output.empty().detach();var lines_to_show;if(settings.outputLimit>=0){var limit=settings.outputLimit===0?self.rows():settings.outputLimit;lines_to_show=lines.slice(lines.length-limit-1)}else{lines_to_show=lines}$.each(lines_to_show,function(i,line){draw_line.apply(null,line)});command_line.before(o);self.flush()}function show_greetings(){if(settings.greetings===undefined){self.echo(self.signature)}else if(settings.greetings){var type=typeof settings.greetings;if(type==="string"){self.echo(settings.greetings)}else if(type==="function"){settings.greetings.call(self,self.echo)}else{self.error(strings.wrongGreetings)}}}function echo_command(command){command=$.terminal.escape_brackets($.terminal.encode(command,true));var prompt=command_line.prompt();if(command_line.mask()){command=command.replace(/./g,"*")}if(typeof prompt==="function"){prompt(function(string){self.echo(string+command)})}else{self.echo(prompt+command)}}function commands(command,silent,exec){try{if(!ghost()){prev_command=$.terminal.splitCommand(command).name;if(exec&&typeof settings.historyFilter=="function"&&settings.historyFilter(command)||!settings.historyFilter){command_line.history().append(command)}}var interpreter=interpreters.top();if(command==="exit"&&settings.exit){var count=interpreters.size();self.token();if(count==1&&self.token()||count>1){if(!silent){echo_command(command)}self.pop()}}else{if(!silent){echo_command(command)}var position=lines.length-1;if(command==="clear"&&settings.clear){self.clear()}else{var result=interpreter.interpreter(command,self);if(result!==undefined){if(position===lines.length-1){lines.pop();if(result!==false){self.echo(result)}}else{if(result===false){lines=lines.slice(0,position).concat(lines.slice(position+1))}else{lines=lines.slice(0,position).concat([result]).concat(lines.slice(position+1))}}self.resize()}}}}catch(e){display_exception(e,"USER");self.resume();throw e}}function global_logout(){if(typeof settings.onBeforeLogout==="function"){try{if(settings.onBeforeLogout(self)===false){return}}catch(e){display_exception(e,"onBeforeLogout");throw e}}logout();if(typeof settings.onAfterLogout==="function"){try{settings.onAfterLogout(self)}catch(e){display_exception(e,"onAfterlogout");throw e}}self.login(settings.login,true,initialize)}function logout(){var name=self.prefix_name(true)+"_";$.Storage.remove(name+"token");$.Storage.remove(name+"login")}function maybe_append_name(interpreter_name){var storage_key=self.prefix_name()+"_interpreters";var names=$.Storage.get(storage_key);if(names){names=$.parseJSON(names)}else{names=[]}if($.inArray(interpreter_name,names)==-1){names.push(interpreter_name);$.Storage.set(storage_key,$.json_stringify(names))}}function prepare_top_interpreter(silent){var interpreter=interpreters.top();var name=self.prefix_name(true);if(!ghost()){maybe_append_name(name)}command_line.name(name);if(typeof interpreter.prompt=="function"){command_line.prompt(function(command){interpreter.prompt(command,self)})}else{command_line.prompt(interpreter.prompt)}command_line.set("");if(!silent&&typeof interpreter.onStart==="function"){interpreter.onStart(self)}}function initialize(){prepare_top_interpreter();show_greetings();var was_paused=false;if(typeof settings.onInit==="function"){onPause=function(){was_paused=true};try{settings.onInit(self)}catch(e){display_exception(e,"OnInit");throw e}finally{onPause=$.noop;if(!was_paused){self.resume()}}}}function complete_helper(command,string,commands){var test=command_line.get().substring(0,command_line.position());if(test!==command){return}var regex=new RegExp("^"+$.terminal.escape_regex(string));var matched=[];for(var i=commands.length;i--;){if(regex.test(commands[i])){matched.push(commands[i])}}if(matched.length===1){self.insert(matched[0].replace(regex,"")+" ")}else if(matched.length>1){if(tab_count>=2){echo_command(command);self.echo(matched.join("	"));tab_count=0}else{var found=false;var found_index;var j;loop:for(j=string.length;j<matched[0].length;++j){for(i=1;i<matched.length;++i){if(matched[0].charAt(j)!==matched[i].charAt(j)){break loop}}found=true}if(found){self.insert(matched[0].slice(0,j).replace(regex,""))}}}}function ghost(){return in_login||command_line.mask()}function key_down(e){var result,i,top=interpreters.top();if($.type(top.keydown)==="function"){result=top.keydown(e,self);if(result!==undefined){return result}}var completion;if(settings.completion&&$.type(settings.completion)!="boolean"&&!top.completion){completion=settings.completion}else{completion=top.completion}self.oneTime(10,function(){on_scrollbar_show_resize()});if($.type(settings.keydown)==="function"){result=settings.keydown(e,self);if(result!==undefined){return result}}if(!self.paused()){if(e.which!==9){tab_count=0}if(e.which===68&&e.ctrlKey){if(!in_login){if(command_line.get()===""){if(interpreters.size()>1||settings.login!==undefined){self.pop("")}else{self.resume();self.echo("")}}else{self.set_command("")}}return false}else if(e.which===76&&e.ctrlKey){self.clear()}else if(completion&&e.which===9){++tab_count;var command=command_line.get().substring(0,command_line.position());var strings=command.split(" ");var string;if(strings.length==1){string=strings[0]}else{string=strings[strings.length-1];for(i=strings.length-1;i>0;i--){if(strings[i-1][strings[i-1].length-1]=="\\"){string=strings[i-1]+" "+string}else{break}}}switch($.type(completion)){case"function":completion(self,string,function(commands){complete_helper(command,string,commands)});break;case"array":complete_helper(command,string,completion);break;default:throw new Error($.terminal.defaults.strings.invalidCompletion)}return false}else if(e.which===86&&e.ctrlKey){self.oneTime(1,function(){scroll_to_bottom()});return}else if(e.which===9&&e.ctrlKey){if(terminals.length()>1){self.focus(false);return false}}else if(e.which===34){self.scroll(self.height())}else if(e.which===33){self.scroll(-self.height())}else{self.attr({scrollTop:self.attr("scrollHeight")})}}else if(e.which===68&&e.ctrlKey){if(requests.length){for(i=requests.length;i--;){var r=requests[i];if(4!==r.readyState){try{r.abort()}catch(error){self.error(strings.ajaxAbortError)}}}requests=[];self.resume()}return false}}var self=this;if(this.length>1){return this.each(function(){$.fn.terminal.call($(this),init_interpreter,$.extend({name:self.selector},options))})}else{if(self.data("terminal")){return self.data("terminal")}if(self.length===0){throw'Sorry, but terminal said that "'+self.selector+'" is not valid selector!'}var scroll_object;var prev_command;var loged_in=false;var tab_count=0;var lines=[];var output;var terminal_id=terminals.length();var num_chars;var num_rows;var command_list=[];var url;var in_login=false;var onPause=$.noop;var old_width,old_height;var dalyed_commands=[];var settings=$.extend({},$.terminal.defaults,{name:self.selector},options||{});var strings=$.terminal.defaults.strings;var enabled=settings.enabled;var paused=false;$.extend(self,$.omap({clear:function(){output.html("");command_line.set("");lines=[];try{settings.onClear(self)}catch(e){display_exception(e,"onClear");throw e}self.attr({scrollTop:0});return self},export_view:function(){if(in_login){throw new Exception(strings.notWhileLogin)}return{prompt:self.get_prompt(),command:self.get_command(),position:command_line.position(),lines:lines.slice(0)}},import_view:function(view){if(in_login){throw new Exception(strings.notWhileLogin)}self.set_prompt(view.prompt);self.set_command(view.command);command_line.position(view.position);lines=view.lines;redraw();return self},exec:function(command,silent){if(paused){dalyed_commands.push([command,silent])}else{commands(command,silent,true)}return self},login:function(auth,infinite,success,error){if(in_login){throw new Error(strings.notWhileLogin)}if(typeof auth!=="function"){throw new Error(strings.loginIsNotAFunction)}if(self.token(true)&&self.login_name(true)){if(typeof success=="function"){success()}return self}var user=null;if(settings.history){command_line.history().disable()}in_login=true;return self.push(function(user){self.set_mask(true).push(function(pass){try{auth.call(self,user,pass,function(token,silent){if(token){self.pop().pop();if(settings.history){command_line.history().enable()}var name=self.prefix_name(true)+"_";$.Storage.set(name+"token",token);$.Storage.set(name+"login",user);in_login=false;if(typeof success=="function"){success()}}else{if(infinite){if(!silent){self.error(strings.wrongPasswordTryAgain)}self.pop().set_mask(false)}else{in_login=false;if(!silent){self.error(strings.wrongPassword)}self.pop().pop()}if(typeof error=="function"){error()}}})}catch(e){display_exception(e,"USER(authentication)")}},{prompt:strings.password+": "})},{prompt:strings.login+": "})},settings:settings,commands:function(){return interpreters.top().interpreter},setInterpreter:function(user_interpreter,login){function overwrite_interpreter(){self.pause();make_interpreter(user_interpreter,login,function(result){self.resume();var top=interpreters.top();$.extend(top,result);prepare_top_interpreter(true)})}if($.type(user_interpreter)=="string"&&login){self.login(make_json_rpc_login(user_interpreter,login),true,overwrite_interpreter)}else{overwrite_interpreter()}},greetings:function(){show_greetings();return self},paused:function(){return paused},pause:function(){onPause();if(!paused&&command_line){paused=true;self.disable();command_line.hidden()}return self},resume:function(){if(paused&&command_line){paused=false;self.enable();command_line.visible();var original=dalyed_commands;dalyed_commands=[];while(original.length){self.exec.apply(self,original.shift())}scroll_to_bottom()}return self},cols:function(){return num_chars},rows:function(){return num_rows},history:function(){return command_line.history()},next:function(){if(terminals.length()===1){return self}else{var offsetTop=self.offset().top;var height=self.height();var scrollTop=self.scrollTop();if(!is_scrolled_into_view(self)){self.enable();$("html,body").animate({scrollTop:offsetTop-50},500);return self}else{terminals.front().disable();var next=terminals.rotate().enable();var x=next.offset().top-50;$("html,body").animate({scrollTop:x},500);try{settings.onTerminalChange(next)}catch(e){display_exception(e,"onTerminalChange");throw e}return next}}},focus:function(toggle,silent){self.oneTime(1,function(){if(terminals.length()===1){if(toggle===false){try{if(!silent&&settings.onBlur(self)!==false){self.disable()}}catch(e){display_exception(e,"onBlur");throw e}}else{try{if(!silent&&settings.onFocus(self)!==false){self.enable()}}catch(e){display_exception(e,"onFocus");throw e}}}else{if(toggle===false){self.next()}else{var front=terminals.front();if(front!=self){front.disable();if(!silent){try{settings.onTerminalChange(self)}catch(e){display_exception(e,"onTerminalChange");throw e}}}terminals.set(self);self.enable()}}});return self},enable:function(){if(num_chars===undefined){self.resize()}if(command_line){command_line.enable();enabled=true}return self},disable:function(){if(command_line){enabled=false;command_line.disable()}return self},enabled:function(){return enabled},signature:function(){var cols=self.cols();var i=cols<15?null:cols<35?0:cols<55?1:cols<64?2:cols<75?3:4;if(i!==null){return signatures[i].join("\n")+"\n"}else{return""}},version:function(){return version},cmd:function(){return command_line},get_command:function(){return command_line.get()},set_command:function(command){command_line.set(command);return self},insert:function(string){if(typeof string==="string"){command_line.insert(string);return self}else{throw"insert function argument is not a string"}},set_prompt:function(prompt){if(validate("prompt",prompt)){if(typeof prompt=="function"){command_line.prompt(function(command){prompt(command,self)})}else{command_line.prompt(prompt)}interpreters.top().prompt=prompt}return self},get_prompt:function(){return interpreters.top().prompt},set_mask:function(display){command_line.mask(display);return self},get_output:function(raw){if(raw){return lines}else{return $.map(lines,function(item){return typeof item[0]=="function"?item[0]():item[0]}).join("\n")}},resize:function(width,height){if(width&&height){self.width(width);self.height(height)}width=self.width();height=self.height();var new_num_chars=get_num_chars(self);var new_num_rows=get_num_rows(self);if(new_num_chars!==num_chars||new_num_rows!==num_rows){num_chars=new_num_chars;num_rows=new_num_rows;redraw();if(typeof settings.onResize==="function"&&(old_height!==height||old_width!==width)){settings.onResize(self)}if(old_height!==height||old_width!==width){old_height=height;old_width=width}}return self},flush:function(){try{var wrapper;$.each(output_buffer,function(i,line){if(line===NEW_LINE){wrapper=$("<div></div>")}else if(typeof line==="function"){wrapper.appendTo(output);try{line(wrapper)}catch(e){display_exception(e,"USER:echo(finalize)")}}else{$("<div/>").html(line).appendTo(wrapper).width("100%")}});if(settings.outputLimit>=0){var limit=settings.outputLimit===0?self.rows():settings.outputLimit;var $lines=output.find("div div");if($lines.length>limit){var for_remove=$lines.slice(0,lines.length-limit+1);var parents=for_remove.parent();for_remove.remove();parents.each(function(){var self=$(this);if(self.is(":empty")){self.remove()}})}}scroll_to_bottom();output_buffer=[]}catch(e){alert("[Flush] "+exception_message(e)+"\n"+e.stack)}return self},echo:function(string,options){try{string=string||"";var settings=$.extend({flush:true,raw:false,finalize:$.noop},options||{});output_buffer=[];draw_line(string,settings);lines.push([string,settings]);if(settings.flush){self.flush()}on_scrollbar_show_resize()}catch(e){alert("[Terminal.echo] "+exception_message(e)+"\n"+e.stack)}return self},error:function(message,finalize){return self.echo("[[;#f00;]"+$.terminal.escape_brackets(message).replace(/\\$/,"&#92;")+"]",finalize)},exception:function(e,label){var message=exception_message(e);if(label){message="&#91;"+label+"&#93;: "+message}if(message){self.error(message,{finalize:function(div){div.addClass("exception message")}})}if(typeof e.fileName==="string"){self.pause();$.get(e.fileName,function(file){self.resume();var num=e.lineNumber-1;var line=file.split("\n")[num];if(line){self.error("&#91;"+e.lineNumber+"&#93;: "+line)}})}if(e.stack){self.error(e.stack,{finalize:function(div){div.addClass("exception stack-trace")}})}},scroll:function(amount){var pos;amount=Math.round(amount);if(scroll_object.prop){if(amount>scroll_object.prop("scrollTop")&&amount>0){scroll_object.prop("scrollTop",0)}pos=scroll_object.prop("scrollTop");
scroll_object.scrollTop(pos+amount)}else{if(amount>scroll_object.attr("scrollTop")&&amount>0){scroll_object.attr("scrollTop",0)}pos=scroll_object.attr("scrollTop");scroll_object.scrollTop(pos+amount)}return self},logout:settings.login?function(){while(interpreters.size()>1){self.pop()}return self.pop()}:function(){self.error(strings.loginFunctionMissing)},token:settings.login?function(local){return $.Storage.get(self.prefix_name(local)+"_token")}:$.noop,login_name:settings.login?function(local){return $.Storage.get(self.prefix_name(local)+"_login")}:$.noop,name:function(){return interpreters.top().name},prefix_name:function(local){var name=(settings.name?settings.name+"_":"")+terminal_id;if(local&&interpreters.size()>1){name+="_"+interpreters.map(function(intrp){return intrp.name}).slice(1).join("_")}return name},push:function(interpreter,options){options=options||{};options.name=options.name||prev_command;options.prompt=options.prompt||options.name+" ";var top=interpreters.top();if(top){top.mask=command_line.mask()}make_interpreter(interpreter,options.login,function(result){interpreters.push($.extend({},result,options));if(options.login){var type=$.type(options.login);if(type=="function"){self.login(options.login,false,prepare_top_interpreter,self.pop)}else if($.type(interpreter)=="string"&&type=="string"||type=="boolean"){self.login(make_json_rpc_login(interpreter,options.login),false,prepare_top_interpreter,self.pop)}}else{prepare_top_interpreter()}});return self},pop:function(string){if(string!==undefined){echo_command(string)}var token=self.token(true);if(interpreters.size()==1){if(settings.login){global_logout();if($.type(settings.onExit)==="function"){try{settings.onExit(self)}catch(e){display_exception(e,"onExit");throw e}}}else{self.error(strings.canExitError)}}else{if(token){logout()}var current=interpreters.pop();prepare_top_interpreter();if($.type(current.onExit)==="function"){try{current.onExit(self)}catch(e){display_exception(e,"onExit");throw e}}self.set_mask(interpreters.top().mask)}return self},level:function(){return interpreters.size()},reset:function(){self.clear();while(interpreters.size()>1){interpreters.pop()}initialize();return self},purge:function(){var prefix=self.prefix_name()+"_";var names=$.Storage.get(prefix+"interpreters");$.each($.parseJSON(names),function(_,name){$.Storage.remove(name+"_commands");$.Storage.remove(name+"_token");$.Storage.remove(name+"_login")});command_line.purge();$.Storage.remove(prefix+"interpreters");return self},destroy:function(){command_line.destroy().remove();output.remove();$(document).unbind(".terminal");$(window).unbind(".terminal");self.unbind("click, mousewheel");self.removeData("terminal").removeClass("terminal");if(settings.width){self.css("width","")}if(settings.height){self.css("height","")}return self}},function(_,fun){return function(){try{return fun.apply(this,Array.prototype.slice.apply(arguments))}catch(e){if(_!=="exec"&&_!=="resume"){display_exception(e,"TERMINAL")}throw e}}}));var on_scrollbar_show_resize=function(){var scroll_bars=have_scrollbars(self);return function(){if(scroll_bars!==have_scrollbars(self)){self.resize();scroll_bars=have_scrollbars(self)}}}();if(settings.width){self.width(settings.width)}if(settings.height){self.height(settings.height)}if(!navigator.userAgent.toLowerCase().match(/(webkit)[ \/]([\w.]+)/)&&self[0].tagName.toLowerCase()=="body"){scroll_object=$("html")}else{scroll_object=self}$(document).bind("ajaxSend.terminal",function(e,xhr,opt){requests.push(xhr)});output=$("<div>").addClass("terminal-output").appendTo(self);self.addClass("terminal");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch){self.click(function(){self.find("textarea").focus()});self.find("textarea").focus()}if(settings.login&&typeof settings.onBeforeLogin==="function"){try{settings.onBeforeLogin(self)}catch(e){display_exception(e,"onBeforeLogin");throw e}}var auth=settings.login;if(typeof init_interpreter==="string"&&(typeof settings.login==="string"||settings.login)){settings.login=make_json_rpc_login(init_interpreter,settings.login)}terminals.append(self);var interpreters;var command_line;make_interpreter(init_interpreter,auth,function(interpreter){interpreters=new Stack($.extend({name:settings.name,prompt:settings.prompt,greetings:settings.greetings},interpreter));command_line=$("<div/>").appendTo(self).cmd({prompt:settings.prompt,history:settings.history,historyFilter:settings.historyFilter,historySize:settings.historySize,width:"100%",keydown:key_down,keypress:settings.keypress?function(e){return settings.keypress(e,self)}:null,onCommandChange:function(command){if($.type(settings.onCommandChange)==="function"){try{settings.onCommandChange(command,self)}catch(e){display_exception(e,"onCommandChange");throw e}}scroll_to_bottom()},commands:commands});if(enabled){self.focus(undefined,true)}else{self.disable()}$(document).bind("click.terminal",function(e){if(!$(e.target).closest(".terminal").hasClass("terminal")&&settings.onBlur(self)!==false){self.disable()}});self.click(function(e){if(!self.enabled()){self.focus()}}).mousedown(function(e){if(e.which==2){self.insert(getSelectedText())}});if(settings.login){self.login(settings.login,true,initialize)}else{initialize()}if(self.is(":visible")){num_chars=get_num_chars(self);command_line.resize(num_chars);num_rows=get_num_rows(self)}self.oneTime(100,function(){$(window).bind("resize.terminal",function(){if(self.is(":visible")){var width=self.width();var height=self.height();if(old_height!==height||old_width!==width){self.resize()}}})});if($.event.special.mousewheel){var shift=false;$(document).bind("keydown.terminal",function(e){if(e.shiftKey){shift=true}}).bind("keyup.terminal",function(e){if(e.shiftKey||e.which==16){shift=false}});self.mousewheel(function(event,delta){if(!shift){if(delta>0){self.scroll(-40)}else{self.scroll(40)}}})}});self.data("terminal",self);return self}}})(jQuery)},{}],14:[function(require,module,exports){(function(global,factory){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global,true):function(w){if(!w.document){throw new Error("jQuery requires a window with a document")}return factory(w)}}else{factory(global)}})(typeof window!=="undefined"?window:this,function(window,noGlobal){var arr=[];var slice=arr.slice;var concat=arr.concat;var push=arr.push;var indexOf=arr.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var support={};var document=window.document,version="2.1.4",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return num!=null?num<0?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},each:function(callback,args){return jQuery.each(this,callback,args)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(i===length){target=this;i--}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else if(copy!==undefined){target[name]=copy}}}}return target};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:true,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray,isWindow:function(obj){return obj!=null&&obj===obj.window},isNumeric:function(obj){return!jQuery.isArray(obj)&&obj-parseFloat(obj)+1>=0},isPlainObject:function(obj){if(jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}if(obj.constructor&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}return true},isEmptyObject:function(obj){var name;for(name in obj){return false}return true},type:function(obj){if(obj==null){return obj+""}return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code);if(code){if(code.indexOf("use strict")===1){script=document.createElement("script");script.text=code;document.head.appendChild(script).parentNode.removeChild(script)}else{indirect(code)}}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray){for(;i<length;i++){value=callback.apply(obj[i],args);if(value===false){break}}}else{for(i in obj){value=callback.apply(obj[i],args);if(value===false){break}}}}else{if(isArray){for(;i<length;i++){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}else{for(i in obj){value=callback.call(obj[i],i,obj[i]);if(value===false){break}}}}return obj},trim:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArraylike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr)}else{push.call(ret,arr)}}return ret},inArray:function(elem,arr,i){return arr==null?-1:indexOf.call(arr,elem,i)},merge:function(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j]}first.length=i;return first},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i])}}return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},now:Date.now,support:support});jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});function isArraylike(obj){var length="length"in obj&&obj.length,type=jQuery.type(obj);if(type==="function"||jQuery.isWindow(obj)){return false}if(obj.nodeType===1&&length){return true}return type==="array"||length===0||typeof length==="number"&&length>0&&length-1 in obj}var Sizzle=function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=true}return 0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i}}return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,high&1023|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){var j=target.length,i=0;while(target[j++]=els[i++]){}target.length=j-1}}}function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}context=context||document;results=results||[];nodeType=context.nodeType;if(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results}if(!seed&&documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector))){if(m=match[1]){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results}else if((m=match[3])&&support.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results}}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){nid=old=expando;newContext=context;newSelector=nodeType!==1&&selector;if(nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if(old=context.getAttribute("id")){nid=old.replace(rescape,"\\$&")}else{context.setAttribute("id",nid)}nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+toSelector(groups[i])}newContext=rsibling.test(selector)&&testContext(context.parentNode)||context;newSelector=groups.join(",")}if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results}catch(qsaError){}finally{if(!old){context.removeAttribute("id")}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()]}return cache[key+" "]=value}return cache}function markFunction(fn){fn[expando]=true;return fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return false}finally{if(div.parentNode){div.parentNode.removeChild(div)}div=null}}function addHandle(attrs,handler){var arr=attrs.split("|"),i=attrs.length;while(i--){Expr.attrHandle[arr[i]]=handler}}function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff}if(cur){while(cur=cur.nextSibling){if(cur===b){return-1}}}return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[j=matchIndexes[i]]){seed[j]=!(matches[j]=seed[j])}}})})}function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context}support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document}document=doc;docElem=doc.documentElement;parent=doc.defaultView;if(parent&&parent!==parent.top){if(parent.addEventListener){parent.addEventListener("unload",unloadHandler,false)}else if(parent.attachEvent){parent.attachEvent("onunload",unloadHandler)}}documentIsHTML=!isXML(doc);support.attributes=assert(function(div){div.className="i";return!div.getAttribute("className")});support.getElementsByTagName=assert(function(div){div.appendChild(doc.createComment(""));return!div.getElementsByTagName("*").length});support.getElementsByClassName=rnative.test(doc.getElementsByClassName);support.getById=assert(function(div){docElem.appendChild(div).id=expando;return!doc.getElementsByName||!doc.getElementsByName(expando).length});if(support.getById){Expr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}}else{delete Expr.find["ID"];Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId}}}Expr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag)}else if(support.qsa){return context.querySelectorAll(tag)}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while(elem=results[i++]){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results};Expr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(documentIsHTML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[];if(support.qsa=rnative.test(doc.querySelectorAll)){assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a>"+"<select id='"+expando+"-\f]' msallowcapture=''>"+"<option selected=''></option></select>";if(div.querySelectorAll("[msallowcapture^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")")}if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")")}if(!div.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}if(!div.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]")}});assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden");div.appendChild(input).setAttribute("name","D");if(div.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=")}if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:")})}if(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos)})}rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true}}}return false};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0}var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare}compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||!support.sortDetached&&b.compareDocumentPosition(a)===compare){if(a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return-1}if(b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1}return sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0}return compare&4?-1:1}:function(a,b){if(a===b){hasDuplicate=true;return 0}var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0}else if(aup===bup){return siblingCheck(a,b)}cur=a;while(cur=cur.parentNode){ap.unshift(cur)}cur=b;while(cur=cur.parentNode){bp.unshift(cur)}while(ap[i]===bp[i]){i++}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};return doc};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,document,null,[elem]).length>0};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}return contains(context,elem)};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem)}var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while(elem=results[i++]){if(elem===results[i]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}sortInput=null;return results};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while(node=elem[i++]){ret+=getText(node)}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else if(nodeType===3||nodeType===4){return elem.nodeValue}return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0])}match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+(match[7]+match[8]||match[3]==="odd")}else if(match[3]){Sizzle.error(match[0])}return match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null}if(match[3]){match[2]=match[4]||match[5]||""}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}return match.slice(0,3)}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}if(!operator){return true}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false}},CHILD:function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){while(dir){node=elem;while(node=node[dir]){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false}}start=dir=type==="only"&&!start&&"nextSibling"}return true}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){outerCache=parent[expando]||(parent[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if(node.nodeType===1&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns){diff=cache[1]}else{while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){(node[expando]||(node[expando]={}))[type]=[dirruns,diff]}if(node===elem){break}}}}diff-=last;return diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if(elem=unmatched[i]){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang)}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang")){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0}}while((elem=elem.parentNode)&&elem.nodeType===1);return false}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===false},disabled:function(elem){return elem.disabled===true},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return nodeName==="input"&&!!elem.checked||nodeName==="option"&&!!elem.selected},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false}}return true},parent:function(elem){return!Expr.pseudos["empty"](elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},text:function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text")},first:createPositionalPseudo(function(){
return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i)}return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}return matchIndexes})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i)}for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i)}function setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters;tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push(tokens=[])}matched=false;if(match=rcombinators.exec(soFar)){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length)}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length)}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value}return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true}}}}else{while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return newCache[2]=oldCache[2]}else{outerCache[dir]=newCache;if(newCache[2]=matcher(elem,context,xml)){return true}}}}}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false}}return true}:matchers[0]}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if(elem=unmatched[i]){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if(elem=temp[i]){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if(elem=matcherOut[i]){temp.push(matcherIn[i]=elem)}}postFinder(null,matcherOut=[],temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,true),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret}];for(;i<len;i++){if(matcher=Expr.relative[tokens[i].type]){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",outermost),dirrunsUnique=dirruns+=contextBackup==null?1:Math.random()||.1,len=elems.length;if(outermost){outermostContext=context!==document&&context}for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;while(matcher=elementMatchers[j++]){if(matcher(elem,context,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique}}if(bySet){if(elem=!matcher&&elem){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while(matcher=setMatchers[j++]){matcher(unmatched,setMatched,context,xml)}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector)}i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector}return cached};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results}else if(compiled){context=context.parentNode}selector=selector.slice(tokens.shift().value.length)}i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[type=token.type]){break}if(find=Expr.find[type]){if(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context)){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results}break}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context);return results};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1});if(!assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#"})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2)}})}if(!support.attributes||!assert(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")===""})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue}})}if(!assert(function(div){return div.getAttribute("disabled")==null})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}})}return Sizzle}(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext;var rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;var risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not})}if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return elem===qualifier!==not})}if(typeof qualifier==="string"){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not)}qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>=0!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")"}return elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1}))};jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true}}}))}for(i=0;i<len;i++){jQuery.find(selector,self[i],ret)}ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+" "+selector:selector;return ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],false))},not:function(selector){return this.pushStack(winnow(this,selector||[],true))},is:function(selector){return!!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector){return this}if(typeof selector==="string"){if(selector[0]==="<"&&selector[selector.length-1]===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match])}else{this.attr(match,context[match])}}}return this}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return this.constructor(context).find(selector)}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}else if(jQuery.isFunction(selector)){return typeof rootjQuery.ready!=="undefined"?rootjQuery.ready(selector):selector(jQuery)}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.extend({dir:function(elem,dir,until){var matched=[],truncate=until!==undefined;while((elem=elem[dir])&&elem.nodeType!==9){if(elem.nodeType===1){if(truncate&&jQuery(elem).is(until)){break}matched.push(elem)}}return matched},sibling:function(n,elem){var matched=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){matched.push(n)}}return matched}});jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return true}}})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}}}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){if(!elem){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof elem==="string"){return indexOf.call(jQuery(elem),this[0])}return indexOf.call(this,elem.jquery?elem[0]:elem)},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});function sibling(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1){}return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until}if(selector&&typeof selector==="string"){matched=jQuery.filter(selector,matched)}if(this.length>1){if(!guaranteedUnique[name]){jQuery.unique(matched)}if(rparentsprev.test(name)){matched.reverse()}}return this.pushStack(matched)}});var rnotwhite=/\S+/g;var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break}}firing=false;if(list){if(stack){if(stack.length){fire(stack.shift())}}else if(memory){list=[]}else{self.disable()}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg)}}else if(arg&&arg.length&&type!=="string"){add(arg)}})})(arguments);if(firing){firingLength=list.length}else if(memory){firingStart=start;fire(memory)}}return this},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--}if(index<=firingIndex){firingIndex--}}}})}return this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!!(list&&list.length)},empty:function(){list=[];firingLength=0;return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return!list},lock:function(){stack=undefined;if(!memory){self.disable()}return this},locked:function(){return!stack},fireWith:function(context,args){if(list&&(!fired||stack)){args=args||[];args=[context,args.slice?args.slice():args];if(firing){stack.push(args)}else{fire(args)}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return!!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify)}else{newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)}})});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this};deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=length!==1||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else if(!--remaining){deferred.resolveWith(contexts,values)}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues))}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this};jQuery.extend({isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready");jQuery(document).off("ready")}}});function completed(){document.removeEventListener("DOMContentLoaded",completed,false);window.removeEventListener("load",completed,false);jQuery.ready()}jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready)}else{document.addEventListener("DOMContentLoaded",completed,false);window.addEventListener("load",completed,false)}}return readyList.promise(obj)};jQuery.ready.promise();var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){jQuery.access(elems,fn,i,key[i],true,emptyGet,raw)}}else if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true}if(bulk){if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}}if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}}}return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};jQuery.acceptData=function(owner){return owner.nodeType===1||owner.nodeType===9||!+owner.nodeType};function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=jQuery.expando+Data.uid++}Data.uid=1;Data.accepts=jQuery.acceptData;Data.prototype={key:function(owner){if(!Data.accepts(owner)){return 0}var descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock};Object.defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock;jQuery.extend(owner,descriptor)}}if(!this.cache[unlock]){this.cache[unlock]={}}return unlock},set:function(owner,data,value){var prop,unlock=this.key(owner),cache=this.cache[unlock];if(typeof data==="string"){cache[data]=value}else{if(jQuery.isEmptyObject(cache)){jQuery.extend(this.cache[unlock],data)}else{for(prop in data){cache[prop]=data[prop]}}}return cache},get:function(owner,key){var cache=this.cache[this.key(owner)];return key===undefined?cache:cache[key]},access:function(owner,key,value){var stored;if(key===undefined||key&&typeof key==="string"&&value===undefined){stored=this.get(owner,key);return stored!==undefined?stored:this.get(owner,jQuery.camelCase(key))}this.set(owner,key,value);return value!==undefined?value:key},remove:function(owner,key){var i,name,camel,unlock=this.key(owner),cache=this.cache[unlock];if(key===undefined){this.cache[unlock]={}}else{if(jQuery.isArray(key)){name=key.concat(key.map(jQuery.camelCase))}else{camel=jQuery.camelCase(key);if(key in cache){name=[key,camel]}else{name=camel;name=name in cache?[name]:name.match(rnotwhite)||[]}}i=name.length;while(i--){delete cache[name[i]]}}},hasData:function(owner){return!jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard:function(owner){if(owner[this.expando]){delete this.cache[owner[this.expando]]}}};var data_priv=new Data;var data_user=new Data;var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;function dataAttr(elem,key,data){var name;if(data===undefined&&elem.nodeType===1){name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}data_user.set(elem,key,data)}else{data=undefined}}return data}jQuery.extend({hasData:function(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data:function(elem,name,data){return data_user.access(elem,name,data)},removeData:function(elem,name){data_user.remove(elem,name)},_data:function(elem,name,data){return data_priv.access(elem,name,data)},_removeData:function(elem,name){data_priv.remove(elem,name)}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=data_user.get(elem);if(elem.nodeType===1&&!data_priv.get(elem,"hasDataAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}}data_priv.set(elem,"hasDataAttrs",true)}}return data}if(typeof key==="object"){return this.each(function(){data_user.set(this,key)})}return access(this,function(value){var data,camelKey=jQuery.camelCase(key);if(elem&&value===undefined){data=data_user.get(elem,key);if(data!==undefined){return data}data=data_user.get(elem,camelKey);if(data!==undefined){return data}data=dataAttr(elem,camelKey,undefined);if(data!==undefined){return data}return}this.each(function(){var data=data_user.get(this,camelKey);data_user.set(this,camelKey,value);if(key.indexOf("-")!==-1&&data!==undefined){data_user.set(this,key,value)}})},null,value,arguments.length>1,null,true)},removeData:function(key){return this.each(function(){data_user.remove(this,key)})}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=data_priv.get(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=data_priv.access(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}if(fn){if(type==="fx"){queue.unshift("inprogress")}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return data_priv.get(elem,key)||data_priv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(elem,[type+"queue",key])})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!--count){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=data_priv.get(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var cssExpand=["Top","Right","Bottom","Left"];var isHidden=function(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)};var rcheckableType=/^(?:checkbox|radio)$/i;(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio");input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);support.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;function returnTrue(){return true}function returnFalse(){return false}function safeActiveElement(){try{return document.activeElement}catch(err){}}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(!elemData){return}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}if(!(events=elemData.events)){events=elemData.events={}}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined}}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(!elemData||!(events=elemData.events)){return}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){delete elemData.handle;data_priv.remove(elem,"events");
}},trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return}if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem}data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return}if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window)}}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(data_priv.get(cur,"events")||{})[event.type]&&data_priv.get(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&handle.apply&&jQuery.acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault()}}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&jQuery.acceptData(elem)){if(ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp}}}}return event.result},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(data_priv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return}handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.namespace_re||event.namespace_re.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||event.type!=="click")){for(;cur!==this;cur=cur.parentNode||this){if(cur.disabled!==true||event.type!=="click"){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length}if(matches[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,handlers:matches})}}}}if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)})}return handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&button!==undefined){event.which=button&1?1:button&2?3:button&4?2:0}return event}},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}}copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop]}if(!event.target){event.target=document}if(event.target.nodeType===3){event.target=event.target.parentNode}return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input")){this.click();return false}},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.removeEvent=function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===false?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e&&e.preventDefault){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e&&e.stopPropagation){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&e.stopImmediatePropagation){e.stopImmediatePropagation()}this.stopPropagation()}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true)}data_priv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);data_priv.remove(doc,fix)}else{data_priv.access(doc,fix,attaches)}}}})}jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types){this.on(type,selector,data,types[type],one)}return this}if(data==null&&fn==null){fn=selector;data=selector=undefined}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}if(fn===false){fn=returnFalse}else if(!fn){return this}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true)}}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType!==11?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type;return elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1]}else{elem.removeAttribute("type")}return elem}function setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++){data_priv.set(elems[i],"globalEval",!refElements||data_priv.get(refElements[i],"globalEval"))}}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(dest.nodeType!==1){return}if(data_priv.hasData(src)){pdataOld=data_priv.access(src);pdataCur=data_priv.set(dest,pdataOld);events=pdataOld.events;if(events){delete pdataCur.handle;pdataCur.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}}if(data_user.hasData(src)){udataOld=data_user.access(src);udataCur=jQuery.extend({},udataOld);data_user.set(dest,udataCur)}}function getAll(context,tag){var ret=context.getElementsByTagName?context.getElementsByTagName(tag||"*"):context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();if(nodeName==="input"&&rcheckableType.test(src.type)){dest.checked=src.checked}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(true),inPage=jQuery.contains(elem.ownerDocument,elem);if(!support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i])}}if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i])}}else{cloneCopyEvent(elem,clone)}}destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"))}return clone},buildFragment:function(elems,context,scripts,selection){var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem)}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem))}else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild}jQuery.merge(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=""}}}fragment.textContent="";i=0;while(elem=nodes[i++]){if(selection&&jQuery.inArray(elem,selection)!==-1){continue}contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(fragment.appendChild(elem),"script");if(contains){setGlobalEval(tmp)}if(scripts){j=0;while(elem=tmp[j++]){if(rscriptType.test(elem.type||"")){scripts.push(elem)}}}}return fragment},cleanData:function(elems){var data,elem,type,key,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==undefined;i++){if(jQuery.acceptData(elem)){key=elem[data_priv.expando];if(key&&(data=data_priv.cache[key])){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}if(data_priv.cache[key]){delete data_priv.cache[key]}}}delete data_user.cache[elem[data_user.expando]]}}});jQuery.fn.extend({text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=value}})},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this)}})},after:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling)}})},remove:function(selector,keepData){var elem,elems=selector?jQuery.filter(selector,this):this,i=0;for(;(elem=elems[i])!=null;i++){if(!keepData&&elem.nodeType===1){jQuery.cleanData(getAll(elem))}if(elem.parentNode){if(keepData&&jQuery.contains(elem.ownerDocument,elem)){setGlobalEval(getAll(elem,"script"))}elem.parentNode.removeChild(elem)}}return this},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.textContent=""}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&elem.nodeType===1){return elem.innerHTML}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];this.domManip(arguments,function(elem){arg=this.parentNode;jQuery.cleanData(getAll(this));if(arg){arg.replaceChild(elem,this)}});return arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,true)},domManip:function(args,callback){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value)){return this.each(function(index){var self=set.eq(index);if(isFunction){args[0]=value.call(this,index,self.html())}self.domManip(args,callback)})}if(l){fragment=jQuery.buildFragment(args,this[0].ownerDocument,false,this);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}if(first){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"))}}callback.call(this[i],node,i)}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!data_priv.access(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src)}}else{jQuery.globalEval(node.textContent.replace(rcleanScript,""))}}}}}}return this}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);push.apply(ret,elems.get())}return this.pushStack(ret)}});var iframe,elemdisplay={};function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");elem.detach();return display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement);doc=iframe[0].contentDocument;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}elemdisplay[nodeName]=display}return display}var rmargin=/^margin/;var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles=function(elem){if(elem.ownerDocument.defaultView.opener){return elem.ownerDocument.defaultView.getComputedStyle(elem,null)}return window.getComputedStyle(elem,null)};function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);if(computed){ret=computed.getPropertyValue(name)||computed[name]}if(computed){if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret!==undefined?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(conditionFn()){delete this.get;return}return(this.get=hookFn).apply(this,arguments)}}}(function(){var pixelPositionVal,boxSizingReliableVal,docElem=document.documentElement,container=document.createElement("div"),div=document.createElement("div");if(!div.style){return}div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";container.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;"+"position:absolute";container.appendChild(div);function computePixelPositionAndBoxSizingReliable(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;"+"box-sizing:border-box;display:block;margin-top:1%;top:1%;"+"border:1px;padding:1px;width:4px;position:absolute";div.innerHTML="";docElem.appendChild(container);var divStyle=window.getComputedStyle(div,null);pixelPositionVal=divStyle.top!=="1%";boxSizingReliableVal=divStyle.width==="4px";docElem.removeChild(container)}if(window.getComputedStyle){jQuery.extend(support,{pixelPosition:function(){computePixelPositionAndBoxSizingReliable();return pixelPositionVal},boxSizingReliable:function(){if(boxSizingReliableVal==null){computePixelPositionAndBoxSizingReliable()}return boxSizingReliableVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+"box-sizing:content-box;display:block;margin:0;border:0;padding:0";marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";docElem.appendChild(container);ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight);docElem.removeChild(container);div.removeChild(marginDiv);return ret}})}})();jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name]}return ret};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];function vendorPropName(style,name){if(name in style){return name}var capName=name[0].toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name}}return origName}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles)}if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles)}if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}}return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=data_priv.get(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display=""}if(elem.style.display===""&&isHidden(elem)){values[index]=data_priv.access(elem,"olddisplay",defaultDisplay(elem.nodeName))}}else{hidden=isHidden(elem);if(display!=="none"||!hidden){data_priv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}return elements}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number"}if(value==null||value!==value){return}if(type==="number"&&!jQuery.cssNumber[origName]){value+="px"}if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit"}if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){style[name]=value}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra)}if(val===undefined){val=curCSS(elem,name,styles)}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}if(extra===""||extra){num=parseFloat(val);return extra===true||jQuery.isNumeric(num)?num||0:val}return val}});jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&elem.offsetWidth===0?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)}},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles):0)}}});jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed){return jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles)}return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,true)},hide:function(){return showHide(this)},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide()}return this.each(function(){if(isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||unit!=="px"&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3];parts=parts||[];start=+target||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit)}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations)}if(parts){start=tween.start=+start||+target||0;tween.unit=unit;tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]}return tween}]};function createFxNow(){setTimeout(function(){fxNow=undefined});return fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}function createTween(value,prop,animation){var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(tween=collection[index].call(animation,prop,value)){return tween}}}function defaultPrefilter(elem,props,opts){
var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=data_priv.get(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()}})})}if(elem.nodeType===1&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,"display");checkDisplay=display==="none"?data_priv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display;if(checkDisplay==="inline"&&jQuery.css(elem,"float")==="none"){style.display="inline-block"}}if(opts.overflow){style.overflow="hidden";anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true}else{continue}}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else{display=undefined}}if(!jQuery.isEmptyObject(orig)){if(dataShow){if("hidden"in dataShow){hidden=dataShow.hidden}}else{dataShow=data_priv.access(elem,"fxshow",{})}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){var prop;data_priv.remove(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}else if((display==="none"?defaultDisplay(elem.nodeName):display)==="inline"){style.display=display}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped){return false}var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this}stopped=true;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result}}jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.split(" ")}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback)}else{animationPrefilters.push(callback)}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||data_priv.get(this,"finish")){anim.stop(true)}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=data_priv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})},finish:function(type){if(type!==false){type=type||"fx"}return this.each(function(){var index,data=data_priv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true)}for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1)}}for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this)}}delete data.finish})}});jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.timers=[];jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=undefined};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start()}else{jQuery.timers.pop()}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})};(function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox";support.checkOn=input.value!=="";support.optSelected=opt.selected;select.disabled=true;support.optDisabled=!opt.disabled;input=document.createElement("input");input.value="t";input.type="radio";support.radioValue=input.value==="t"})();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}});jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}if(typeof elem.getAttribute===strundefined){return jQuery.prop(elem,name,value)}if(nType!==1||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name)}else if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{elem.setAttribute(name,value+"");return value}}else if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&elem.nodeType===1){while(name=attrNames[i++]){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){elem[propName]=false}elem.removeAttribute(name)}}},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name)}else{elem.setAttribute(name,name)}return name}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=getter(elem,name,isXML)!=null?name.toLowerCase():null;attrHandle[name]=handle}return ret}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}});jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){return hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value}else{return hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null?ret:elem[name]}},propHooks:{tabIndex:{get:function(elem){return elem.hasAttribute("tabindex")||rfocusable.test(elem.nodeName)||elem.href?elem.tabIndex:-1}}}});if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex}return null}}}jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=typeof value==="string"&&value,i=0,len=this.length;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ");if(cur){j=0;while(clazz=classes[j++]){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" "}}finalValue=jQuery.trim(cur);if(elem.className!==finalValue){elem.className=finalValue}}}}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=arguments.length===0||typeof value==="string"&&value,i=0,len=this.length;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}if(proceed){classes=(value||"").match(rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"");if(cur){j=0;while(clazz=classes[j++]){while(cur.indexOf(" "+clazz+" ")>=0){cur=cur.replace(" "+clazz+" "," ")}}finalValue=value?jQuery.trim(cur):"";if(elem.className!==finalValue){elem.className=finalValue}}}}return this},toggleClass:function(value,stateVal){var type=typeof value;if(typeof stateVal==="boolean"&&type==="string"){return stateVal?this.addClass(value):this.removeClass(value)}if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];while(className=classNames[i++]){if(self.hasClass(className)){self.removeClass(className)}else{self.addClass(className)}}}else if(type===strundefined||type==="boolean"){if(this.className){data_priv.set(this,"__className__",this.className)}this.className=this.className||value===false?"":data_priv.get(this,"__className__")||""}})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return true}}return false}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,jQuery(this).val())}else{val=value}if(val==null){val=""}else if(typeof val==="number"){val+=""}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:jQuery.trim(jQuery.text(elem))}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(option.selected=jQuery.inArray(option.value,values)>=0){optionSet=true}}if(!optionSet){elem.selectedIndex=-1}return values}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value}}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now();var rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")};jQuery.parseXML=function(data){var xml,tmp;if(!data||typeof data!=="string"){return null}try{tmp=new DOMParser;xml=tmp.parseFromString(data,"text/xml")}catch(e){xml=undefined}if(!xml||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*"),ajaxLocation=window.location.href,ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while(dataType=dataTypes[i++]){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func)}else{(structure[dataType]=structure[dataType]||[]).push(func)}}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=structure===transports;function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false}else if(seekingTransport){return!(selected=dataTypeOrTransport)}});return selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:deep||(deep={}))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}return target}function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0]in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response}if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType)}prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev}else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2]}else if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1])}break}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}}}return{state:"success",data:response}}jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString)){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match==null?null:match},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]]}}else{jqXHR.always(map[jqXHR.status])}}return this},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText)}done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?"80":"443"))!==(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443"))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}fireGlobals=jQuery.event&&s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data;delete s.data}if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++}}if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL])}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort()}strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return}state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified}modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified}}if(status===204||s.type==="HEAD"){statusText="nocontent"}else if(status===304){statusText="notmodified"}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!--jQuery.active){jQuery.event.trigger("ajaxStop")}}}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}});jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:false,global:false,"throws":true})};jQuery.fn.extend({wrapAll:function(html){var wrap;if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()}});jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add)}})}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value==null?"":value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a)){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();if(window.attachEvent){window.attachEvent("onunload",function(){for(var key in xhrCallbacks){xhrCallbacks[key]()}})}support.cors=!!xhrSupported&&"withCredentials"in xhrSupported;support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(function(options){var callback;if(support.cors||xhrSupported&&!options.crossDomain){return{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i]}}if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType)}
if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}for(i in headers){xhr.setRequestHeader(i,headers[i])}callback=function(type){return function(){if(callback){delete xhrCallbacks[id];callback=xhr.onload=xhr.onerror=null;if(type==="abort"){xhr.abort()}else if(type==="error"){complete(xhr.status,xhr.statusText)}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,typeof xhr.responseText==="string"?{text:xhr.responseText}:undefined,xhr.getAllResponseHeaders())}}}};xhr.onload=callback();xhr.onerror=callback("error");callback=xhrCallbacks[id]=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback){throw e}}},abort:function(){if(callback){callback()}}}}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET"}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({async:true,charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove();callback=null;if(evt){complete(evt.type==="error"?404:200,evt.type)}});document.head.appendChild(script[0])},abort:function(){if(callback){callback()}}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName)}else if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=undefined});return"script"}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||typeof data!=="string"){return null}if(typeof context==="boolean"){keepScripts=context;context=false}context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])]}parsed=jQuery.buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove()}return jQuery.merge([],parsed.childNodes)};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}var selector,type,response,self=this,off=url.indexOf(" ");if(off>=0){selector=jQuery.trim(url.slice(off));url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else if(params&&typeof params==="object"){type="POST"}if(self.length>0){jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])})}return this};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9&&elem.defaultView}jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative"}curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&(curCSSTop+curCSSLeft).indexOf("auto")>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}if(options.top!=null){props.top=options.top-curOffset.top+curTop}if(options.left!=null){props.left=options.left-curOffset.left+curLeft}if("using"in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(!doc){return}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}if(typeof elem.getBoundingClientRect!==strundefined){box=elem.getBoundingClientRect()}win=getWindow(doc);return{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}},position:function(){if(!this[0]){return}var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect()}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset()}parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true)}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||docElem;while(offsetParent&&(!jQuery.nodeName(offsetParent,"html")&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent||docElem})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?win[prop]:elem[method]}if(win){win.scrollTo(!top?val:window.pageXOffset,top?val:window.pageYOffset)}else{elem[method]=val}},method,val,arguments.length,null)}});jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}})});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});jQuery.fn.size=function(){return this.length};jQuery.fn.andSelf=jQuery.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery})}var _jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery};if(typeof noGlobal===strundefined){window.jQuery=window.$=jQuery}return jQuery})},{}],15:[function(require,module,exports){"use strict";function check_type_pair(a,b,type){return typeof a===type&&typeof b===type}exports.interpreter=function(outputHandler,errorHandler,getLine){var self=this;this.outputHandler=outputHandler||function(){};this.errorHandler=errorHandler||function(){};this.getLine=getLine||null;this.builtin_functions={"+":{argc:2,exec:function(a,b){if(!check_type_pair(a,b,"number")&&!check_type_pair(a,b,"string")){self.errorHandler("Error: +: arguments must be numbers or strings");return}return a+b}},"-":{argc:2,exec:function(a,b){if(!check_type_pair(a,b,"number")){self.errorHandler("Error: -: arguments must be numbers");return}return a-b}},"*":{argc:2,exec:function(a,b){if(!check_type_pair(a,b,"number")){self.errorHandler("Error: *: arguments must be numbers");return}return a*b}},"/":{argc:2,exec:function(a,b){if(!check_type_pair(a,b,"number")){self.errorHandler("Error: /: arguments must be numbers");return}return a/b}},"%":{argc:2,exec:function(a,b){if(!check_type_pair(a,b,"number")){self.errorHandler("Error: /: arguments must be numbers");return}return a%b}},"**":{argc:2,exec:function(a,b){if(!check_type_pair(a,b,"number")){self.errorHandler("Error: **: arguments must be numbers");return}return Math.pow(a,b)}},"<":{argc:2,exec:function(a,b){if(!check_type_pair(a,b,"number")&&!check_type_pair(a,b,"string")){self.errorHandler("Error: <: arguments must be numbers or strings");return}return a<b}},">":{argc:2,exec:function(a,b){if(!check_type_pair(a,b,"number")&&!check_type_pair(a,b,"string")){self.errorHandler("Error: >: arguments must be numbers or strings");return}return a>b}},"<=":{argc:2,exec:function(a,b){if(!check_type_pair(a,b,"number")&&!check_type_pair(a,b,"string")){self.errorHandler("Error: <=: arguments must be numbers or strings");return}return a<=b}},">=":{argc:2,exec:function(a,b){if(!check_type_pair(a,b,"number")&&!check_type_pair(a,b,"string")){self.errorHandler("Error: >=: arguments must be numbers or strings");return}return a>=b}},"==":{argc:2,exec:function(a,b){return a===b}},"!=":{argc:2,exec:function(a,b){return a!==b}},"!":{argc:1,exec:function(x){if(typeof x!=="boolean"){self.errorHandler("Error: !: argument must be a boolean")}return!x}},rand:{argc:0,exec:function(){return Math.random()}},print:{argc:1,exec:function(s){self.outputHandler(s)}},inspect:{argc:0,exec:function(){self.outputHandler("Stack: "+JSON.stringify(self.innermost_exec_layer.stack));self.outputHandler("Variables: "+JSON.stringify(self.innermost_exec_layer.variables));self.outputHandler("Module Variables: "+JSON.stringify(self.module_variables))}},exec:{argc:1,exec:function(fn){if(typeof fn!=="object"){self.errorHandler("Error: exec: argument is not a function");return}if(fn.type==="variable"){var value=self.innermost_exec_layer.variables[fn.name];if(typeof value!=="object"){self.errorHandler("Error: exec: variable argument is not a function");return}self.innermost_exec_layer.exec(value)}else if(fn.type==="function"){self.innermost_exec_layer.exec(fn.value)}else{throw new Error("Unrecognised type "+fn.type)}}},"=":{argc:0,exec:function(){if(self.innermost_exec_layer.stack.length<2){self.errorHandler("Error: Not enough arguments for assignment");self.innermost_exec_layer.stack.length=0;return}var args=self.innermost_exec_layer.stack.splice(self.innermost_exec_layer.stack.length-2,2);if(typeof args[0]!=="object"||args[0].type!=="variable"&&args[0].type!=="module_variable"){self.errorHandler("Error: First argument to assignment is not a variable");return}if(typeof args[1]==="object"){if(args[1].type==="variable"){var value=self.innermost_exec_layer.variables[args[1].name];if(value===undefined){self.errorHandler("Error: Cannot assign "+args[0].name+" to undefined variable "+args[1].name);return}args[1]=value}else if(args[1].type==="module_variable"){var value=self.module_variables[args[1].name];if(value===undefined){self.errorHandler("Error: Cannot assign "+args[0].name+" to undefined variable "+args[1].name);return}args[1]=value}else if(args[1].type==="function"){args[1]=args[1].value}else{throw new Error("Unrecognised type "+args[1].type)}}if(args[0].type==="variable"){self.innermost_exec_layer.variables[args[0].name]=args[1]}else if(args[0].type==="module_variable"){self.module_variables[args[0].name]=args[1]}else{throw new Error("Unexpected variable type "+args[0].type)}}},pull:{argc:1,exec:function(n){self.innermost_exec_layer.pull(n)}},dup:{argc:0,exec:function(){var stack=self.innermost_exec_layer.stack;if(stack.length===0){self.errorHandler("Error: dup: nothing in stack to duplicate");return}stack.push(stack[stack.length-1])}},"if":{argc:2,exec:function(fn,condition){if(condition){self.builtin_functions.exec.exec(fn)}}},if_else:{argc:3,exec:function(fn_true,fn_false,condition){self.builtin_functions.exec.exec(condition?fn_true:fn_false)}},readline:{argc:0,exec:function(){if(!self.getLine){self.errorHandler("Error: readline: not available");return}self.tasks_waiting=true;self.getLine(function(line){self.innermost_exec_layer.stack.push(line);self.run_tasks()})}},floor:{argc:1,exec:function(x){if(typeof x!=="number"){self.errorHandler("Error: floor: argument is not a number");return}return Math.floor(x)}},str_to_n:{argc:1,exec:function(x){if(typeof x!=="string"){self.errorHandler("Error: str_to_f: argument is not a string");return}return parseFloat(x)}},ignore:{argc:1,exec:function(x){}},"&&":{argc:2,exec:function(a,b){return a&&b}},"||":{argc:2,exec:function(a,b){return a||b}}};this.module_variables={};this.lp_functions=[];this.constants={"true":true,"false":false};this.handle_string=function(str){for(var i=0;i!=str.length;i++){self.comment_layer.handle_char(str[i])}};this.comment_layer=new function(){var layer=this;this.next_layer=null;this.had_slash=false;this.had_star=false;this.had_escape=false;this.block_depth=0;this.block_has_newline=false;this.handle_char=function(c){layer.mode(c)};this.normal_mode=function(c){if(c==='"'){layer.had_slash=false;layer.mode=layer.string_mode;layer.next_layer.handle_char(c)}else if(layer.had_slash){layer.had_slash=false;if(c==="/"){layer.mode=layer.line_comment_mode}else if(c==="*"){layer.block_depth=1;layer.mode=layer.block_comment_mode}else{layer.next_layer.handle_char("/");layer.next_layer.handle_char(c)}}else{if(c==="/"){layer.had_slash=true}else{layer.next_layer.handle_char(c)}}};this.string_mode=function(c){if(layer.had_escape){layer.had_escape=false}else if(c==="\\"){layer.had_escape=true}else if(c==='"'){layer.mode=layer.normal_mode}layer.next_layer.handle_char(c)};this.line_comment_mode=function(c){if(c==="\n"){layer.mode=layer.normal_mode;layer.next_layer.handle_char("\n")}};this.block_comment_mode=function(c){if(layer.had_slash){layer.had_slash=false;if(c==="*"){layer.block_depth++}else if(c==="\n"){layer.block_has_newline=true}}else if(layer.had_star){layer.had_star=false;if(c==="/"){layer.block_depth--;if(layer.block_depth===0){layer.next_layer.handle_char(layer.block_has_newline?"\n":" ");layer.block_has_newline=false;layer.mode=layer.normal_mode}}else if(c==="\n"){layer.block_has_newline=true}}else{if(c==="/"){layer.had_slash=true}else if(c==="*"){layer.had_star=true}}};this.mode=this.normal_mode};this.word_layer=new function(){var layer=this;this.next_layer=null;this.word="";this.had_escape=false;this.handle_char=function(c){if(layer.word.length>0&&layer.word[0]==='"'){if(layer.had_escape){layer.had_escape=false;layer.word+=c}else{if(c==="\\"){layer.had_escape=true}else{layer.word+=c;if(c==='"'){layer.next_layer.handle_word(layer.word);layer.word=""}}}}else{if(c===" "||c==="\n"||c==="	"||c==="\r"){if(layer.word!==""){var words=[];while(true){if(layer.word[layer.word.length-1]===")"){words.unshift(")");layer.word=layer.word.substr(0,layer.word.length-1)}else if(layer.word.length>=2&&layer.word.substr(layer.word.length-2)===")#"){words.unshift(")#");layer.word=layer.word.substr(0,layer.word.length-2)}else{if(layer.word!==""){words.unshift(layer.word)}break}}for(var i in words){if(self.lpf_regex.test(words[i])){self.errorHandler('Error: Cannot parse word "'+words[i]+'"')}else{layer.next_layer.handle_word(words[i])}}layer.word=""}}else{layer.word+=c;if(layer.word==="("){layer.next_layer.handle_word(layer.word);layer.word=""}}}}};this.comment_layer.next_layer=this.word_layer;this.number_regex=new RegExp("^[-+]?[0-9]*\\.?[0-9]+([eE][-+]?[0-9]+)?$");this.module_variable_regex=new RegExp("^[a-zA-Z_][a-zA-Z0-9_]*@$");this.variable_regex=new RegExp("^[a-zA-Z_][a-zA-Z0-9_]*$");this.lpf_regex=new RegExp("lpf:(0|[1-9][0-9]*)(#?)");this.function_layer=new function(){var layer=this;this.next_layer=null;this.stack=[];this.curr_fn=null;this.handle_word=function(word){if(word==="("){if(layer.curr_fn!==null){layer.stack.push(layer.curr_fn)}layer.curr_fn={words:[],id:"lpf:"+self.lp_functions.length};self.lp_functions.push(layer.curr_fn.words);return}if(layer.curr_fn===null){layer.next_layer.handle_word(word);return}if(word===")"||word===")#"){var lpf_word=layer.curr_fn.id+(word===")#"?"#":"");if(layer.stack.length===0){layer.next_layer.handle_word(lpf_word);layer.curr_fn=null}else{layer.curr_fn=layer.stack.pop();layer.curr_fn.words.push(lpf_word)}return}if(word==="this"||word==="this#"){layer.curr_fn.words.push(layer.curr_fn.id+(word==="this#"?"#":""));return}layer.curr_fn.words.push(word)}};this.word_layer.next_layer=this.function_layer;this.innermost_exec_layer=null;this.tasks=[];this.tasks_waiting=false;this.add_task=function(t,layer){if(!self.tasks_waiting){t()}else{layer.tasks.push(t)}};this.run_tasks=function(){self.tasks_waiting=false;while(!self.tasks_waiting&&self.innermost_exec_layer.tasks.length>0){self.innermost_exec_layer.tasks.shift()()}};this.create_exec_layer=function(){return new function(){var layer=this;this.parent_layer=self.innermost_exec_layer;self.innermost_exec_layer=this;this.stack=[];this.variables={};this.tasks=[];this.add_task=function(task){self.add_task(task,layer)};this.handle_word=function(word){layer.add_task(function(){var lpf_match=self.lpf_regex.exec(word);if(lpf_match!==null){var lpf_words=self.lp_functions[parseInt(lpf_match[1])];if(lpf_match[2]==="#"){layer.stack.push({type:"function",value:{argc:0,exec:function(){self.innermost_exec_layer.exec_lpf(lpf_words)}}})}else{layer.exec_lpf(lpf_words)}}else if(word[word.length-1]==="#"){var sub_word=word.substr(0,word.length-1);if(self.builtin_functions[sub_word]){layer.stack.push({type:"function",value:self.builtin_functions[sub_word]})}else if(layer.variables[sub_word]){layer.stack.push({type:"variable",name:sub_word})}else if(self.module_variables[sub_word]){layer.stack.push({type:"module_variable",name:sub_word})}else{self.errorHandler('Error: No matching symbol for "'+sub_word+'"')}}else if(self.builtin_functions[word]){layer.exec(self.builtin_functions[word])}else if(self.constants.hasOwnProperty(word)){layer.stack.push(self.constants[word])}else if(layer.variables[word]){var variable=layer.variables[word];if(typeof variable==="object"){layer.exec(variable)}else{layer.stack.push({type:"variable",name:word})}}else if(self.module_variables[word]){var variable=self.module_variables[word];if(typeof variable==="object"){layer.exec(variable)}else{layer.stack.push({type:"module_variable",name:word})}}else if(self.number_regex.test(word)){layer.stack.push(parseFloat(word))}else if(word.length>=2&&word[0]==='"'&&word[word.length-1]==='"'){layer.stack.push(word.substr(1,word.length-2))}else if(self.variable_regex.test(word)){layer.stack.push({type:"variable",name:word})}else if(self.module_variable_regex.test(word)){layer.stack.push({type:"module_variable",name:word})}else{self.errorHandler('Error: Cannot parse word "'+word+'"')}})};this.exec=function(fn){if(layer.stack.length<fn.argc){self.errorHandler("Error: Not enough arguments for function ("+layer.stack.length+" < "+fn.argc+")");layer.stack.length=0;return}var args=layer.stack.splice(layer.stack.length-fn.argc,fn.argc);var args_error=false;for(var i in args){args[i]=layer.strip(args[i]);if(args[i]===undefined){args_error=true}}if(args_error){self.errorHandler("Error: Cannot call function due to argument error(s)");return}var ret=fn.exec.apply(null,args);if(ret!==undefined){layer.stack.push(ret)}};this.exec_lpf=function(lpf_words){var sub_exec_layer=self.create_exec_layer();for(var i in lpf_words){sub_exec_layer.handle_word(lpf_words[i])}sub_exec_layer.add_task(function(){for(var i in sub_exec_layer.stack){var stripped=sub_exec_layer.strip(sub_exec_layer.stack[i]);if(stripped!==undefined){layer.stack.push(stripped)}}self.innermost_exec_layer=layer})};this.strip=function(x){if(typeof x==="object"&&x.type==="variable"){var value=layer.variables[x.name];if(value===undefined){self.errorHandler("Error: Cannot strip undefined variable "+x.name);return undefined}if(typeof value==="object"){return{type:"function",value:value}}return value}else if(typeof x==="object"&&x.type==="module_variable"){var value=self.module_variables[x.name];if(value===undefined){self.errorHandler("Error: Cannot strip undefined variable "+x.name);return undefined}if(typeof value==="object"){return{type:"function",value:value}}return value}return x};this.pull=function(n){if(layer.parent_layer===null){self.errorHandler("Error: pull: no parent layer to pull from");return}var pulled_items=layer.parent_layer.stack.splice(layer.parent_layer.stack.length-n,n);for(var i in pulled_items){var stripped=layer.parent_layer.strip(pulled_items[i]);if(stripped!==undefined){layer.stack.push(stripped)}}}}};this.exec_layer=this.create_exec_layer();this.function_layer.next_layer=this.exec_layer}},{}],16:[function(require,module,exports){"use strict";var jQuery=require("jquery");var lp=require("../index");require("./installJqueryTerminal");var InfoOverlay=require("info-overlay");var readmeHtml=require("../../README.md");var ribbon=require("./ribbon.html");jQuery(document).ready(function($){var interpreter=new lp.interpreter;$("body").terminal(function(command,term){interpreter.outputHandler=term.echo;interpreter.errorHandler=term.error;interpreter.handle_string(command+"\n")},{greetings:"",name:"lightpost_terminal",prompt:"> "});var infoOverlay=InfoOverlay();infoOverlay.overlay.innerHTML=readmeHtml;infoOverlay.overlay.appendChild(ribbon());document.body.appendChild(infoOverlay.icon)})},{"../../README.md":1,"../index":15,"./installJqueryTerminal":17,"./ribbon.html":19,"info-overlay":8,jquery:14}],17:[function(require,module,exports){(function(global){"use strict";require("../../node_modules/jquery.terminal/css/jquery.terminal.css");require("./jqueryTerminalCustomization.css");global.jQuery=require("jquery");require("jquery-mousewheel")(global.jQuery);require("jquery.terminal")}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../../node_modules/jquery.terminal/css/jquery.terminal.css":12,"./jqueryTerminalCustomization.css":18,jquery:14,"jquery-mousewheel":11,"jquery.terminal":13}],18:[function(require,module,exports){var css="/* Override the line-height and font-size of these selectors which come from jquery.terminal.css */\n.terminal .terminal-output div div,\n.cmd .prompt,\n.terminal,\n.cmd {\n  line-height: 19px;\n  font-size: 16px;\n}\n";require("./../../node_modules/cssify")(css);module.exports=css},{"./../../node_modules/cssify":2}],19:[function(require,module,exports){"use strict";var parse=function(htmlStr){var container=document.createElement("div");container.innerHTML=htmlStr;if(container.children.length!==1){throw new Error(container.children.length+" nodes in browserified html file ribbon.html (needs to be just 1)")}return container.firstChild};module.exports=function(){return parse("<a href='https://github.com/voltrevo/lightpost'><img style='position: absolute; top: 0; right: 0; border: 0;' src='https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67' alt='Fork me on GitHub' data-canonical-src='https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png'></a>\n"+"")}},{}]},{},[16]);
</script></head><body></body></html>
